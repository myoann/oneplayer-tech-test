{"version":3,"sources":["webpack://Redoc/webpack/universalModuleDefinition","webpack://Redoc/./node_modules/perfect-scrollbar/css/perfect-scrollbar.css","webpack://Redoc/./node_modules/css-loader/dist/runtime/api.js","webpack://Redoc/./node_modules/css-loader/dist/runtime/cssWithMappingToString.js","webpack://Redoc/external \"lunr\"","webpack://Redoc/./src/services/SearchWorker.worker.ts","webpack://Redoc/./node_modules/oas-kit-common/index.js","webpack://Redoc/./node_modules/oas-resolver/index.js","webpack://Redoc/./node_modules/oas-schema-walker/index.js","webpack://Redoc/./node_modules/reftools/lib/clone.js","webpack://Redoc/./node_modules/reftools/lib/dereference.js","webpack://Redoc/./node_modules/reftools/lib/isref.js","webpack://Redoc/./node_modules/reftools/lib/jptr.js","webpack://Redoc/./node_modules/reftools/lib/recurse.js","webpack://Redoc/./node_modules/perfect-scrollbar/css/perfect-scrollbar.css?2fd0","webpack://Redoc/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://Redoc/./node_modules/style-loader/dist/runtime/insertBySelector.js","webpack://Redoc/./node_modules/style-loader/dist/runtime/insertStyleElement.js","webpack://Redoc/./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js","webpack://Redoc/./node_modules/style-loader/dist/runtime/styleDomAPI.js","webpack://Redoc/./node_modules/style-loader/dist/runtime/styleTagTransform.js","webpack://Redoc/./node_modules/swagger2openapi/index.js","webpack://Redoc/./node_modules/swagger2openapi/lib/statusCodes.js","webpack://Redoc/./src/services/SearchWorker.worker.ts?40cf","webpack://Redoc/./node_modules/workerize-loader/dist/rpc-wrapper.js","webpack://Redoc/external \"call-me-maybe\"","webpack://Redoc/external \"fast-safe-stringify\"","webpack://Redoc/external \"fs\"","webpack://Redoc/external \"http\"","webpack://Redoc/external \"path\"","webpack://Redoc/external \"stickyfill\"","webpack://Redoc/external \"undefined\"","webpack://Redoc/external \"url\"","webpack://Redoc/external \"yaml\"","webpack://Redoc/webpack/bootstrap","webpack://Redoc/webpack/runtime/compat get default export","webpack://Redoc/webpack/runtime/define property getters","webpack://Redoc/webpack/runtime/global","webpack://Redoc/webpack/runtime/hasOwnProperty shorthand","webpack://Redoc/webpack/runtime/make namespace object","webpack://Redoc/external \"react\"","webpack://Redoc/external \"polished\"","webpack://Redoc/./src/theme.ts","webpack://Redoc/./src/utils/dom.ts","webpack://Redoc/external \"slugify\"","webpack://Redoc/./src/utils/helpers.ts","webpack://Redoc/./src/services/Labels.ts","webpack://Redoc/./src/services/RedocNormalizedOptions.ts","webpack://Redoc/external \"styled-components\"","webpack://Redoc/./src/styled-components.ts","webpack://Redoc/./src/components/ErrorBoundary.tsx","webpack://Redoc/./src/components/Loading/Spinner.svg.tsx","webpack://Redoc/./src/components/Loading/Loading.tsx","webpack://Redoc/external \"prop-types\"","webpack://Redoc/./src/components/OptionsProvider.ts","webpack://Redoc/external \"mobx\"","webpack://Redoc/external \"@redocly/openapi-core/lib/bundle\"","webpack://Redoc/external \"@redocly/openapi-core/lib/config/config\"","webpack://Redoc/./src/utils/loadAndBundleSpec.ts","webpack://Redoc/external \"decko\"","webpack://Redoc/external \"eventemitter3\"","webpack://Redoc/external \"json-pointer\"","webpack://Redoc/./src/utils/JsonPointer.ts","webpack://Redoc/external \"url-template\"","webpack://Redoc/./src/utils/openapi.ts","webpack://Redoc/external \"prismjs\"","webpack://Redoc/external \"prismjs/components/prism-bash.js\"","webpack://Redoc/external \"prismjs/components/prism-c.js\"","webpack://Redoc/external \"prismjs/components/prism-clike.js\"","webpack://Redoc/external \"prismjs/components/prism-coffeescript.js\"","webpack://Redoc/external \"prismjs/components/prism-cpp.js\"","webpack://Redoc/external \"prismjs/components/prism-csharp.js\"","webpack://Redoc/external \"prismjs/components/prism-go.js\"","webpack://Redoc/external \"prismjs/components/prism-http.js\"","webpack://Redoc/external \"prismjs/components/prism-java.js\"","webpack://Redoc/external \"prismjs/components/prism-lua.js\"","webpack://Redoc/external \"prismjs/components/prism-markup-templating.js\"","webpack://Redoc/external \"prismjs/components/prism-markup.js\"","webpack://Redoc/external \"prismjs/components/prism-objectivec.js\"","webpack://Redoc/external \"prismjs/components/prism-perl.js\"","webpack://Redoc/external \"prismjs/components/prism-php.js\"","webpack://Redoc/external \"prismjs/components/prism-python.js\"","webpack://Redoc/external \"prismjs/components/prism-q.js\"","webpack://Redoc/external \"prismjs/components/prism-ruby.js\"","webpack://Redoc/external \"prismjs/components/prism-scala.js\"","webpack://Redoc/external \"prismjs/components/prism-sql.js\"","webpack://Redoc/external \"prismjs/components/prism-swift.js\"","webpack://Redoc/external \"prismjs/components/prism-yaml.js\"","webpack://Redoc/./src/utils/highlight.ts","webpack://Redoc/./src/utils/decorators.ts","webpack://Redoc/./src/utils/debug.ts","webpack://Redoc/./src/utils/memoize.ts","webpack://Redoc/./src/utils/sort.ts","webpack://Redoc/./src/services/HistoryService.ts","webpack://Redoc/external \"mark.js\"","webpack://Redoc/./src/services/MarkerService.ts","webpack://Redoc/external \"marked\"","webpack://Redoc/./src/services/MarkdownRenderer.ts","webpack://Redoc/./src/services/models/ApiInfo.ts","webpack://Redoc/./src/services/models/SecurityRequirement.ts","webpack://Redoc/./src/services/models/Callback.ts","webpack://Redoc/./src/services/models/Schema.ts","webpack://Redoc/./src/services/models/Example.ts","webpack://Redoc/./src/services/models/Field.ts","webpack://Redoc/external \"openapi-sampler\"","webpack://Redoc/./src/services/models/MediaType.ts","webpack://Redoc/./src/services/models/MediaContent.ts","webpack://Redoc/./src/services/models/RequestBody.ts","webpack://Redoc/./src/services/models/Response.ts","webpack://Redoc/./src/services/models/Operation.ts","webpack://Redoc/./src/services/models/Webhook.ts","webpack://Redoc/./src/services/models/SecuritySchemes.ts","webpack://Redoc/./src/services/OpenAPIParser.ts","webpack://Redoc/./src/services/SpecStore.ts","webpack://Redoc/./src/services/models/Group.model.ts","webpack://Redoc/./src/services/MenuBuilder.ts","webpack://Redoc/./src/services/MenuStore.ts","webpack://Redoc/./src/services/ScrollService.ts","webpack://Redoc/./src/services/SearchStore.ts","webpack://Redoc/./src/common-elements/panels.ts","webpack://Redoc/./src/common-elements/headers.ts","webpack://Redoc/./src/components/StoreBuilder.ts","webpack://Redoc/./src/common-elements/linkify.tsx","webpack://Redoc/./src/common-elements/shelfs.tsx","webpack://Redoc/./src/common-elements/mixins.ts","webpack://Redoc/./src/common-elements/fields-layout.ts","webpack://Redoc/./src/common-elements/schema.ts","webpack://Redoc/external \"@redocly/react-dropdown-aria\"","webpack://Redoc/./src/common-elements/dropdown.ts","webpack://Redoc/external \"react-tabs\"","webpack://Redoc/./src/common-elements/tabs.ts","webpack://Redoc/./src/common-elements/PrismDiv.tsx","webpack://Redoc/./src/common-elements/samples.tsx","webpack://Redoc/external \"perfect-scrollbar\"","webpack://Redoc/./src/common-elements/perfect-scrollbar.tsx","webpack://Redoc/./src/components/DropdownOrLabel/DropdownOrLabel.tsx","webpack://Redoc/external \"dompurify\"","webpack://Redoc/./src/components/Markdown/styled.elements.tsx","webpack://Redoc/./src/components/Markdown/SanitizedMdBlock.tsx","webpack://Redoc/./src/components/Markdown/Markdown.tsx","webpack://Redoc/./src/common-elements/Tooltip.tsx","webpack://Redoc/./src/services/ClipboardService.ts","webpack://Redoc/./src/common-elements/CopyButtonWrapper.tsx","webpack://Redoc/./src/utils/jsonToHtml.ts","webpack://Redoc/./src/components/JsonViewer/style.ts","webpack://Redoc/./src/components/JsonViewer/JsonViewer.tsx","webpack://Redoc/./src/components/SourceCode/SourceCode.tsx","webpack://Redoc/./src/components/PayloadSamples/ExampleValue.tsx","webpack://Redoc/./src/components/PayloadSamples/Example.tsx","webpack://Redoc/./src/components/PayloadSamples/exernalExampleHook.ts","webpack://Redoc/./src/components/PayloadSamples/styled.elements.ts","webpack://Redoc/./src/components/PayloadSamples/MediaTypeSamples.tsx","webpack://Redoc/external \"mobx-react\"","webpack://Redoc/./src/common-elements/fields.ts","webpack://Redoc/./src/components/ExternalDocumentation/ExternalDocumentation.tsx","webpack://Redoc/./src/components/Fields/EnumValues.tsx","webpack://Redoc/./src/components/Fields/Extensions.tsx","webpack://Redoc/./src/components/Fields/Examples.tsx","webpack://Redoc/./src/components/Fields/FieldContstraints.tsx","webpack://Redoc/./src/components/Fields/FieldDetail.tsx","webpack://Redoc/./src/components/Fields/Pattern.tsx","webpack://Redoc/./src/components/Fields/ArrayItemDetails.tsx","webpack://Redoc/./src/components/Fields/FieldDetails.tsx","webpack://Redoc/./src/components/Schema/ArraySchema.tsx","webpack://Redoc/./src/components/Fields/Field.tsx","webpack://Redoc/./src/components/Schema/DiscriminatorDropdown.tsx","webpack://Redoc/./src/components/Schema/ObjectSchema.tsx","webpack://Redoc/./src/components/Schema/OneOfSchema.tsx","webpack://Redoc/./src/components/Schema/Schema.tsx","webpack://Redoc/./src/components/SchemaDefinition/SchemaDefinition.tsx","webpack://Redoc/./src/components/SecuritySchemes/SecuritySchemes.tsx","webpack://Redoc/./src/services/AppStore.ts","webpack://Redoc/./src/components/ApiInfo/styled.elements.ts","webpack://Redoc/./src/components/ApiInfo/ApiInfo.tsx","webpack://Redoc/./src/components/ApiLogo/styled.elements.tsx","webpack://Redoc/./src/components/ApiLogo/ApiLogo.tsx","webpack://Redoc/./src/components/Markdown/AdvancedMarkdown.tsx","webpack://Redoc/external \"classnames\"","webpack://Redoc/./src/components/SideMenu/styled.elements.ts","webpack://Redoc/./src/components/Callbacks/CallbackTitle.tsx","webpack://Redoc/./src/components/Callbacks/styled.elements.ts","webpack://Redoc/./src/components/SelectOnClick/SelectOnClick.tsx","webpack://Redoc/./src/components/Endpoint/styled.elements.ts","webpack://Redoc/./src/components/Endpoint/Endpoint.tsx","webpack://Redoc/./src/components/Parameters/ParametersGroup.tsx","webpack://Redoc/./src/components/MediaTypeSwitch/MediaTypesSwitch.tsx","webpack://Redoc/./src/components/Parameters/Parameters.tsx","webpack://Redoc/./src/components/Responses/ResponseTitle.tsx","webpack://Redoc/./src/components/Responses/styled.elements.ts","webpack://Redoc/./src/components/Responses/ResponseHeaders.tsx","webpack://Redoc/./src/components/Responses/ResponseDetails.tsx","webpack://Redoc/./src/components/Responses/Response.tsx","webpack://Redoc/./src/components/Responses/ResponsesList.tsx","webpack://Redoc/./src/components/SecurityRequirement/SecurityRequirement.tsx","webpack://Redoc/./src/components/Callbacks/CallbackDetails.tsx","webpack://Redoc/./src/components/Callbacks/CallbackOperation.tsx","webpack://Redoc/./src/components/Callbacks/CallbacksList.tsx","webpack://Redoc/./src/components/GenericChildrenSwitcher/GenericChildrenSwitcher.tsx","webpack://Redoc/./src/components/PayloadSamples/PayloadSamples.tsx","webpack://Redoc/./src/components/CallbackSamples/CallbackReqSamples.tsx","webpack://Redoc/./src/components/CallbackSamples/CallbackSamples.tsx","webpack://Redoc/./src/components/RequestSamples/RequestSamples.tsx","webpack://Redoc/./src/components/ResponseSamples/ResponseSamples.tsx","webpack://Redoc/./src/components/Operation/Operation.tsx","webpack://Redoc/./src/components/ContentItems/ContentItems.tsx","webpack://Redoc/./src/components/SideMenu/MenuItem.tsx","webpack://Redoc/./src/components/SideMenu/MenuItems.tsx","webpack://Redoc/./src/components/SideMenu/SideMenu.tsx","webpack://Redoc/./src/components/StickySidebar/ChevronSvg.tsx","webpack://Redoc/./src/components/StickySidebar/StickyResponsiveSidebar.tsx","webpack://Redoc/./src/components/Redoc/styled.elements.tsx","webpack://Redoc/./src/components/SearchBox/styled.elements.tsx","webpack://Redoc/./src/components/SearchBox/SearchBox.tsx","webpack://Redoc/./src/components/Redoc/Redoc.tsx","webpack://Redoc/./src/components/RedocStandalone.tsx"],"names":["root","factory","exports","module","define","amd","this","___CSS_LOADER_EXPORT___","push","id","cssWithMappingToString","list","toString","map","item","content","concat","join","i","modules","mediaQuery","dedupe","alreadyImportedModules","length","_i","_arrayLikeToArray","arr","len","arr2","Array","_item","isArray","_arrayWithHoles","Symbol","iterator","_s","_e","_arr","_n","_d","call","next","done","value","err","_iterableToArrayLimit","o","minLen","n","Object","prototype","slice","constructor","name","from","test","_unsupportedIterableToArray","TypeError","_nonIterableRest","cssMapping","btoa","base64","unescape","encodeURIComponent","JSON","stringify","data","sourceMapping","sourceURLs","sources","source","sourceRoot","require","Worker","add","search","toJS","load","dispose","fromExternalJS","builder","resolveIndex","index","store","initEmpty","field","ref","pipeline","Promise","resolve","title","description","meta","toLowerCase","build","toJSON","path","exportName","importScripts","self","Error","e","console","error","message","state","q","limit","trim","searchResults","query","t","split","forEach","term","exp","expandTerm","res","score","sjs","colour","NODE_DISABLE_COLORS","red","yellow","green","normal","deepEquals","obj1","obj2","_equals","assign","sanitise","s","components","replace","String","toCamelCase","match","group1","toUpperCase","uniqueOnly","indexOf","hasDuplicates","array","Set","size","allSame","distinctArray","result","candidate","find","a","compressArray","firstDupe","hash","chr","charCodeAt","parameterTypeProperties","arrayProperties","httpMethods","sanitiseAll","fs","url","fetch","yaml","jptr","recurse","clone","deRef","isRef","common","resolveAllFragment","obj","context","src","parentPath","base","options","attachPoint","externalRefs","paths","baseUrl","parse","seen","changes","identityDetection","key","startsWith","$fixed","newRef","parent","pkey","$ref","verbose","warn","target","fatal","ex","promise","reject","protocol","failed","filterData","filters","filter","resolveExternal","pointer","callback","u","pop","fragment","fnComponents","effectiveProtocol","input","backup","cache","externalRef","handlers","then","catch","fetchOptions","agent","status","ignoreIOErrors","text","schema","prettyErrors","def","filename","encoding","readFile","readFileAsync","findExternalRefs","rej","inner","$extra","refs","potential","keys","resolved","extras","rewriteRefs","resolvedAt","resolver","depth","openapi","definitions","scanExternalRefs","actions","external","original","updated","externals","localOptions","patch","pointers","sort","b","aComp","bComp","ptr","cdata","loopReferences","funcs","reduce","func","bind","setTimeout","resolveInternal","preserveMiro","setupOptions","srcUrl","optionalResolve","getDefaultState","WeakMap","top","combine","allowRefSiblings","walkSchema","temp","allOf","anyOf","oneOf","has","set","items","property","additionalItems","additionalProperties","properties","prop","subSchema","patternProperties","not","nop","shallowClone","p","hasOwnProperty","deepClone","fastClone","circularClone","Function","get","create","getPrototypeOf","dereference","container","defs","master","logger","args","arguments","apply","getLogger","entry","jpunescape","newValue","parts","decodeURIComponent","setAndLast","parseInt","isNaN","jpescape","object","payload","identity","oPath","identityPath","newState","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","undefined","stylesInDOM","getIndexByIdentifier","identifier","modulesToDom","idCountMap","identifiers","count","indexByIdentifier","css","media","sourceMap","supports","layer","references","updater","addElementStyle","byIndex","splice","api","update","newObj","remove","lastIdentifiers","newList","newLastIdentifiers","_index","memo","style","styleTarget","document","querySelector","window","HTMLIFrameElement","contentDocument","head","getTarget","appendChild","element","createElement","attributes","styleElement","nonce","setAttribute","needLayer","parentNode","removeChild","removeStyleElement","styleSheet","cssText","firstChild","createTextNode","maybe","cclone","sw","statusCodes","ourVersion","targetVersion","componentNames","S2OError","super","throwError","throwOrWarn","warnOnly","warnProperty","fixUpSchema","required","nullable","propertyName","discriminator","mapping","schemaOrRef","fixUpSubSchemaExtensions","patches","type","newSchema","format","xml","namespace","allowEmptyValue","fixUpSubSchema","fixupRefs","consumes","produces","newKey","schemas","refmap","oldRef","schemaIndex","lastIndexOf","prefix","substr","suffix","refSuffix","tmpRef","inSchema","refSiblings","processSecurity","securityObject","k","sname","processSecurityScheme","scheme","flow","flowName","authorizationUrl","tokenUrl","scopes","flows","keepParameters","processHeader","header","collectionFormat","explode","fixParamRef","param","refComponents","processParameter","op","method","originalType","singularRequestBody","rbody","parameters","newParam","in","deprecated","example","oldCollectionFormat","allowReserved","contentType","default","copyExtensions","operationId","rbname","mimetype","requestBody","newOp","attachRequestBody","tgt","processResponse","response","examples","headers","h","processPaths","containerName","requestBodyCache","trace","summary","servers","debug","security","responses","defaultResp","r","schemes","server","newServer","serverUrl","se","rh","body","ct","effectiveOperationId","rbName","rbStr","rbHash","p2","extractServerParameters","variables","fixInfo","info","version","logo","termsOfService","URL","fixPaths","convertObj","swagger","WeakSet","anchors","detectObjectReferences","direct","origin","converter","host","basePath","xMsPHost","hostTemplate","paramNames","msp","enum","useSchemePrefix","callbacks","links","requestBodies","securitySchemes","securityDefinitions","dedupeRefs","rb","rbNamesGenerated","counter","main","convertStr","str","sourceYaml","convert","convertUrl","convertFile","sourceFile","convertStream","readable","on","chunk","http","STATUS_CODES","addMethods","methods","w","createObjectURL","Blob","worker","c","addEventListener","d","f","evt","createEvent","initEvent","params","dispatchEvent","_arguments","postMessage","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","__esModule","definition","defineProperty","enumerable","g","globalThis","toStringTag","defaultTheme","spacing","unit","sectionHorizontal","sectionVertical","breakpoints","small","medium","large","colors","tonalOffset","primary","light","lighten","dark","darken","contrastText","readableColor","success","warning","gray","50","100","secondary","border","color","backgroundColor","transparentize","tabTextColor","redirect","post","put","delete","basic","link","linesColor","theme","desaturate","defaultDetailsWidth","typeNameColor","typeTitleColor","requireLabelColor","labelsTextSize","nestingSpacing","nestedBackground","arrow","typography","fontSize","lineHeight","fontWeightRegular","fontWeightBold","fontWeightLight","fontFamily","smoothing","optimizeSpeed","headings","fontWeight","code","wrap","visited","hover","sidebar","width","textColor","activeTextColor","groupItems","textTransform","level1Items","maxHeight","maxWidth","gutter","rightPanel","codeBlock","fab","IS_BROWSER","selector","html2Str","html","trimmedChunk","scrollIntoViewIfNeeded","el","centerIfNeeded","parentComputedStyle","getComputedStyle","parentBorderTopWidth","getPropertyValue","parentBorderLeftWidth","overTop","offsetTop","scrollTop","overBottom","clientHeight","overLeft","offsetLeft","scrollLeft","overRight","clientWidth","alignWithTop","scrollIntoView","mapWithLast","iteratee","mapValues","flattenByProp","collectionItems","iterate","stripTrailingSlash","endsWith","substring","isNumeric","parseFloat","isFinite","appendToMdHeading","md","heading","testRegex","RegExp","replaceRegex","br","mergeObjects","shift","isMergebleObject","isObject","safeSlugify","isAbsoluteUrl","resolveUrl","to","specProtocol","urlObj","pathname","getBasePath","parseURL","titleize","charAt","removeQueryString","unescapeHTMLChars","_m","fromCharCode","labels","enumSingleValue","enumArray","recursive","arrayOf","webhook","const","noResultsFound","download","downloadSpecification","callbackResponses","requestSamples","responseSamples","l","idx","label","SideNavStyleEnum","argValueToBoolean","val","defaultValue","argValueToNumber","RedocNormalizedOptions","bottom","getBoundingClientRect","ext","Math","max","level","Number","ceil","raw","defaults","hook","extensionsHook","_labels","menu","codeSample","resolvedValues","setProxy","currentPath","resolveTheme","scrollYOffset","normalizeScrollYOffset","hideHostname","normalizeHideHostname","expandResponses","normalizeExpandResponses","requiredPropsFirst","sortPropsAlphabetically","sortEnumValuesAlphabetically","sortOperationsAlphabetically","sortTagsAlphabetically","noAutoAuth","nativeScrollbars","pathInMiddlePanel","untrustedSpec","hideDownloadButton","disableSearch","onlyRequiredInSamples","showExtensions","normalizeShowExtensions","sideNavStyle","normalizeSideNavStyle","hideSingleRequestSampleTab","menuToggle","jsonSampleExpandLevel","normalizeJsonSampleExpandLevel","enumSkipQuotes","hideSchemaTitles","simpleOneOfTypeLabel","payloadSampleIdx","normalizePayloadSampleIdx","expandSingleSchemaField","schemaExpansionLevel","Infinity","argValueToExpandLevel","showObjectSchemaExamples","unstable_ignoreMimeParameters","allowedMdComponents","expandDefaultServerVariables","maxDisplayedEnumValues","ignoreNamedSchemas","hideSchemaPattern","generatedPayloadSamplesMaxDepth","normalizeGeneratedPayloadSamplesMaxDepth","hideFab","styled","createGlobalStyle","keyframes","ThemeProvider","lessThan","breakpoint","print","extra","props","greaterThan","between","firstBreakpoint","secondBreakpoint","styledName","ErrorWrapper","ErrorBoundary","setState","stack","children","rotate","Spinner","className","height","viewBox","LoadingMessage","Loading","textAlign","OptionsContext","OptionsProvider","Provider","OptionsConsumer","Consumer","specUrlOrObject","config","Config","bundleOpts","location","href","process","cwd","customFetch","absoluteRef","parsed","bundle","convertSwagger2OpenAPI","spec","origParse","JsonPointer","tokens","fromTokens","resTokens","isWildcardStatusCode","statusCode","isStatusCode","getStatusCodeType","defaultAsError","operationNames","isOperationName","getOperationSummary","operation","pathName","schemaKeywordTypes","multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","contentEncoding","contentMediaType","maxItems","minItems","uniqueItems","maxProperties","minProperties","detectType","keywords","keyword","isPrimitiveType","isPrimitive","includes","isJsonLike","isFormUrlEncoded","delimitedEncodeField","fieldVal","fieldName","delimiter","v","deepObjectEncodeField","serializeFormValue","safeName","expand","urlFormEncodePayload","serializeParameterValueWithMime","mime","serializeParameterValue","parameter","serializationMime","serializePathParameter","serializeQueryParameter","template","serializeHeaderParameter","serializeCookieParameter","getSerializedValue","langFromMime","DEFINITION_NAME_REGEX","isNamedDefinition","getDefinitionName","reverse","humanizeRangeConstraint","min","stringRange","humanizeNumberRange","humanizeConstraints","arrayRange","multipleOfConstraint","strigifiedMultipleOf","humanizeMultipleOfConstraint","numberRange","sortByRequired","fields","order","unrequiredFields","orderedFields","unorderedFields","sortByField","localeCompare","mergeParams","parser","pathParams","operationParams","operationParamNames","shallowDeref","mergeSimilarMediaTypes","types","mergedTypes","normalizedMimeName","normalizeServers","specUrl","dirname","getHref","SECURITY_DEFINITIONS_COMPONENT_NAME","SECURITY_DEFINITIONS_JSX_NAME","SCHEMA_DEFINITION_JSX_NAME","SECURITY_SCHEMES_SECTION_PREFIX","setSecuritySchemePrefix","shortenHTTPVerb","verb","isRedocExtension","extractExtensions","acc","pluralizeType","displayType","getContentWithLegacyExamples","mediaContent","xExamples","xExample","mapLang","lang","json","shell","viml","highlight","DEFAULT_LANG","grammar","Throttle","delay","_","_2","desc","wait","timeout","previous","later","Date","getTime","now","remaining","clearTimeout","throttle","debugTime","debugTimeEnd","lookbehind","SENTINEL","memoize","descriptor","memoizedName","_memoizeMethod","_memoizeGetter","alphabeticallyByProp","sortOrder","EVENT","HistoryService","emit","_emiter","currentId","EventEmitter","cb","emmiter","addListener","removeListener","removeEventListener","rewriteHistory","history","replaceState","linkForId","pushState","debounce","MarkerService","Map","prevTerm","elements","inst","elem","unmark","clear","mark","renderer","marked","LEGACY_REGEXP","MDX_COMPONENT_REGEXP","COMPONENT_REGEXP","buildComponentComment","MarkdownRenderer","headingRule","slugger","currentTopHeading","saveHeading","originalHeadingRule","headingEnhanceRenderer","rawText","componentName","headingLinePos","parentId","flattenHeadings","buildRegexp","flatHeadings","prevHeading","prevRegexp","prevPos","regexp","currentPos","extractHeadings","opts","renderMd","attachHeadingsDescriptions","names","componentsRegexp","htmlParts","componentDefs","exec","lasxtIdx","lastIndex","componentMeta","component","propsSelector","parseProps","htmlPart","regex","ApiInfoModel","firstHeadingLinePos","downloadLink","getDownloadLink","downloadFileName","getDownloadFileName","blob","SecurityRequirementModel","requirement","deref","displayName","sectionId","CallbackModel","infoOrRef","expanded","operations","makeObservable","exitRef","operationName","operationInfo","OperationModel","compile","httpVerb","pathParameters","pathServers","observable","action","isChild","typePrefix","isCircular","activeOneOf","rawSchema","mergeAllOf","init","exitParents","extensions","baseName","externalDocs","constraints","displayFormat","readOnly","writeOnly","some","getDiscriminator","initOneOf","oneOfType","hasType","additionalProps","FieldModel","kind","buildFields","filteredType","initDiscriminator","variant","derefVariant","merged","uniqueTypes","crawl","values","collectUniqueOneOfTypesDeep","discriminatorProp","implicitInversedMapping","findDerived","parentRefs","isLimitedToMapping","explicitInversedMapping","inversedMapping","left","right","indexLeft","indexRight","innerSchema","byRef","externalExamplesCache","ExampleModel","externalValue","externalValueUrl","mimeType","txt","ok","DEFAULT_SERIALIZATION","cookie","fieldSchema","SchemaModel","MediaTypeModel","isRequestType","generateExample","samplerOptions","skipReadOnly","skipWriteOnly","skipNonRequired","maxSampleDepth","sample","MediaContentModel","activeMimeIdx","mediaTypes","resetVisited","computed","RequestBodyModel","isEvent","isRequest","ResponseModel","isPayloadSample","requestBodyContent","isCodeSamplesWarningPrinted","operationSpec","isCallback","ready","active","isWebhook","sidebarLabel","PathOnly","samples","hasSample","insertInx","_parameters","paramOrRef","hasSuccessResponses","callbackEventName","WebhookModel","webhooks","initWebhooks","webhookName","resolvedWebhook","SecuritySchemeModel","apiKey","bearerFormat","openId","connectUrl","openIdConnectUrl","SecuritySchemesModel","RefCounter","_counter","OpenAPIParser","_refCounter","allowMergeRefs","validate","preprocess","containsComponent","comment","exit","forceCircular","mergeAsAllOf","schemaName","visit","mergeRefs","rest","used$Refs","hoistOneOfs","receiver","allOfSchemas","subRef","subMerged","child","subSchemaRef","mergedProp","$refs","defName","shema","parent$ref","sub","beforeAllOf","afterAllOf","part","SpecStore","contentItems","MenuBuilder","buildStructure","webhookPath","GroupModel","tagOrGroup","getTextBeforeHading","GROUP_DEPTH","tagsMap","getTagsWithOperations","addMarkdownItems","getTagGroupsItems","getTagsItems","initialDepth","mapHeadingsDeep","_parent","group","groups","tags","tagNames","tagName","used","tag","getOperationsItems","resolvedPaths","getTags","operationTags","SECTION_ATTR","MenuStore","scroll","activeItemIdx","sideBarOpened","updateOnScroll","isScrolledDown","step","itemIdx","flatItems","getElementAtOrFirstChild","isElementBellow","getElementAt","isElementAbove","activate","updateOnHistory","activateAndScroll","scrollIntoViewBySelector","getItemById","absoluteIdx","subscribe","_unsubscribe","_hashUnsubscribe","updateLocation","activeItem","deactivate","collapse","menuItem","scrollToActive","closeSidebar","ScrollService","_prevOffsetY","_scrollParent","scrollY","handleScroll","removeAllListeners","HTMLElement","pageYOffset","floor","scrollBy","SearchStore","searchWorker","getWorker","terminate","compact","Section","underlined","RightPanel","DarkRightPanel","Row","headerFontSize","1","2","3","headerCommonMixin","H1","H2","RightPanelHeader","UnderlinedHeader","StoreContext","createContext","StoreBuilder","onLoaded","resolvedSpec","setResolvedSpec","loadAndBundleSpec","AppStore","loading","linkifyMixin","Link","clickHandler","event","defaultPrevented","button","metaKey","altKey","ctrlKey","shiftKey","isModifiedEvent","preventDefault","onClick","aria-label","StyledShareLink","ShareLink","directionMap","up","down","IntShelfIcon","x","xmlns","y","aria-hidden","points","ShelfIcon","float","direction","Badge","deprecatedCss","PropertiesTableCaption","PropertyCell","PropertyCellWithInner","PropertyNameCell","PropertyDetailsCell","PropertyBullet","InnerPropertiesWrap","PropertiesTable","OneOfList","OneOfLabel","OneOfButton","ArrayOpenningLabel","ArrayClosingLabel","StyledDropdown","SimpleDropdown","MimeLabel","Tabs","PrismDiv","SampleControls","SampleControlsWrap","StyledPre","withComponent","PerfectScrollbarConstructor","psStyles","PSStyling","StyledScrollWrapper","PerfectScrollbar","handleRef","_container","offset","parentElement","scrollTo","destroy","updateFn","componentDidUpdate","PerfectScrollbarWrap","overflow","overscrollBehavior","msOverflowStyle","DropdownOrLabel","Label","Dropdown","searchable","linksCss","StyledMarkdownBlock","inline","StyledMarkdownSpan","SanitizedMarkdownHTML","Wrap","dangerouslySetInnerHTML","__html","data-role","Markdown","dataRole","Wrapper","Tip","Content","Arrow","Gap","Tooltip","open","isSupported","queryCommandSupported","ClipboardService","range","selection","createTextRange","moveToElementText","select","createRange","getSelection","selectNodeContents","removeAllRanges","addRange","empty","execCommand","selectElement","copySelected","deselect","textArea","position","padding","outline","boxShadow","background","CopyButtonWrapper","copy","showTooltip","renderCopyButton","tooltipShown","jsonToHTML","maxExpandLevel","output","valueToHTML","htmlEncode","stringifyStringLiteral","decorateWithSpan","punctuation","valueType","collapsed","hasContents","arrayToHTML","toISOString","objectToHTML","encodeURI","jsonStyles","JsonViewerWrap","Json","renderInner","expandAll","collapseAll","node","getElementsByClassName","classList","elementsArr","collapseElement","contains","clickListener","focusListener","JsonViewer","SourceCode","SourceCodeWithCopy","ExampleValue","Example","ExternalExample","setIsLoading","useState","useRef","prevRef","current","useEffect","getExternalValue","useExternalExample","rel","DropdownLabel","DropdownWrapper","InvertedSimpleDropdown","NoSampleLabel","MediaTypeSamples","activeIdx","switchMedia","mediaType","noSample","examplesNames","SamplesWrapper","renderDropdown","onChange","ariaLabel","ClickablePropertyNameCell","FieldLabel","TypePrefix","TypeName","TypeTitle","TypeFormat","RequiredLabel","RecursiveLabel","PatternLabel","ExtensionValue","ConstraintItem","ToggleButton","LinkWrap","observer","EnumValues","isArrayType","displayedItems","showToggleButton","toggleButtonText","exampleValue","toggle","contextType","Extension","Extensions","exts","Examples","ExamplesList","ConstraintsView","constraint","FieldDetail","stringifyValue","Pattern","isPatternShown","setIsPatternShown","togglePattern","ArrayItemDetails","FieldDetails","showExamples","renderDiscriminatorSwitch","_in","_const","rawDefault","renderedExamples","Boolean","ExternalDocumentation","PaddedSchema","ArraySchema","itemsSchema","minMaxItems","Schema","expandByDefault","handleKeyPress","isLast","withSubSchema","paramName","onKeyPress","colSpan","showTitle","changeActiveChild","option","activateOneOf","enumValues","enumOrder","enumItem","activeValue","sortOptions","ObjectSchema","filteredFields","Field","DiscriminatorDropdown","parentSchema","OneOfSchema","SchemaDefinition","schemaRef","exampleRef","_mediaModel","getMediaType","showReadOnly","showWriteOnly","mediaModel","MediaSamplesWrap","AUTH_TYPES","oauth2","openIdConnect","OAuthFlow","refreshUrl","scope","SecurityDefs","createSearchIndex","marker","disposer","rawOptions","DEFAULT_OPTIONS","indexItems","observe","change","updateMarkOnMenu","searchIndex","start","end","$description","$summary","addOnly","ApiHeader","DownloadButton","InfoSpan","InfoSpanBoxWrap","InfoSpanBox","handleDownloadClick","downloadFilename","license","website","contact","email","terms","LogoImgEl","LogoWrap","logoInfo","logoHref","altText","alt","Component","AdvancedMarkdown","renderWithOptionsAndStore","htmlWrap","renderMdWithComponents","OperationBadge","menuItemActiveBg","MenuItemUl","MenuItemLi","menuItemDepth","0","MenuItemLabel","role","MenuItemTitle","RedocAttribution","CallbackTitle","opened","CallbackTitleWrapper","OperationBadgeStyled","CallbackName","StyledCallbackTitle","CallbackDetailsWrap","SelectOnClick","onFocus","tabIndex","OperationEndpointWrap","ServerRelativeURL","EndpointInfo","inverted","HttpVerb","ServersOverlay","ServerItem","ServerUrl","Endpoint","marginRight","normalizedUrl","ParametersGroup","place","withLabel","PARAM_PLACES","Parameters","paramsMap","orderParams","paramsPlaces","bodyContent","bodyDescription","BodyContent","DropdownWithinHeader","MediaTypesSwitch","ResponseTitle","aria-expanded","disabled","Code","StyledResponseTitle","ResponseDetailsWrap","HeadersCaption","ResponseHeaders","ResponseDetails","ResponseView","mimes","ResponsesHeader","ResponsesList","ScopeName","SecurityRequirementAndWrap","SecurityRequirementOrWrap","SecurityRequirement","AuthHeaderColumn","SecuritiesColumn","AuthHeader","SecurityRequirements","securities","hasDescription","Description","callbackOperation","CallbackDetails","CallbacksList","CallbacksHeader","CallbackOperation","switchItem","mimeContent","CallbackPayloadSample","payloadSample","codeSamples","PayloadSampleWrapper","PayloadSamples","dropdownOptions","GenericChildrenSwitcher","hasSamples","hideTabList","defaultIndex","TabList","hidden","Tab","TabPanel","RequestSamples","ResponseSamples","CallbackSamples","ContentItem","SectionItem","OperationItem","ContentItems","middlePanelWrap","Header","Operation","onActivate","stopPropagation","scrollIntoViewIfActive","withoutChildren","data-item-id","OperationMenuItemContent","MenuItems","MenuItem","_updateScroll","saveScrollUpdate","upd","wheelPropagation","AnimatedChevronButton","iconOffset","ChevronContainer","ChevronSvg","transform","transition","fill","Stickyfill","stickyfill","StyledStickySidebar","FloatingButton","toggleNavMenu","toggleSidebar","stickyElement","getScrollYOffset","RedocWrap","ApiContentWrap","BackgroundStub","percents","SearchWrap","SearchInput","getLuminance","SearchIcon","attrs","SearchResultsBox","ClearIcon","SearchBox","activeItemRef","results","noResults","handleKeyDown","keyCode","activeResult","clearResults","searchCallback","searchTerm","setResults","onKeyDown","placeholder","Redoc","onDidMount","StickyResponsiveSidebar","ApiLogo","SideMenu","ApiInfo","propTypes","isRequired","RedocStandalone","hideLoading","normalizedOpts"],"mappings":"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","file":"redoc.lib.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Redoc\"] = factory();\n\telse\n\t\troot[\"Redoc\"] = factory();\n})(this, function() {\nreturn ","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ps{overflow:hidden!important;overflow-anchor:none;-ms-overflow-style:none;touch-action:auto;-ms-touch-action:auto}.ps__rail-x{display:none;opacity:0;transition:background-color .2s linear,opacity .2s linear;-webkit-transition:background-color .2s linear,opacity .2s linear;height:15px;bottom:0;position:absolute}.ps__rail-y{display:none;opacity:0;transition:background-color .2s linear,opacity .2s linear;-webkit-transition:background-color .2s linear,opacity .2s linear;width:15px;right:0;position:absolute}.ps--active-x>.ps__rail-x,.ps--active-y>.ps__rail-y{display:block;background-color:transparent}.ps:hover>.ps__rail-x,.ps:hover>.ps__rail-y,.ps--focus>.ps__rail-x,.ps--focus>.ps__rail-y,.ps--scrolling-x>.ps__rail-x,.ps--scrolling-y>.ps__rail-y{opacity:.6}.ps .ps__rail-x:hover,.ps .ps__rail-y:hover,.ps .ps__rail-x:focus,.ps .ps__rail-y:focus,.ps .ps__rail-x.ps--clicking,.ps .ps__rail-y.ps--clicking{background-color:#eee;opacity:.9}.ps__thumb-x{background-color:#aaa;border-radius:6px;transition:background-color .2s linear,height .2s ease-in-out;-webkit-transition:background-color .2s linear,height .2s ease-in-out;height:6px;bottom:2px;position:absolute}.ps__thumb-y{background-color:#aaa;border-radius:6px;transition:background-color .2s linear,width .2s ease-in-out;-webkit-transition:background-color .2s linear,width .2s ease-in-out;width:6px;right:2px;position:absolute}.ps__rail-x:hover>.ps__thumb-x,.ps__rail-x:focus>.ps__thumb-x,.ps__rail-x.ps--clicking .ps__thumb-x{background-color:#999;height:11px}.ps__rail-y:hover>.ps__thumb-y,.ps__rail-y:focus>.ps__thumb-y,.ps__rail-y.ps--clicking .ps__thumb-y{background-color:#999;width:11px}@supports (-ms-overflow-style: none){.ps{overflow:auto!important}}@media screen and (-ms-high-contrast: active),(-ms-high-contrast: none){.ps{overflow:auto!important}}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./node_modules/perfect-scrollbar/css/perfect-scrollbar.css\"],\"names\":[],\"mappings\":\"AAGA,IACE,yBAAA,CACA,oBAAA,CACA,uBAAA,CACA,iBAAA,CACA,qBAAA,CAMF,YACE,YAAA,CACA,SAAA,CACA,yDAAA,CACA,iEAAA,CACA,WAAA,CAEA,QAAA,CAEA,iBAAA,CAGF,YACE,YAAA,CACA,SAAA,CACA,yDAAA,CACA,iEAAA,CACA,UAAA,CAEA,OAAA,CAEA,iBAAA,CAGF,oDAEE,aAAA,CACA,4BAAA,CAGF,oJAME,UAAA,CAGF,kJAME,qBAAA,CACA,UAAA,CAMF,aACE,qBAAA,CAnEF,iBAAA,CAqEE,6DAAA,CACA,qEAAA,CACA,UAAA,CAEA,UAAA,CAEA,iBAAA,CAGF,aACE,qBAAA,CA/EF,iBAAA,CAiFE,4DAAA,CACA,oEAAA,CACA,SAAA,CAEA,SAAA,CAEA,iBAAA,CAGF,oGAGE,qBAAA,CACA,WAAA,CAGF,oGAGE,qBAAA,CACA,UAAA,CAIF,qCACE,IACE,uBAAA,CAAA,CAIJ,wEACE,IACE,uBAAA,CAAA\",\"sourcesContent\":[\"/*\\r\\n * Container style\\r\\n */\\r\\n.ps {\\r\\n  overflow: hidden !important;\\r\\n  overflow-anchor: none;\\r\\n  -ms-overflow-style: none;\\r\\n  touch-action: auto;\\r\\n  -ms-touch-action: auto;\\r\\n}\\r\\n\\r\\n/*\\r\\n * Scrollbar rail styles\\r\\n */\\r\\n.ps__rail-x {\\r\\n  display: none;\\r\\n  opacity: 0;\\r\\n  transition: background-color .2s linear, opacity .2s linear;\\r\\n  -webkit-transition: background-color .2s linear, opacity .2s linear;\\r\\n  height: 15px;\\r\\n  /* there must be 'bottom' or 'top' for ps__rail-x */\\r\\n  bottom: 0px;\\r\\n  /* please don't change 'position' */\\r\\n  position: absolute;\\r\\n}\\r\\n\\r\\n.ps__rail-y {\\r\\n  display: none;\\r\\n  opacity: 0;\\r\\n  transition: background-color .2s linear, opacity .2s linear;\\r\\n  -webkit-transition: background-color .2s linear, opacity .2s linear;\\r\\n  width: 15px;\\r\\n  /* there must be 'right' or 'left' for ps__rail-y */\\r\\n  right: 0;\\r\\n  /* please don't change 'position' */\\r\\n  position: absolute;\\r\\n}\\r\\n\\r\\n.ps--active-x > .ps__rail-x,\\r\\n.ps--active-y > .ps__rail-y {\\r\\n  display: block;\\r\\n  background-color: transparent;\\r\\n}\\r\\n\\r\\n.ps:hover > .ps__rail-x,\\r\\n.ps:hover > .ps__rail-y,\\r\\n.ps--focus > .ps__rail-x,\\r\\n.ps--focus > .ps__rail-y,\\r\\n.ps--scrolling-x > .ps__rail-x,\\r\\n.ps--scrolling-y > .ps__rail-y {\\r\\n  opacity: 0.6;\\r\\n}\\r\\n\\r\\n.ps .ps__rail-x:hover,\\r\\n.ps .ps__rail-y:hover,\\r\\n.ps .ps__rail-x:focus,\\r\\n.ps .ps__rail-y:focus,\\r\\n.ps .ps__rail-x.ps--clicking,\\r\\n.ps .ps__rail-y.ps--clicking {\\r\\n  background-color: #eee;\\r\\n  opacity: 0.9;\\r\\n}\\r\\n\\r\\n/*\\r\\n * Scrollbar thumb styles\\r\\n */\\r\\n.ps__thumb-x {\\r\\n  background-color: #aaa;\\r\\n  border-radius: 6px;\\r\\n  transition: background-color .2s linear, height .2s ease-in-out;\\r\\n  -webkit-transition: background-color .2s linear, height .2s ease-in-out;\\r\\n  height: 6px;\\r\\n  /* there must be 'bottom' for ps__thumb-x */\\r\\n  bottom: 2px;\\r\\n  /* please don't change 'position' */\\r\\n  position: absolute;\\r\\n}\\r\\n\\r\\n.ps__thumb-y {\\r\\n  background-color: #aaa;\\r\\n  border-radius: 6px;\\r\\n  transition: background-color .2s linear, width .2s ease-in-out;\\r\\n  -webkit-transition: background-color .2s linear, width .2s ease-in-out;\\r\\n  width: 6px;\\r\\n  /* there must be 'right' for ps__thumb-y */\\r\\n  right: 2px;\\r\\n  /* please don't change 'position' */\\r\\n  position: absolute;\\r\\n}\\r\\n\\r\\n.ps__rail-x:hover > .ps__thumb-x,\\r\\n.ps__rail-x:focus > .ps__thumb-x,\\r\\n.ps__rail-x.ps--clicking .ps__thumb-x {\\r\\n  background-color: #999;\\r\\n  height: 11px;\\r\\n}\\r\\n\\r\\n.ps__rail-y:hover > .ps__thumb-y,\\r\\n.ps__rail-y:focus > .ps__thumb-y,\\r\\n.ps__rail-y.ps--clicking .ps__thumb-y {\\r\\n  background-color: #999;\\r\\n  width: 11px;\\r\\n}\\r\\n\\r\\n/* MS supports */\\r\\n@supports (-ms-overflow-style: none) {\\r\\n  .ps {\\r\\n    overflow: auto !important;\\r\\n  }\\r\\n}\\r\\n\\r\\n@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\\r\\n  .ps {\\r\\n    overflow: auto !important;\\r\\n  }\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (cssWithMappingToString) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join(\"\");\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === \"string\") {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, \"\"]];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};","\"use strict\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr && (typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]); if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nmodule.exports = function cssWithMappingToString(item) {\n  var _item = _slicedToArray(item, 4),\n      content = _item[1],\n      cssMapping = _item[3];\n\n  if (typeof btoa === \"function\") {\n    // eslint-disable-next-line no-undef\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || \"\").concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join(\"\\n\");\n  }\n\n  return [content].join(\"\\n\");\n};","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"lunr\");;","import * as lunr from 'lunr';\n\n/* just for better typings */\nexport default class Worker {\n  add: typeof add = add;\n  done = done;\n  search: typeof search = search;\n  toJS = toJS;\n  load = load;\n  dispose = dispose;\n  fromExternalJS = fromExternalJS;\n}\n\nexport interface SearchDocument {\n  title: string;\n  description: string;\n  id: string;\n}\n\nexport interface SearchResult<T = string> {\n  meta: T;\n  score: number;\n}\n\nlet store: any[] = [];\n\nlunr.tokenizer.separator = /\\s+/;\n\nlet builder: lunr.Builder;\n\nlet resolveIndex: (v: lunr.Index) => void;\n\nlet index: Promise<lunr.Index>;\n\nfunction initEmpty() {\n  builder = new lunr.Builder();\n  builder.field('title');\n  builder.field('description');\n  builder.ref('ref');\n\n  builder.pipeline.add(lunr.trimmer, lunr.stopWordFilter, lunr.stemmer);\n\n  index = new Promise(resolve => {\n    resolveIndex = resolve;\n  });\n}\n\ninitEmpty();\n\nconst expandTerm = term => '*' + lunr.stemmer(new lunr.Token(term, {})) + '*';\n\nexport function add<T>(title: string, description: string, meta?: T) {\n  const ref = store.push(meta) - 1;\n  const item = { title: title.toLowerCase(), description: description.toLowerCase(), ref };\n  builder.add(item);\n}\n\nexport async function done() {\n  resolveIndex(builder.build());\n}\n\nexport async function toJS() {\n  return {\n    store,\n    index: (await index).toJSON(),\n  };\n}\n\nexport async function fromExternalJS(path: string, exportName: string) {\n  try {\n    importScripts(path);\n    if (!self[exportName]) {\n      throw new Error('Broken index file format');\n    }\n\n    load(self[exportName]);\n  } catch (e) {\n    console.error('Failed to load search index: ' + e.message);\n  }\n}\n\nexport async function load(state: any) {\n  store = state.store;\n  resolveIndex(lunr.Index.load(state.index));\n}\n\nexport async function dispose() {\n  store = [];\n  initEmpty();\n}\n\nexport async function search<Meta = string>(\n  q: string,\n  limit = 0,\n): Promise<Array<SearchResult<Meta>>> {\n  if (q.trim().length === 0) {\n    return [];\n  }\n\n  let searchResults = (await index).query(t => {\n    q.trim()\n      .toLowerCase()\n      .split(/\\s+/)\n      .forEach(term => {\n        if (term.length === 1) return;\n        const exp = expandTerm(term);\n        t.term(exp, {});\n      });\n  });\n\n  if (limit > 0) {\n    searchResults = searchResults.slice(0, limit);\n  }\n\n  return searchResults.map(res => ({ meta: store[res.ref], score: res.score }));\n}\n","'use strict';\n\nconst sjs = require('fast-safe-stringify');\n\nconst colour = process.env.NODE_DISABLE_COLORS ?\n    { red: '', yellow: '', green: '', normal: '' } :\n    { red: '\\x1b[31m', yellow: '\\x1b[33;1m', green: '\\x1b[32m', normal: '\\x1b[0m' };\n\nfunction uniqueOnly(value, index, self) {\n    return self.indexOf(value) === index;\n}\n\nfunction hasDuplicates(array) {\n    return (new Set(array)).size !== array.length;\n}\n\nfunction allSame(array) {\n    return (new Set(array)).size <= 1;\n}\n\nfunction deepEquals(obj1, obj2) {\n    function _equals(obj1, obj2) {\n        return sjs.stringify(obj1) === sjs.stringify(Object.assign({}, obj1, obj2));\n    }\n    return _equals(obj1, obj2) && _equals(obj2, obj1);\n}\n\nfunction compressArray(arr) {\n    let result = [];\n    for (let candidate of arr) {\n        let dupe = result.find(function(e,i,a){\n            return deepEquals(e,candidate);\n        });\n        if (!dupe) result.push(candidate);\n    }\n    return result;\n}\n\nfunction distinctArray(arr) {\n    return (arr.length === compressArray(arr).length);\n}\n\nfunction firstDupe(arr) {\n    return arr.find(function(e,i,a){\n        return arr.indexOf(e)<i;\n    });\n}\n\n/**\n * simple hash implementation based on https://stackoverflow.com/a/7616484/1749888\n * @param {string} s - string to hash\n * @returns {number} numerical hash code\n */\nfunction hash(s) {\n    let hash = 0;\n    let chr;\n    if (s.length === 0) return hash;\n    for (let i = 0; i < s.length; i++) {\n      chr   = s.charCodeAt(i);\n      hash  = ((hash << 5) - hash) + chr;\n      hash |= 0; // Convert to 32bit integer\n    }\n    return hash;\n}\n\nString.prototype.toCamelCase = function camelize() {\n    return this.toLowerCase().replace(/[-_ \\/\\.](.)/g, function (match, group1) {\n        return group1.toUpperCase();\n    });\n}\n\nconst parameterTypeProperties = [\n    'format',\n    'minimum',\n    'maximum',\n    'exclusiveMinimum',\n    'exclusiveMaximum',\n    'minLength',\n    'maxLength',\n    'multipleOf',\n    'minItems',\n    'maxItems',\n    'uniqueItems',\n    'minProperties',\n    'maxProperties',\n    'additionalProperties',\n    'pattern',\n    'enum',\n    'default'\n];\n\nconst arrayProperties = [\n    'items',\n    'minItems',\n    'maxItems',\n    'uniqueItems'\n];\n\nconst httpMethods = [\n    'get',\n    'post',\n    'put',\n    'delete',\n    'patch',\n    'head',\n    'options',\n    'trace'\n];\n\nfunction sanitise(s) {\n    s = s.replace('[]','Array');\n    let components = s.split('/');\n    components[0] = components[0].replace(/[^A-Za-z0-9_\\-\\.]+|\\s+/gm, '_');\n    return components.join('/');\n}\n\nfunction sanitiseAll(s) {\n    return sanitise(s.split('/').join('_'));\n}\n\nmodule.exports = {\n\n    colour: colour,\n    uniqueOnly: uniqueOnly,\n    hasDuplicates: hasDuplicates,\n    allSame: allSame,\n    distinctArray: distinctArray,\n    firstDupe: firstDupe,\n    hash: hash,\n    parameterTypeProperties: parameterTypeProperties,\n    arrayProperties: arrayProperties,\n    httpMethods: httpMethods,\n    sanitise: sanitise,\n    sanitiseAll: sanitiseAll\n\n};\n\n","'use strict';\n\nconst fs = require('fs');\nconst path = require('path');\nconst url = require('url');\n\nconst fetch = require('node-fetch-h2');\nconst yaml = require('yaml');\n\nconst jptr = require('reftools/lib/jptr.js').jptr;\nconst recurse = require('reftools/lib/recurse.js').recurse;\nconst clone = require('reftools/lib/clone.js').clone;\nconst deRef = require('reftools/lib/dereference.js').dereference;\nconst isRef = require('reftools/lib/isref.js').isRef;\nconst common = require('oas-kit-common');\n\nfunction unique(arr) {\n    return [... new Set(arr)];\n}\n\nfunction readFileAsync(filename, encoding, options, pointer, def) {\n    return new Promise(function (resolve, reject) {\n        fs.readFile(filename, encoding, function (err, data) {\n            if (err) {\n                if (options.ignoreIOErrors && def) {\n                    if (options.verbose) console.warn('FAILED',pointer);\n                    options.externalRefs[pointer].failed = true;\n                    resolve(def);\n                }\n                else {\n                    reject(err);\n                }\n            }\n            else {\n                resolve(data);\n            }\n        });\n    });\n}\n\nfunction resolveAllFragment(obj, context, src, parentPath, base, options) {\n\n    let attachPoint = options.externalRefs[src+parentPath].paths[0];\n\n    let baseUrl = url.parse(base);\n    let seen = {}; // seen is indexed by the $ref value and contains path replacements\n    let changes = 1;\n    while (changes) {\n        changes = 0;\n        recurse(obj, {identityDetection:true}, function (obj, key, state) {\n            if (isRef(obj, key)) {\n                if (obj[key].startsWith('#')) {\n                    if (!seen[obj[key]] && !obj.$fixed) {\n                        let target = clone(jptr(context, obj[key]));\n                        if (options.verbose>1) console.warn((target === false ? common.colour.red : common.colour.green)+'Fragment resolution', obj[key], common.colour.normal);\n                        /*\n                            ResolutionCase:A is where there is a local reference in an externally\n                            referenced document, and we have not seen it before. The reference\n                            is replaced by a copy of the data pointed to, which may be outside this fragment\n                            but within the context of the external document\n                        */\n                        if (target === false) {\n                            state.parent[state.pkey] = {}; /* case:A(2) where the resolution fails */\n                            if (options.fatal) {\n                                let ex = new Error('Fragment $ref resolution failed '+obj[key]);\n                                if (options.promise) options.promise.reject(ex)\n                                else throw ex;\n                            }\n                        }\n                        else {\n                            changes++;\n                            state.parent[state.pkey] = target;\n                            seen[obj[key]] = state.path.replace('/%24ref','');\n                        }\n                    }\n                    else {\n                        if (!obj.$fixed) {\n                            let newRef = (attachPoint+'/'+seen[obj[key]]).split('/#/').join('/');\n                            state.parent[state.pkey] = { $ref: newRef, 'x-miro': obj[key], $fixed: true };\n                            if (options.verbose>1) console.warn('Replacing with',newRef);\n                            changes++;\n                        }\n                        /*\n                            ResolutionCase:B is where there is a local reference in an externally\n                            referenced document, and we have seen this reference before and resolved it.\n                            We create a new object containing the (immutable) $ref string\n                        */\n                    }\n                }\n                else if (baseUrl.protocol) {\n                    let newRef = url.resolve(base,obj[key]).toString();\n                    if (options.verbose>1) console.warn(common.colour.yellow+'Rewriting external url ref',obj[key],'as',newRef,common.colour.normal);\n                    obj['x-miro'] = obj[key];\n                    if (options.externalRefs[obj[key]]) {\n                        if (!options.externalRefs[newRef]) {\n                            options.externalRefs[newRef] = options.externalRefs[obj[key]];\n                        }\n                        options.externalRefs[newRef].failed = options.externalRefs[obj[key]].failed;\n                    }\n                    obj[key] = newRef;\n                }\n                else if (!obj['x-miro']) {\n                    let newRef = url.resolve(base,obj[key]).toString();\n                    let failed = false;\n                    if (options.externalRefs[obj[key]]) {\n                        failed = options.externalRefs[obj[key]].failed;\n                    }\n                    if (!failed) {\n                        if (options.verbose>1) console.warn(common.colour.yellow+'Rewriting external ref',obj[key],'as',newRef,common.colour.normal);\n                        obj['x-miro'] = obj[key]; // we use x-miro as a flag so we don't do this > once\n                        obj[key] = newRef;\n                    }\n                }\n            }\n        });\n    }\n\n    recurse(obj,{},function(obj,key,state){\n        if (isRef(obj, key)) {\n            if (typeof obj.$fixed !== 'undefined') delete obj.$fixed;\n        }\n    });\n\n    if (options.verbose>1) console.warn('Finished fragment resolution');\n    return obj;\n}\n\nfunction filterData(data, options) {\n    if (!options.filters || !options.filters.length) return data;\n    for (let filter of options.filters) {\n        data = filter(data, options);\n    }\n    return data;\n}\n\nfunction testProtocol(input, backup) {\n    if (input && input.length > 2) return input;\n    if (backup && backup.length > 2) return backup;\n    return 'file:';\n}\n\nfunction resolveExternal(root, pointer, options, callback) {\n    var u = url.parse(options.source);\n    var base = options.source.split('\\\\').join('/').split('/');\n    let doc = base.pop(); // drop the actual filename\n    if (!doc) base.pop(); // in case it ended with a /\n    let fragment = '';\n    let fnComponents = pointer.split('#');\n    if (fnComponents.length > 1) {\n        fragment = '#' + fnComponents[1];\n        pointer = fnComponents[0];\n    }\n    base = base.join('/');\n\n    let u2 = url.parse(pointer);\n    let effectiveProtocol = testProtocol(u2.protocol, u.protocol);\n\n    let target;\n    if (effectiveProtocol === 'file:') {\n        target = path.resolve(base ? base + '/' : '', pointer);\n    }\n    else {\n        target = url.resolve(base ? base + '/' : '', pointer);\n    }\n\n    if (options.cache[target]) {\n        if (options.verbose) console.warn('CACHED', target, fragment);\n        /*\n            resolutionSource:A this is where we have cached the externally-referenced document from a\n            file, http or custom handler\n        */\n        let context = clone(options.cache[target]);\n        let data = options.externalRef = context;\n        if (fragment) {\n            data = jptr(data, fragment);\n            if (data === false) {\n                data = {}; // case:A(2) where the resolution fails\n                if (options.fatal) {\n                    let ex = new Error('Cached $ref resolution failed '+target+fragment);\n                    if (options.promise) options.promise.reject(ex)\n                    else throw ex;\n                }\n            }\n        }\n        data = resolveAllFragment(data, context, pointer, fragment, target, options);\n        data = filterData(data, options);\n        callback(clone(data), target, options);\n        return Promise.resolve(data);\n    }\n\n    if (options.verbose) console.warn('GET', target, fragment);\n\n    if (options.handlers && options.handlers[effectiveProtocol]) {\n        return options.handlers[effectiveProtocol](base, pointer, fragment, options)\n            .then(function (data) {\n                options.externalRef = data;\n                data = filterData(data, options);\n                options.cache[target] = data;\n                callback(data, target, options);\n                return data;\n            })\n            .catch(function(ex){\n                if (options.verbose) console.warn(ex);\n                throw ex;\n            });\n    }\n    else if (effectiveProtocol && effectiveProtocol.startsWith('http')) {\n        const fetchOptions = Object.assign({}, options.fetchOptions, { agent: options.agent });\n        return options.fetch(target, fetchOptions)\n            .then(function (res) {\n                if (res.status !== 200) {\n                  if (options.ignoreIOErrors) {\n                    if (options.verbose) console.warn('FAILED',pointer);\n                    options.externalRefs[pointer].failed = true;\n                    return '{\"$ref\":\"'+pointer+'\"}';\n                  }\n                  else {\n                    throw new Error(`Received status code ${res.status}: ${target}`);\n                  }\n                }\n                return res.text();\n            })\n            .then(function (data) {\n                try {\n                    let context = yaml.parse(data, { schema:'core', prettyErrors: true });\n                    data = options.externalRef = context;\n                    options.cache[target] = clone(data);\n                    /* resolutionSource:B, from the network, data is fresh, but we clone it into the cache */\n                    if (fragment) {\n                        data = jptr(data, fragment);\n                        if (data === false) {\n                            data = {}; /* case:B(2) where the resolution fails */\n                            if (options.fatal) {\n                                let ex = new Error('Remote $ref resolution failed '+target+fragment);\n                                if (options.promise) options.promise.reject(ex)\n                                else throw ex;\n                            }\n                        }\n                    }\n                    data = resolveAllFragment(data, context, pointer, fragment, target, options);\n                    data = filterData(data, options);\n                }\n                catch (ex) {\n                    if (options.verbose) console.warn(ex);\n                    if (options.promise && options.fatal) options.promise.reject(ex)\n                    else throw ex;\n                }\n                callback(data, target, options);\n                return data;\n            })\n            .catch(function (err) {\n                if (options.verbose) console.warn(err);\n                options.cache[target] = {};\n                if (options.promise && options.fatal) options.promise.reject(err)\n                else throw err;\n            });\n    }\n    else {\n        const def = '{\"$ref\":\"'+pointer+'\"}';\n        return readFileAsync(target, options.encoding || 'utf8', options, pointer, def)\n            .then(function (data) {\n                try {\n                    let context = yaml.parse(data, { schema:'core', prettyErrors: true });\n                    data = options.externalRef = context;\n                    /*\n                        resolutionSource:C from a file, data is fresh but we clone it into the cache\n                    */\n                    options.cache[target] = clone(data);\n                    if (fragment) {\n                        data = jptr(data, fragment);\n                        if (data === false) {\n                            data = {}; /* case:C(2) where the resolution fails */\n                            if (options.fatal) {\n                                let ex = new Error('File $ref resolution failed '+target+fragment);\n                                if (options.promise) options.promise.reject(ex)\n                                else throw ex;\n                            }\n                        }\n                    }\n                    data = resolveAllFragment(data, context, pointer, fragment, target, options);\n                    data = filterData(data, options);\n                }\n                catch (ex) {\n                    if (options.verbose) console.warn(ex);\n                    if (options.promise && options.fatal) options.promise.reject(ex)\n                    else throw ex;\n                }\n                callback(data, target, options);\n                return data;\n            })\n            .catch(function(err){\n                if (options.verbose) console.warn(err);\n                if (options.promise && options.fatal) options.promise.reject(err)\n                else throw err;\n            });\n    }\n}\n\nfunction scanExternalRefs(options) {\n    return new Promise(function (res, rej) {\n\n        function inner(obj,key,state){\n            if (obj[key] && isRef(obj[key],'$ref')) {\n                let $ref = obj[key].$ref;\n                if (!$ref.startsWith('#')) { // is external\n\n                    let $extra = '';\n\n                    if (!refs[$ref]) {\n                        let potential = Object.keys(refs).find(function(e,i,a){\n                            return $ref.startsWith(e+'/');\n                        });\n                        if (potential) {\n                            if (options.verbose) console.warn('Found potential subschema at',potential);\n                            $extra = '/'+($ref.split('#')[1]||'').replace(potential.split('#')[1]||'');\n                            $extra = $extra.split('/undefined').join(''); // FIXME\n                            $ref = potential;\n                        }\n                    }\n\n                    if (!refs[$ref]) {\n                        refs[$ref] = { resolved: false, paths: [], extras:{}, description: obj[key].description };\n                    }\n                    if (refs[$ref].resolved) {\n                        // we've already seen it\n                        if (refs[$ref].failed) {\n                          // do none\n                        }\n                        else if (options.rewriteRefs) {\n                            let newRef = refs[$ref].resolvedAt;\n                            if (options.verbose>1) console.warn('Rewriting ref', $ref, newRef);\n                            obj[key]['x-miro'] = $ref;\n                            obj[key].$ref = newRef+$extra; // resolutionCase:C (new string)\n                        }\n                        else {\n                            obj[key] = clone(refs[$ref].data); // resolutionCase:D (cloned:yes)\n                        }\n                    }\n                    else {\n                        refs[$ref].paths.push(state.path);\n                        refs[$ref].extras[state.path] = $extra;\n                    }\n                }\n            }\n        }\n\n        let refs = options.externalRefs;\n\n        if ((options.resolver.depth>0) && (options.source === options.resolver.base)) {\n            // we only need to do any of this when called directly on pass #1\n            return res(refs);\n        }\n\n        recurse(options.openapi.definitions, {identityDetection: true, path: '#/definitions'}, inner);\n        recurse(options.openapi.components, {identityDetection: true, path: '#/components'}, inner);\n        recurse(options.openapi, {identityDetection: true}, inner);\n\n        res(refs);\n    });\n}\n\nfunction findExternalRefs(options) {\n    return new Promise(function (res, rej) {\n\n        scanExternalRefs(options)\n        .then(function (refs) {\n            for (let ref in refs) {\n\n                if (!refs[ref].resolved) {\n                    let depth = options.resolver.depth;\n                    if (depth>0) depth++;\n                    options.resolver.actions[depth].push(function () {\n                        return resolveExternal(options.openapi, ref, options, function (data, source, options) {\n                            if (!refs[ref].resolved) {\n                                let external = {};\n                                external.context = refs[ref];\n                                external.$ref = ref;\n                                external.original = clone(data);\n                                external.updated = data;\n                                external.source = source;\n                                options.externals.push(external);\n                                refs[ref].resolved = true;\n                            }\n\n                            let localOptions = Object.assign({}, options, { source: '',\n                                resolver: {actions: options.resolver.actions,\n                                depth: options.resolver.actions.length-1, base: options.resolver.base } });\n                            if (options.patch && refs[ref].description && !data.description &&\n                                (typeof data === 'object')) {\n                                data.description = refs[ref].description;\n                            }\n                            refs[ref].data = data;\n\n                            // sorting $refs by length causes bugs (due to overlapping regions?)\n                            let pointers = unique(refs[ref].paths);\n                            pointers = pointers.sort(function(a,b){\n                                const aComp = (a.startsWith('#/components/') || a.startsWith('#/definitions/'));\n                                const bComp = (b.startsWith('#/components/') || b.startsWith('#/definitions/'));\n                                if (aComp && !bComp) return -1;\n                                if (bComp && !aComp) return +1;\n                                return 0;\n                            });\n\n                            for (let ptr of pointers) {\n                                // shared x-ms-examples $refs confuse the fixupRefs heuristic in index.js\n                                if (refs[ref].resolvedAt && (ptr !== refs[ref].resolvedAt) && (ptr.indexOf('x-ms-examples/')<0)) {\n                                    if (options.verbose>1) console.warn('Creating pointer to data at', ptr);\n                                    jptr(options.openapi, ptr, { $ref: refs[ref].resolvedAt+refs[ref].extras[ptr], 'x-miro': ref+refs[ref].extras[ptr] }); // resolutionCase:E (new object)\n                                }\n                                else {\n                                    if (refs[ref].resolvedAt) {\n                                        if (options.verbose>1) console.warn('Avoiding circular reference');\n                                    }\n                                    else {\n                                        refs[ref].resolvedAt = ptr;\n                                        if (options.verbose>1) console.warn('Creating initial clone of data at', ptr);\n                                    }\n                                    let cdata = clone(data);\n                                    jptr(options.openapi, ptr, cdata); // resolutionCase:F (cloned:yes)\n                                }\n                            }\n                            if (options.resolver.actions[localOptions.resolver.depth].length === 0) {\n                                //options.resolver.actions[localOptions.resolver.depth].push(function () { return scanExternalRefs(localOptions) });\n                                options.resolver.actions[localOptions.resolver.depth].push(function () { return findExternalRefs(localOptions) }); // findExternalRefs calls scanExternalRefs\n                            }\n                        });\n                    });\n                }\n            }\n        })\n        .catch(function(ex){\n            if (options.verbose) console.warn(ex);\n            rej(ex);\n        });\n\n        let result = {options:options};\n        result.actions = options.resolver.actions[options.resolver.depth];\n        res(result);\n    });\n}\n\nconst serial = funcs =>\n    funcs.reduce((promise, func) =>\n        promise.then(result => func().then(Array.prototype.concat.bind(result))), Promise.resolve([]));\n\nfunction loopReferences(options, res, rej) {\n    options.resolver.actions.push([]);\n    findExternalRefs(options)\n        .then(function (data) {\n            serial(data.actions)\n                .then(function () {\n                    if (options.resolver.depth>=options.resolver.actions.length) {\n                        console.warn('Ran off the end of resolver actions');\n                        return res(true);\n                    } else {\n                        options.resolver.depth++;\n                        if (options.resolver.actions[options.resolver.depth].length) {\n                            setTimeout(function () {\n                                loopReferences(data.options, res, rej);\n                            }, 0);\n                        }\n                        else {\n                            if (options.verbose>1) console.warn(common.colour.yellow+'Finished external resolution!',common.colour.normal);\n                            if (options.resolveInternal) {\n                                if (options.verbose>1) console.warn(common.colour.yellow+'Starting internal resolution!',common.colour.normal);\n                                options.openapi = deRef(options.openapi,options.original,{verbose:options.verbose-1});\n                                if (options.verbose>1) console.warn(common.colour.yellow+'Finished internal resolution!',common.colour.normal);\n                            }\n                            recurse(options.openapi,{},function(obj,key,state){\n                                if (isRef(obj, key)) {\n                                    if (!options.preserveMiro) delete obj['x-miro'];\n                                }\n                            });\n                            res(options);\n                        }\n                    }\n                })\n                .catch(function (ex) {\n                    if (options.verbose) console.warn(ex);\n                    rej(ex);\n                });\n        })\n        .catch(function(ex){\n            if (options.verbose) console.warn(ex);\n            rej(ex);\n        });\n}\n\nfunction setupOptions(options) {\n    if (!options.cache) options.cache = {};\n    if (!options.fetch) options.fetch = fetch;\n\n    if (options.source) {\n        let srcUrl = url.parse(options.source);\n        if (!srcUrl.protocol || srcUrl.protocol.length <= 2) { // windows drive-letters\n            options.source = path.resolve(options.source);\n        }\n    }\n\n    options.externals = [];\n    options.externalRefs = {};\n    options.rewriteRefs = true;\n    options.resolver = {};\n    options.resolver.depth = 0;\n    options.resolver.base = options.source;\n    options.resolver.actions = [[]];\n}\n\n/** compatibility function for swagger2openapi */\nfunction optionalResolve(options) {\n    setupOptions(options);\n    return new Promise(function (res, rej) {\n        if (options.resolve)\n            loopReferences(options, res, rej)\n        else\n            res(options);\n    });\n}\n\nfunction resolve(openapi,source,options) {\n    if (!options) options = {};\n    options.openapi = openapi;\n    options.source = source;\n    options.resolve = true;\n    setupOptions(options);\n    return new Promise(function (res, rej) {\n        loopReferences(options, res, rej)\n    });\n}\n\nmodule.exports = {\n    optionalResolve: optionalResolve,\n    resolve: resolve\n};\n\n","'use strict';\n\n/**\n* functions to walk an OpenAPI schema object and traverse all subschemas\n* calling a callback function on each one\n*/\n\n/**\n* obtains the default starting state for the `state` object used\n* by walkSchema\n* @return the state object suitable for use in walkSchema\n*/\nfunction getDefaultState() {\n    return { depth: 0, seen: new WeakMap(), top: true, combine: false, allowRefSiblings: false };\n}\n\n/**\n* begins the walk of a schema object\n* @param schema the schema object to walk\n* @param parent the parent schema, if any. Use empty object if none\n* @param state the initial starting state of the walker, usually obtained from `getDefaultState`. Use empty object to auto-initialise\n* @param callback a function taking a schema, parent and state to be called on this and all subschemas\n* @return the schema object\n*/\nfunction walkSchema(schema, parent, state, callback) {\n\n    if (typeof state.depth === 'undefined') state = getDefaultState();\n    if ((schema === null) || (typeof schema === 'undefined')) return schema;\n    if (typeof schema.$ref !== 'undefined') {\n        let temp = {$ref:schema.$ref};\n        if (state.allowRefSiblings && schema.description) {\n            temp.description = schema.description;\n        }\n        callback(temp,parent,state);\n        return temp; // all other properties SHALL be ignored\n    }\n\n    if (state.combine) {\n        if (schema.allOf && Array.isArray(schema.allOf) && schema.allOf.length === 1) {\n            schema = Object.assign({},schema.allOf[0],schema);\n            delete schema.allOf;\n        }\n        if (schema.anyOf && Array.isArray(schema.anyOf) && schema.anyOf.length === 1) {\n            schema = Object.assign({},schema.anyOf[0],schema);\n            delete schema.anyOf;\n        }\n        if (schema.oneOf && Array.isArray(schema.oneOf) && schema.oneOf.length === 1) {\n            schema = Object.assign({},schema.oneOf[0],schema);\n            delete schema.oneOf;\n        }\n    }\n\n    callback(schema,parent,state);\n    if (state.seen.has(schema)) {\n        return schema;\n    }\n    //else\n    if ((typeof schema === 'object') && (schema !== null)) state.seen.set(schema,true);\n    state.top = false;\n    state.depth++;\n\n    if (typeof schema.items !== 'undefined') {\n        state.property = 'items';\n        walkSchema(schema.items,schema,state,callback);\n    }\n    if (schema.additionalItems) {\n        if (typeof schema.additionalItems === 'object') {\n            state.property = 'additionalItems';\n            walkSchema(schema.additionalItems,schema,state,callback);\n        }\n    }\n    if (schema.additionalProperties) {\n        if (typeof schema.additionalProperties === 'object') {\n            state.property = 'additionalProperties';\n            walkSchema(schema.additionalProperties,schema,state,callback);\n        }\n    }\n    if (schema.properties) {\n        for (let prop in schema.properties) {\n            let subSchema = schema.properties[prop];\n            state.property = 'properties/'+prop;\n            walkSchema(subSchema,schema,state,callback);\n        }\n    }\n    if (schema.patternProperties) {\n        for (let prop in schema.patternProperties) {\n            let subSchema = schema.patternProperties[prop];\n            state.property = 'patternProperties/'+prop;\n            walkSchema(subSchema,schema,state,callback);\n        }\n    }\n    if (schema.allOf) {\n        for (let index in schema.allOf) {\n            let subSchema = schema.allOf[index];\n            state.property = 'allOf/'+index;\n            walkSchema(subSchema,schema,state,callback);\n        }\n    }\n    if (schema.anyOf) {\n        for (let index in schema.anyOf) {\n            let subSchema = schema.anyOf[index];\n            state.property = 'anyOf/'+index;\n            walkSchema(subSchema,schema,state,callback);\n        }\n    }\n    if (schema.oneOf) {\n        for (let index in schema.oneOf) {\n            let subSchema = schema.oneOf[index];\n            state.property = 'oneOf/'+index;\n            walkSchema(subSchema,schema,state,callback);\n        }\n    }\n    if (schema.not) {\n        state.property = 'not';\n        walkSchema(schema.not,schema,state,callback);\n    }\n    state.depth--;\n    return schema;\n}\n\nmodule.exports = {\n    getDefaultState: getDefaultState,\n    walkSchema: walkSchema\n};\n\n","'use strict';\n\n/**\n* a collection of cloning functions\n*/\n\n/**\n* a no-op placeholder which returns the given object unchanged\n* useful for when a clone function needs to be passed but cloning is not\n* required\n* @param obj the input object\n* @return the input object, unchanged\n*/\nfunction nop(obj) {\n    return obj;\n}\n\n/**\n* clones the given object using JSON.parse and JSON.stringify\n* @param obj the object to clone\n* @return the cloned object\n*/\nfunction clone(obj) {\n    return JSON.parse(JSON.stringify(obj));\n}\n\n/**\n* clones the given object's properties shallowly, ignores properties from prototype\n* @param obj the object to clone\n* @return the cloned object\n*/\nfunction shallowClone(obj) {\n    let result = {};\n    for (let p in obj) {\n        if (obj.hasOwnProperty(p)) {\n            result[p] = obj[p];\n        }\n    }\n    return result;\n}\n\n/**\n* clones the given object's properties deeply, ignores properties from prototype\n* @param obj the object to clone\n* @return the cloned object\n*/\nfunction deepClone(obj) {\n    let result = Array.isArray(obj) ? [] : {};\n    for (let p in obj) {\n        if (obj.hasOwnProperty(p) || Array.isArray(obj)) {\n            result[p] = (typeof obj[p] === 'object') ? deepClone(obj[p]) : obj[p];\n        }\n    }\n    return result;\n}\n\n/**\n* clones the given object's properties shallowly, using Object.assign\n* @param obj the object to clone\n* @return the cloned object\n*/\nfunction fastClone(obj) {\n    return Object.assign({},obj);\n}\n\n/**\n* Source: stackoverflow http://bit.ly/2A1Kha6\n*/\n\nfunction circularClone(obj, hash) {\n    if (!hash) hash = new WeakMap();\n    // Do not try to clone primitives or functions\n    if (Object(obj) !== obj || obj instanceof Function) return obj;\n    if (hash.has(obj)) return hash.get(obj); // Cyclic reference\n    try { // Try to run constructor (without arguments, as we don't know them)\n        var result = new obj.constructor();\n    } catch(e) { // Constructor failed, create object without running the constructor\n        result = Object.create(Object.getPrototypeOf(obj));\n    }\n    // Optional: support for some standard constructors (extend as desired)\n    /*if (obj instanceof Map)\n        Array.from(obj, ([key, val]) => result.set(circularClone(key, hash),\n                                                   circularClone(val, hash)) );\n    else if (obj instanceof Set)\n        Array.from(obj, (key) => result.add(circularClone(key, hash)) );\n    */\n    // Register in hash\n    hash.set(obj, result);\n    // Clone and assign enumerable own properties recursively\n    return Object.assign(result, ...Object.keys(obj).map (\n        key => ({ [key]: circularClone(obj[key], hash) }) ));\n}\n\nmodule.exports = {\n    nop : nop,\n    clone : clone,\n    shallowClone : shallowClone,\n    deepClone : deepClone,\n    fastClone : fastClone,\n    circularClone : circularClone\n};\n\n","'use strict';\n\nconst recurse = require('./recurse.js').recurse;\nconst clone = require('./clone.js').shallowClone;\nconst jptr = require('./jptr.js').jptr;\nconst isRef = require('./isref.js').isRef;\n\nvar getLogger = function (options) {\n    if (options && options.verbose) {\n        return {\n            warn: function() {\n                var args = Array.prototype.slice.call(arguments);\n                console.warn.apply(console, args);\n            }\n        }\n    }\n    else {\n        return {\n            warn: function() {\n                //nop\n            }\n        }\n    }\n}\n\n/**\n* dereferences the given object\n* @param o the object to dereference\n* @definitions a source of definitions to reference\n* @options optional settings (used recursively)\n* @return the dereferenced object\n*/\nfunction dereference(o,definitions,options) {\n    if (!options) options = {};\n    if (!options.cache) options.cache = {};\n    if (!options.state) options.state = {};\n    options.state.identityDetection = true;\n    // options.depth allows us to limit cloning to the first invocation\n    options.depth = (options.depth ? options.depth+1 : 1);\n    let obj = (options.depth > 1 ? o : clone(o));\n    let container = { data: obj };\n    let defs = (options.depth > 1 ? definitions : clone(definitions));\n    // options.master is the top level object, regardless of depth\n    if (!options.master) options.master = obj;\n\n    let logger = getLogger(options);\n\n    let changes = 1;\n    while (changes > 0) {\n        changes = 0;\n    recurse(container,options.state,function(obj,key,state){\n        if (isRef(obj,key)) {\n            let $ref = obj[key]; // immutable\n            changes++;\n            if (!options.cache[$ref]) {\n                let entry = {};\n                entry.path = state.path.split('/$ref')[0];\n                entry.key = $ref;\n                logger.warn('Dereffing %s at %s',$ref,entry.path);\n                entry.source = defs;\n                entry.data = jptr(entry.source,entry.key);\n                if (entry.data === false) {\n                    entry.data = jptr(options.master,entry.key);\n                    entry.source = options.master;\n                }\n                if (entry.data === false) {\n                    logger.warn('Missing $ref target',entry.key);\n                }\n                options.cache[$ref] = entry;\n                entry.data = state.parent[state.pkey] = dereference(jptr(entry.source,entry.key),entry.source,options);\n                if ((options.$ref) && (typeof state.parent[state.pkey] === 'object')) state.parent[state.pkey][options.$ref] = $ref;\n                entry.resolved = true;\n            }\n            else {\n                let entry = options.cache[$ref];\n                if (entry.resolved) {\n                    // we have already seen and resolved this reference\n                    logger.warn('Patching %s for %s',$ref,entry.path);\n                    state.parent[state.pkey] = entry.data;\n                    if ((options.$ref) && (typeof state.parent[state.pkey] === 'object')) state.parent[state.pkey][options.$ref] = $ref;\n                }\n                else if ($ref === entry.path) {\n                    // reference to itself, throw\n                    throw new Error(`Tight circle at ${entry.path}`);\n                }\n                else {\n                    // we're dealing with a circular reference here\n                    logger.warn('Unresolved ref');\n                    state.parent[state.pkey] = jptr(entry.source,entry.path);\n                    if (state.parent[state.pkey] === false) {\n                        state.parent[state.pkey] = jptr(entry.source,entry.key);\n                    }\n                    if ((options.$ref) && (typeof state.parent[state.pkey] === 'object')) state.parent[options.$ref] = $ref;\n                }\n            }\n        }\n    });\n    }\n    return container.data;\n}\n\nmodule.exports = {\n    dereference : dereference\n};\n\n","'use strict';\n\nfunction isRef(obj,key) {\n    return ((key === '$ref') && (!!obj && typeof obj[key] === 'string'));\n}\n\nmodule.exports = {\n    isRef: isRef\n};\n\n","'use strict';\n\n/**\n* escapes JSON Pointer using ~0 for ~ and ~1 for /\n* @param s the string to escape\n* @return the escaped string\n*/\nfunction jpescape(s) {\n    return s.replace(/\\~/g, '~0').replace(/\\//g, '~1');\n}\n\n/**\n* unescapes JSON Pointer using ~0 for ~ and ~1 for /\n* @param s the string to unescape\n* @return the unescaped string\n*/\nfunction jpunescape(s) {\n    return s.replace(/\\~1/g, '/').replace(/~0/g, '~');\n}\n\n// JSON Pointer specification: http://tools.ietf.org/html/rfc6901\n\n/**\n* from obj, return the property with a JSON Pointer prop, optionally setting it\n* to newValue\n* @param obj the object to point into\n* @param prop the JSON Pointer or JSON Reference\n* @param newValue optional value to set the property to\n* @return the found property, or false\n*/\nfunction jptr(obj, prop, newValue) {\n    if (typeof obj === 'undefined') return false;\n    if (!prop || typeof prop !== 'string' || (prop === '#')) return (typeof newValue !== 'undefined' ? newValue : obj);\n\n    if (prop.indexOf('#')>=0) {\n        let parts = prop.split('#');\n        let uri = parts[0];\n        if (uri) return false; // we do internal resolution only\n        prop = parts[1];\n        prop = decodeURIComponent(prop.slice(1).split('+').join(' '));\n    }\n    if (prop.startsWith('/')) prop = prop.slice(1);\n\n    let components = prop.split('/');\n    for (let i=0;i<components.length;i++) {\n        components[i] = jpunescape(components[i]);\n\n        let setAndLast = (typeof newValue !== 'undefined') && (i == components.length-1);\n\n        let index = parseInt(components[i],10);\n        if (!Array.isArray(obj) || isNaN(index) || (index.toString() !== components[i])) {\n            index = (Array.isArray(obj) && components[i] === '-') ? -2 : -1;\n        }\n        else {\n            components[i] = (i > 0) ? components[i-1] : ''; // backtrack to indexed property name\n        }\n\n        if ((index != -1) || (obj && obj.hasOwnProperty(components[i]))) {\n            if (index >= 0) {\n                if (setAndLast) {\n                    obj[index] = newValue;\n                }\n                obj = obj[index];\n            }\n            else if (index === -2) {\n                if (setAndLast) {\n                    if (Array.isArray(obj)) {\n                        obj.push(newValue);\n                    }\n                    return newValue;\n                }\n                else return undefined;\n            }\n            else {\n                if (setAndLast) {\n                    obj[components[i]] = newValue;\n                }\n                obj = obj[components[i]];\n            }\n        }\n        else {\n            if ((typeof newValue !== 'undefined') && (typeof obj === 'object') &&\n                (!Array.isArray(obj))) {\n                obj[components[i]] = (setAndLast ? newValue : ((components[i+1] === '0' || components[i+1] === '-') ? [] : {}));\n                obj = obj[components[i]];\n            }\n            else return false;\n        }\n    }\n    return obj;\n}\n\nmodule.exports = {\n    jptr : jptr,\n    jpescape : jpescape,\n    jpunescape : jpunescape\n};\n","'use strict';\n\nconst jpescape = require('./jptr.js').jpescape;\n\nfunction defaultState() {\n    return {\n        path: '#',\n        depth: 0,\n        pkey: '',\n        parent: {},\n        payload: {},\n        seen: new WeakMap(),\n        identity: false,\n        identityDetection: false\n    };\n}\n\n/**\n* recurses through the properties of an object, given an optional starting state\n* anything you pass in state.payload is passed to the callback each time\n* @param object the object to recurse through\n* @param state optional starting state, can be set to null or {}\n* @param callback the function which receives object,key,state on each property\n*/\nfunction recurse(object, state, callback) {\n    if (!state) state = {depth:0};\n    if (!state.depth) {\n        state = Object.assign({},defaultState(),state);\n    }\n    if (typeof object !== 'object') return;\n    let oPath = state.path;\n    for (let key in object) {\n        state.key = key;\n        state.path = state.path + '/' + encodeURIComponent(jpescape(key));\n        state.identityPath = state.seen.get(object[key]);\n        state.identity = (typeof state.identityPath !== 'undefined');\n        if (object.hasOwnProperty(key)) {\n            callback(object, key, state);\n        }\n        if ((typeof object[key] === 'object') && (!state.identity)) {\n            if (state.identityDetection && !Array.isArray(object[key]) && object[key] !== null) {\n                state.seen.set(object[key],state.path);\n            }\n            let newState = {};\n            newState.parent = object;\n            newState.path = state.path;\n            newState.depth = state.depth ? state.depth+1 : 1;\n            newState.pkey = key;\n            newState.payload = state.payload;\n            newState.seen = state.seen;\n            newState.identity = false;\n            newState.identityDetection = state.identityDetection;\n            recurse(object[key], newState, callback);\n        }\n        state.path = oPath;\n    }\n}\n\nmodule.exports = {\n    recurse : recurse\n};\n\n","\n      import API from \"!../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../css-loader/dist/cjs.js!../../esbuild-loader/dist/index.js??ruleSet[1].rules[1].use[2]!./perfect-scrollbar.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../css-loader/dist/cjs.js!../../esbuild-loader/dist/index.js??ruleSet[1].rules[1].use[2]!./perfect-scrollbar.css\";\n       export default content && content.locals ? content.locals : undefined;\n","\"use strict\";\n\nvar stylesInDOM = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n\n  return updater;\n}\n\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\nvar memo = {};\n/* istanbul ignore next  */\n\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n\n    memo[target] = styleTarget;\n  }\n\n  return memo[target];\n}\n/* istanbul ignore next  */\n\n\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n\n  target.appendChild(style);\n}\n\nmodule.exports = insertBySelector;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\n\nmodule.exports = insertStyleElement;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce = typeof __webpack_nonce__ !== \"undefined\" ? __webpack_nonce__ : null;\n\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\n\nmodule.exports = setAttributesWithoutAttributes;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n\n  var needLayer = typeof obj.layer !== \"undefined\";\n\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n\n  css += obj.css;\n\n  if (needLayer) {\n    css += \"}\";\n  }\n\n  if (obj.media) {\n    css += \"}\";\n  }\n\n  if (obj.supports) {\n    css += \"}\";\n  }\n\n  var sourceMap = obj.sourceMap;\n\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  options.styleTagTransform(css, styleElement, options.options);\n}\n\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n\n  styleElement.parentNode.removeChild(styleElement);\n}\n/* istanbul ignore next  */\n\n\nfunction domAPI(options) {\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\n\nmodule.exports = domAPI;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\n\nmodule.exports = styleTagTransform;","// @ts-check\n'use strict';\n\nconst fs = require('fs');\nconst url = require('url');\nconst pathlib = require('path');\n\nconst maybe = require('call-me-maybe');\nconst fetch = require('node-fetch-h2');\nconst yaml = require('yaml');\n\nconst jptr = require('reftools/lib/jptr.js');\nconst resolveInternal = jptr.jptr;\nconst isRef = require('reftools/lib/isref.js').isRef;\nconst clone = require('reftools/lib/clone.js').clone;\nconst cclone = require('reftools/lib/clone.js').circularClone;\nconst recurse = require('reftools/lib/recurse.js').recurse;\nconst resolver = require('oas-resolver');\nconst sw = require('oas-schema-walker');\nconst common = require('oas-kit-common');\n\nconst statusCodes = require('./lib/statusCodes.js').statusCodes;\n\nconst ourVersion = require('./package.json').version;\n\n// TODO handle specification-extensions with plugins?\n\nconst targetVersion = '3.0.0';\nlet componentNames; // initialised in main\n\nclass S2OError extends Error {\n  constructor(message) {\n    super(message);\n    this.name = 'S2OError';\n  }\n}\n\nfunction throwError(message, options) {\n    let err = new S2OError(message);\n    err.options = options;\n    if (options.promise) {\n        options.promise.reject(err);\n    }\n    else {\n        throw err;\n    }\n}\n\nfunction throwOrWarn(message, container, options) {\n    if (options.warnOnly) {\n        container[options.warnProperty||'x-s2o-warning'] = message;\n    }\n    else {\n        throwError(message, options);\n    }\n}\n\nfunction fixUpSubSchema(schema,parent,options) {\n    if (schema.nullable) options.patches++;\n    if (schema.discriminator && typeof schema.discriminator === 'string') {\n        schema.discriminator = { propertyName: schema.discriminator };\n    }\n    if (schema.items && Array.isArray(schema.items)) {\n        if (schema.items.length === 0) {\n            schema.items = {};\n        }\n        else if (schema.items.length === 1) {\n            schema.items = schema.items[0];\n        }\n        else schema.items = { anyOf: schema.items };\n    }\n\n    if (schema.type && Array.isArray(schema.type)) {\n        if (options.patch) {\n            options.patches++;\n            if (schema.type.length === 0) {\n                delete schema.type;\n            }\n            else {\n                if (!schema.oneOf) schema.oneOf = [];\n                for (let type of schema.type) {\n                    let newSchema = {};\n                    if (type === 'null') {\n                        schema.nullable = true;\n                    }\n                    else {\n                        newSchema.type = type;\n                        for (let prop of common.arrayProperties) {\n                            if (typeof schema.prop !== 'undefined') {\n                                newSchema[prop] = schema[prop];\n                                delete schema[prop];\n                            }\n                        }\n                    }\n                    if (newSchema.type) {\n                        schema.oneOf.push(newSchema);\n                    }\n                }\n                delete schema.type;\n                if (schema.oneOf.length === 0) {\n                    delete schema.oneOf; // means was just null => nullable\n                }\n                else if (schema.oneOf.length < 2) {\n                    schema.type = schema.oneOf[0].type;\n                    if (Object.keys(schema.oneOf[0]).length > 1) {\n                        throwOrWarn('Lost properties from oneOf',schema,options);\n                    }\n                    delete schema.oneOf;\n                }\n            }\n            // do not else this\n            if (schema.type && Array.isArray(schema.type) && schema.type.length === 1) {\n                schema.type = schema.type[0];\n            }\n        }\n        else {\n            throwError('(Patchable) schema type must not be an array', options);\n        }\n    }\n\n    if (schema.type && schema.type === 'null') {\n        delete schema.type;\n        schema.nullable = true;\n    }\n    if ((schema.type === 'array') && (!schema.items)) {\n        schema.items = {};\n    }\n    if (schema.type === 'file') {\n        schema.type = 'string';\n        schema.format = 'binary';\n    }\n    if (typeof schema.required === 'boolean') {\n        if (schema.required && schema.name) {\n            if (typeof parent.required === 'undefined') {\n                parent.required = [];\n            }\n            if (Array.isArray(parent.required)) parent.required.push(schema.name);\n        }\n        delete schema.required;\n    }\n\n    // TODO if we have a nested properties (object inside an object) and the\n    // *parent* type is not set, force it to object\n    // TODO if default is set but type is not set, force type to typeof default\n\n    if (schema.xml && typeof schema.xml.namespace === 'string') {\n        if (!schema.xml.namespace) delete schema.xml.namespace;\n    }\n    if (typeof schema.allowEmptyValue !== 'undefined') {\n      options.patches++;\n      delete schema.allowEmptyValue;\n    }\n}\n\nfunction fixUpSubSchemaExtensions(schema,parent) {\n    if (schema[\"x-required\"] && Array.isArray(schema[\"x-required\"])) {\n        if (!schema.required) schema.required = [];\n        schema.required = schema.required.concat(schema[\"x-required\"]);\n        delete schema[\"x-required\"];\n    }\n    if (schema[\"x-anyOf\"]) {\n        schema.anyOf = schema[\"x-anyOf\"];\n        delete schema[\"x-anyOf\"];\n    }\n    if (schema[\"x-oneOf\"]) {\n        schema.oneOf = schema[\"x-oneOf\"];\n        delete schema[\"x-oneOf\"];\n    }\n    if (schema[\"x-not\"]) {\n        schema.not = schema[\"x-not\"];\n        delete schema[\"x-not\"];\n    }\n    if (typeof schema[\"x-nullable\"] === 'boolean') {\n        schema.nullable = schema[\"x-nullable\"];\n        delete schema[\"x-nullable\"];\n    }\n    if ((typeof schema[\"x-discriminator\"] === 'object') && (typeof schema[\"x-discriminator\"].propertyName === 'string')) {\n        schema.discriminator = schema[\"x-discriminator\"];\n        delete schema[\"x-discriminator\"];\n        for (let entry in schema.discriminator.mapping) {\n            let schemaOrRef = schema.discriminator.mapping[entry];\n            if (schemaOrRef.startsWith('#/definitions/')) {\n                schema.discriminator.mapping[entry] = schemaOrRef.replace('#/definitions/','#/components/schemas/');\n            }\n        }\n    }\n}\n\nfunction fixUpSchema(schema,options) {\n    sw.walkSchema(schema,{},{},function(schema,parent,state){\n        fixUpSubSchemaExtensions(schema,parent);\n        fixUpSubSchema(schema,parent,options);\n    });\n}\n\nfunction getMiroComponentName(ref) {\n    if (ref.indexOf('#')>=0) {\n        ref = ref.split('#')[1].split('/').pop();\n    }\n    else {\n        ref = ref.split('/').pop().split('.')[0];\n    }\n    return encodeURIComponent(common.sanitise(ref));\n}\n\nfunction fixupRefs(obj, key, state) {\n    let options = state.payload.options;\n    if (isRef(obj,key)) {\n        if (obj[key].startsWith('#/components/')) {\n            // no-op\n        }\n        else if (obj[key] === '#/consumes') {\n            // people are *so* creative\n            delete obj[key];\n            state.parent[state.pkey] = clone(options.openapi.consumes);\n        }\n        else if (obj[key] === '#/produces') {\n            // and by creative, I mean devious\n            delete obj[key];\n            state.parent[state.pkey] = clone(options.openapi.produces);\n        }\n        else if (obj[key].startsWith('#/definitions/')) {\n            //only the first part of a schema component name must be sanitised\n            let keys = obj[key].replace('#/definitions/', '').split('/');\n            const ref = jptr.jpunescape(keys[0]);\n\n            let newKey = componentNames.schemas[decodeURIComponent(ref)]; // lookup, resolves a $ref\n            if (newKey) {\n                keys[0] = newKey;\n            }\n            else {\n                throwOrWarn('Could not resolve reference '+obj[key],obj,options);\n            }\n            obj[key] = '#/components/schemas/' + keys.join('/');\n        }\n        else if (obj[key].startsWith('#/parameters/')) {\n            // for extensions like Apigee's x-templates\n            obj[key] = '#/components/parameters/' + common.sanitise(obj[key].replace('#/parameters/', ''));\n        }\n        else if (obj[key].startsWith('#/responses/')) {\n            // for extensions like Apigee's x-templates\n            obj[key] = '#/components/responses/' + common.sanitise(obj[key].replace('#/responses/', ''));\n        }\n        else if (obj[key].startsWith('#')) {\n            // fixes up direct $refs or those created by resolvers\n            let target = clone(jptr.jptr(options.openapi,obj[key]));\n            if (target === false) throwOrWarn('direct $ref not found '+obj[key],obj,options)\n            else if (options.refmap[obj[key]]) {\n                obj[key] = options.refmap[obj[key]];\n            }\n            else {\n                // we use a heuristic to determine what kind of thing is being referenced\n                let oldRef = obj[key];\n                oldRef = oldRef.replace('/properties/headers/','');\n                oldRef = oldRef.replace('/properties/responses/','');\n                oldRef = oldRef.replace('/properties/parameters/','');\n                oldRef = oldRef.replace('/properties/schemas/','');\n                let type = 'schemas';\n                let schemaIndex = oldRef.lastIndexOf('/schema');\n                type = (oldRef.indexOf('/headers/')>schemaIndex) ? 'headers' :\n                    ((oldRef.indexOf('/responses/')>schemaIndex) ? 'responses' :\n                    ((oldRef.indexOf('/example')>schemaIndex) ? 'examples' :\n                    ((oldRef.indexOf('/x-')>schemaIndex) ? 'extensions' :\n                    ((oldRef.indexOf('/parameters/')>schemaIndex) ? 'parameters' : 'schemas'))));\n\n                // non-body/form parameters have not moved in the overall structure (like responses)\n                // but extracting the requestBodies can cause the *number* of parameters to change\n\n                if (type === 'schemas') {\n                    fixUpSchema(target,options);\n                }\n\n                if ((type !== 'responses') && (type !== 'extensions')) {\n                    let prefix = type.substr(0,type.length-1);\n                    if ((prefix === 'parameter') && target.name && (target.name === common.sanitise(target.name))) {\n                        prefix = encodeURIComponent(target.name);\n                    }\n\n                    let suffix = 1;\n                    if (obj['x-miro']) {\n                        prefix = getMiroComponentName(obj['x-miro']);\n                        suffix = '';\n                    }\n\n                    while (jptr.jptr(options.openapi,'#/components/'+type+'/'+prefix+suffix)) {\n                        suffix = (suffix === '' ? 2 : ++suffix);\n                    }\n\n                    let newRef = '#/components/'+type+'/'+prefix+suffix;\n                    let refSuffix = '';\n\n                    if (type === 'examples') {\n                        target = { value: target };\n                        refSuffix = '/value';\n                    }\n\n                    jptr.jptr(options.openapi,newRef,target);\n                    options.refmap[obj[key]] = newRef+refSuffix;\n                    obj[key] = newRef+refSuffix;\n                }\n            }\n        }\n\n        delete obj['x-miro'];\n        // do this last - rework cases where $ref object has sibling properties\n        if (Object.keys(obj).length > 1) {\n            const tmpRef = obj[key];\n            const inSchema = state.path.indexOf('/schema') >= 0; // not perfect, but in the absence of a reasonably-sized and complete OAS 2.0 parser...\n            if (options.refSiblings === 'preserve') {\n                // no-op\n            }\n            else if (inSchema && (options.refSiblings === 'allOf')) {\n                delete obj.$ref;\n                state.parent[state.pkey] = { allOf: [ { $ref: tmpRef }, obj ]};\n            }\n            else { // remove, or not 'preserve' and not in a schema\n                state.parent[state.pkey] = { $ref: tmpRef };\n            }\n        }\n\n    }\n    if ((key === 'x-ms-odata') && (typeof obj[key] === 'string') && (obj[key].startsWith('#/'))) {\n        let keys = obj[key].replace('#/definitions/', '').replace('#/components/schemas/','').split('/');\n        let newKey = componentNames.schemas[decodeURIComponent(keys[0])]; // lookup, resolves a $ref\n        if (newKey) {\n            keys[0] = newKey;\n        }\n        else {\n            throwOrWarn('Could not resolve reference '+obj[key],obj,options);\n        }\n        obj[key] = '#/components/schemas/' + keys.join('/');\n    }\n}\n\n/*\n* This has to happen as a separate pass because multiple $refs may point\n* through elements of the same path\n*/\nfunction dedupeRefs(openapi, options) {\n    for (let ref in options.refmap) {\n        jptr.jptr(openapi,ref,{ $ref: options.refmap[ref] });\n    }\n}\n\nfunction processSecurity(securityObject) {\n    for (let s in securityObject) {\n        for (let k in securityObject[s]) {\n            let sname = common.sanitise(k);\n            if (k !== sname) {\n                securityObject[s][sname] = securityObject[s][k];\n                delete securityObject[s][k];\n            }\n        }\n    }\n}\n\nfunction processSecurityScheme(scheme, options) {\n    if (scheme.type === 'basic') {\n        scheme.type = 'http';\n        scheme.scheme = 'basic';\n    }\n    if (scheme.type === 'oauth2') {\n        let flow = {};\n        let flowName = scheme.flow;\n        if (scheme.flow === 'application') flowName = 'clientCredentials';\n        if (scheme.flow === 'accessCode') flowName = 'authorizationCode';\n        if (typeof scheme.authorizationUrl !== 'undefined') flow.authorizationUrl = scheme.authorizationUrl.split('?')[0].trim() || '/';\n        if (typeof scheme.tokenUrl === 'string') flow.tokenUrl = scheme.tokenUrl.split('?')[0].trim() || '/';\n        flow.scopes = scheme.scopes || {};\n        scheme.flows = {};\n        scheme.flows[flowName] = flow;\n        delete scheme.flow;\n        delete scheme.authorizationUrl;\n        delete scheme.tokenUrl;\n        delete scheme.scopes;\n        if (typeof scheme.name !== 'undefined') {\n            if (options.patch) {\n                options.patches++;\n                delete scheme.name;\n            }\n            else {\n                throwError('(Patchable) oauth2 securitySchemes should not have name property', options);\n            }\n        }\n    }\n}\n\nfunction keepParameters(value) {\n    return (value && !value[\"x-s2o-delete\"]);\n}\n\nfunction processHeader(header, options) {\n    if (header.$ref) {\n        header.$ref = header.$ref.replace('#/responses/', '#/components/responses/');\n    }\n    else {\n        if (header.type && !header.schema) {\n            header.schema = {};\n        }\n        if (header.type) header.schema.type = header.type;\n        if (header.items && header.items.type !== 'array') {\n            if (header.items.collectionFormat !== header.collectionFormat) {\n                throwOrWarn('Nested collectionFormats are not supported', header, options);\n            }\n            delete header.items.collectionFormat;\n        }\n        if (header.type === 'array') {\n            if (header.collectionFormat === 'ssv') {\n                throwOrWarn('collectionFormat:ssv is no longer supported for headers', header, options); // not lossless\n            }\n            else if (header.collectionFormat === 'pipes') {\n                throwOrWarn('collectionFormat:pipes is no longer supported for headers', header, options); // not lossless\n            }\n            else if (header.collectionFormat === 'multi') {\n                header.explode = true;\n            }\n            else if (header.collectionFormat === 'tsv') {\n                throwOrWarn('collectionFormat:tsv is no longer supported', header, options); // not lossless\n                header[\"x-collectionFormat\"] = 'tsv';\n            }\n            else { // 'csv'\n                header.style = 'simple';\n            }\n            delete header.collectionFormat;\n        }\n        else if (header.collectionFormat) {\n            if (options.patch) {\n                options.patches++;\n                delete header.collectionFormat;\n            }\n            else {\n                throwError('(Patchable) collectionFormat is only applicable to header.type array', options);\n            }\n        }\n        delete header.type;\n        for (let prop of common.parameterTypeProperties) {\n            if (typeof header[prop] !== 'undefined') {\n                header.schema[prop] = header[prop];\n                delete header[prop];\n            }\n        }\n        for (let prop of common.arrayProperties) {\n            if (typeof header[prop] !== 'undefined') {\n                header.schema[prop] = header[prop];\n                delete header[prop];\n            }\n        }\n    }\n}\n\nfunction fixParamRef(param, options) {\n    if (param.$ref.indexOf('#/parameters/') >= 0) {\n        let refComponents = param.$ref.split('#/parameters/');\n        param.$ref = refComponents[0] + '#/components/parameters/' + common.sanitise(refComponents[1]);\n    }\n    if (param.$ref.indexOf('#/definitions/') >= 0) {\n        throwOrWarn('Definition used as parameter', param, options);\n    }\n}\n\nfunction attachRequestBody(op,options) {\n    let newOp = {};\n    for (let key of Object.keys(op)) {\n        newOp[key] = op[key];\n        if (key === 'parameters') {\n            newOp.requestBody = {};\n            if (options.rbname) newOp[options.rbname] = '';\n        }\n    }\n    newOp.requestBody = {}; // just in case there are no parameters\n    return newOp;\n}\n\n/**\n * @returns op, as it may have changed\n */\nfunction processParameter(param, op, path, method, index, openapi, options) {\n    let result = {};\n    let singularRequestBody = true;\n    let originalType;\n\n    if (op && op.consumes && (typeof op.consumes === 'string')) {\n        if (options.patch) {\n            options.patches++;\n            op.consumes = [op.consumes];\n        }\n        else {\n            return throwError('(Patchable) operation.consumes must be an array', options);\n        }\n    }\n    if (!Array.isArray(openapi.consumes)) delete openapi.consumes;\n    let consumes = ((op ? op.consumes : null) || (openapi.consumes || [])).filter(common.uniqueOnly);\n\n    if (param && param.$ref && (typeof param.$ref === 'string')) {\n        // if we still have a ref here, it must be an internal one\n        fixParamRef(param, options);\n        let ptr = decodeURIComponent(param.$ref.replace('#/components/parameters/', ''));\n        let rbody = false;\n        let target = openapi.components.parameters[ptr]; // resolves a $ref, must have been sanitised already\n\n        if (((!target) || (target[\"x-s2o-delete\"])) && param.$ref.startsWith('#/')) {\n            // if it's gone, chances are it's a requestBody component now unless spec was broken\n            param[\"x-s2o-delete\"] = true;\n            rbody = true;\n        }\n\n        // shared formData parameters from swagger or path level could be used in any combination.\n        // we dereference all op.requestBody's then hash them and pull out common ones later\n\n        if (rbody) {\n            let ref = param.$ref;\n            let newParam = resolveInternal(openapi, param.$ref);\n            if (!newParam && ref.startsWith('#/')) {\n                throwOrWarn('Could not resolve reference ' + ref, param, options);\n            }\n            else {\n                if (newParam) param = newParam; // preserve reference\n            }\n        }\n    }\n\n    if (param && (param.name || param.in)) { // if it's a real parameter OR we've dereferenced it\n\n        if (typeof param['x-deprecated'] === 'boolean') {\n            param.deprecated = param['x-deprecated'];\n            delete param['x-deprecated'];\n        }\n\n        if (typeof param['x-example'] !== 'undefined') {\n            param.example = param['x-example'];\n            delete param['x-example'];\n        }\n\n        if ((param.in !== 'body') && (!param.type)) {\n            if (options.patch) {\n                options.patches++;\n                param.type = 'string';\n            }\n            else {\n                throwError('(Patchable) parameter.type is mandatory for non-body parameters', options);\n            }\n        }\n        if (param.type && typeof param.type === 'object' && param.type.$ref) {\n            // $ref anywhere sensibility\n            param.type = resolveInternal(openapi, param.type.$ref);\n        }\n        if (param.type === 'file') {\n            param['x-s2o-originalType'] = param.type;\n            originalType = param.type;\n        }\n        if (param.description && typeof param.description === 'object' && param.description.$ref) {\n            // $ref anywhere sensibility\n            param.description = resolveInternal(openapi, param.description.$ref);\n        }\n        if (param.description === null) delete param.description;\n\n        let oldCollectionFormat = param.collectionFormat;\n        if ((param.type === 'array') && !oldCollectionFormat) {\n            oldCollectionFormat = 'csv';\n        }\n        if (oldCollectionFormat) {\n            if (param.type !== 'array') {\n                if (options.patch) {\n                    options.patches++;\n                    delete param.collectionFormat;\n                }\n                else {\n                    throwError('(Patchable) collectionFormat is only applicable to param.type array', options);\n                }\n            }\n            if ((oldCollectionFormat === 'csv') && ((param.in === 'query') || (param.in === 'cookie'))) {\n                param.style = 'form';\n                param.explode = false;\n            }\n            if ((oldCollectionFormat === 'csv') && ((param.in === 'path') || (param.in === 'header'))) {\n                param.style = 'simple';\n            }\n            if (oldCollectionFormat === 'ssv') {\n                if (param.in === 'query') {\n                    param.style = 'spaceDelimited';\n                }\n                else {\n                    throwOrWarn('collectionFormat:ssv is no longer supported except for in:query parameters', param, options); // not lossless\n                }\n            }\n            if (oldCollectionFormat === 'pipes') {\n                if (param.in === 'query') {\n                    param.style = 'pipeDelimited';\n                }\n                else {\n                    throwOrWarn('collectionFormat:pipes is no longer supported except for in:query parameters', param, options); // not lossless\n                }\n            }\n            if (oldCollectionFormat === 'multi') {\n                param.explode = true;\n            }\n            if (oldCollectionFormat === 'tsv') {\n                throwOrWarn('collectionFormat:tsv is no longer supported', param, options); // not lossless\n                param[\"x-collectionFormat\"] = 'tsv';\n            }\n            delete param.collectionFormat;\n        }\n\n        if (param.type && (param.type !== 'body') && (param.in !== 'formData')) {\n            if (param.items && param.schema) {\n                throwOrWarn('parameter has array,items and schema', param, options);\n            }\n            else {\n                if (param.schema) options.patches++; // already present\n                if ((!param.schema) || (typeof param.schema !== 'object')) param.schema = {};\n                param.schema.type = param.type;\n                if (param.items) {\n                    param.schema.items = param.items;\n                    delete param.items;\n                    recurse(param.schema.items, null, function (obj, key, state) {\n                        if ((key === 'collectionFormat') && (typeof obj[key] === 'string')) {\n                            if (oldCollectionFormat && obj[key] !== oldCollectionFormat) {\n                                throwOrWarn('Nested collectionFormats are not supported', param, options);\n                            }\n                            delete obj[key]; // not lossless\n                        }\n                        // items in 2.0 was a subset of the JSON-Schema items\n                        // object, it gets fixed up below\n                    });\n                }\n                for (let prop of common.parameterTypeProperties) {\n                    if (typeof param[prop] !== 'undefined') param.schema[prop] = param[prop];\n                    delete param[prop];\n                }\n            }\n        }\n\n        if (param.schema) {\n            fixUpSchema(param.schema,options);\n        }\n\n        if (param[\"x-ms-skip-url-encoding\"]) {\n            if (param.in === 'query') { // might be in:path, not allowed in OAS3\n                param.allowReserved = true;\n                delete param[\"x-ms-skip-url-encoding\"];\n            }\n        }\n    }\n\n    if (param && param.in === 'formData') {\n        // convert to requestBody component\n        singularRequestBody = false;\n        result.content = {};\n        let contentType = 'application/x-www-form-urlencoded';\n        if ((consumes.length) && (consumes.indexOf('multipart/form-data') >= 0)) {\n            contentType = 'multipart/form-data';\n        }\n\n        result.content[contentType] = {};\n        if (param.schema) {\n            result.content[contentType].schema = param.schema;\n            if (param.schema.$ref) {\n                result['x-s2o-name'] = decodeURIComponent(param.schema.$ref.replace('#/components/schemas/', ''));\n            }\n        }\n        else {\n            result.content[contentType].schema = {};\n            result.content[contentType].schema.type = 'object';\n            result.content[contentType].schema.properties = {};\n            result.content[contentType].schema.properties[param.name] = {};\n            let schema = result.content[contentType].schema;\n            let target = result.content[contentType].schema.properties[param.name];\n            if (param.description) target.description = param.description;\n            if (param.example) target.example = param.example;\n            if (param.type) target.type = param.type;\n\n            for (let prop of common.parameterTypeProperties) {\n                if (typeof param[prop] !== 'undefined') target[prop] = param[prop];\n            }\n            if (param.required === true) {\n                if (!schema.required) schema.required = [];\n                schema.required.push(param.name);\n                result.required = true;\n            }\n            if (typeof param.default !== 'undefined') target.default = param.default;\n            if (target.properties) target.properties = param.properties;\n            if (param.allOf) target.allOf = param.allOf; // new are anyOf, oneOf, not\n            if ((param.type === 'array') && (param.items)) {\n                target.items = param.items;\n                if (target.items.collectionFormat) delete target.items.collectionFormat;\n            }\n            if ((originalType === 'file') || (param['x-s2o-originalType'] === 'file')) {\n                target.type = 'string';\n                target.format = 'binary';\n            }\n\n            // Copy any extensions on the form param to the target schema property.\n            copyExtensions(param, target);\n        }\n    }\n    else if (param && (param.type === 'file')) {\n        // convert to requestBody\n        if (param.required) result.required = param.required;\n        result.content = {};\n        result.content[\"application/octet-stream\"] = {};\n        result.content[\"application/octet-stream\"].schema = {};\n        result.content[\"application/octet-stream\"].schema.type = 'string';\n        result.content[\"application/octet-stream\"].schema.format = 'binary';\n        copyExtensions(param, result);\n    }\n    if (param && param.in === 'body') {\n        result.content = {};\n        if (param.name) result['x-s2o-name'] = (op && op.operationId ? common.sanitiseAll(op.operationId) : '') + ('_' + param.name).toCamelCase();\n        if (param.description) result.description = param.description;\n        if (param.required) result.required = param.required;\n\n        // Set the \"request body name\" extension on the operation if requested.\n        if (op && options.rbname && param.name) {\n            op[options.rbname] = param.name;\n        }\n        if (param.schema && param.schema.$ref) {\n            result['x-s2o-name'] = decodeURIComponent(param.schema.$ref.replace('#/components/schemas/', ''));\n        }\n        else if (param.schema && (param.schema.type === 'array') && param.schema.items && param.schema.items.$ref) {\n            result['x-s2o-name'] = decodeURIComponent(param.schema.items.$ref.replace('#/components/schemas/', '')) + 'Array';\n        }\n\n        if (!consumes.length) {\n            consumes.push('application/json'); // TODO verify default\n        }\n\n        for (let mimetype of consumes) {\n            result.content[mimetype] = {};\n            result.content[mimetype].schema = clone(param.schema || {});\n            fixUpSchema(result.content[mimetype].schema,options);\n        }\n\n        // Copy any extensions from the original parameter to the new requestBody\n        copyExtensions(param, result);\n    }\n\n    if (Object.keys(result).length > 0) {\n        param[\"x-s2o-delete\"] = true;\n        // work out where to attach the requestBody\n        if (op) {\n            if (op.requestBody && singularRequestBody) {\n                op.requestBody[\"x-s2o-overloaded\"] = true;\n                let opId = op.operationId || index;\n\n                throwOrWarn('Operation ' + opId + ' has multiple requestBodies', op, options);\n            }\n            else {\n                if (!op.requestBody) {\n                   op = path[method] = attachRequestBody(op,options); // make sure we have one\n                }\n                if ((op.requestBody.content && op.requestBody.content[\"multipart/form-data\"])\n                    && (op.requestBody.content[\"multipart/form-data\"].schema) && (op.requestBody.content[\"multipart/form-data\"].schema.properties) && (result.content[\"multipart/form-data\"]) && (result.content[\"multipart/form-data\"].schema) && (result.content[\"multipart/form-data\"].schema.properties)) {\n                    op.requestBody.content[\"multipart/form-data\"].schema.properties =\n                        Object.assign(op.requestBody.content[\"multipart/form-data\"].schema.properties, result.content[\"multipart/form-data\"].schema.properties);\n                    op.requestBody.content[\"multipart/form-data\"].schema.required = (op.requestBody.content[\"multipart/form-data\"].schema.required || []).concat(result.content[\"multipart/form-data\"].schema.required||[]);\n                    if (!op.requestBody.content[\"multipart/form-data\"].schema.required.length) {\n                        delete op.requestBody.content[\"multipart/form-data\"].schema.required;\n                    }\n                }\n                else if ((op.requestBody.content && op.requestBody.content[\"application/x-www-form-urlencoded\"] && op.requestBody.content[\"application/x-www-form-urlencoded\"].schema && op.requestBody.content[\"application/x-www-form-urlencoded\"].schema.properties)\n                    && result.content[\"application/x-www-form-urlencoded\"] && result.content[\"application/x-www-form-urlencoded\"].schema && result.content[\"application/x-www-form-urlencoded\"].schema.properties) {\n                    op.requestBody.content[\"application/x-www-form-urlencoded\"].schema.properties =\n                        Object.assign(op.requestBody.content[\"application/x-www-form-urlencoded\"].schema.properties, result.content[\"application/x-www-form-urlencoded\"].schema.properties);\n                    op.requestBody.content[\"application/x-www-form-urlencoded\"].schema.required = (op.requestBody.content[\"application/x-www-form-urlencoded\"].schema.required || []).concat(result.content[\"application/x-www-form-urlencoded\"].schema.required||[]);\n                    if (!op.requestBody.content[\"application/x-www-form-urlencoded\"].schema.required.length) {\n                        delete op.requestBody.content[\"application/x-www-form-urlencoded\"].schema.required;\n                    }\n                }\n                else {\n                    op.requestBody = Object.assign(op.requestBody, result);\n                    if (!op.requestBody['x-s2o-name']) {\n                        if (op.requestBody.schema && op.requestBody.schema.$ref) {\n                            op.requestBody['x-s2o-name'] = decodeURIComponent(op.requestBody.schema.$ref.replace('#/components/schemas/', '')).split('/').join('');\n                        }\n                        else if (op.operationId) {\n                            op.requestBody['x-s2o-name'] = common.sanitiseAll(op.operationId);\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    // tidy up\n    if (param && !param['x-s2o-delete']) {\n        delete param.type;\n        for (let prop of common.parameterTypeProperties) {\n            delete param[prop];\n        }\n\n        if ((param.in === 'path') && ((typeof param.required === 'undefined') || (param.required !== true))) {\n            if (options.patch) {\n                options.patches++;\n                param.required = true;\n            }\n            else {\n                throwError('(Patchable) path parameters must be required:true ['+param.name+' in '+index+']', options);\n            }\n        }\n    }\n\n    return op;\n}\n\nfunction copyExtensions(src, tgt) {\n    for (let prop in src) {\n        if (prop.startsWith('x-') && !prop.startsWith('x-s2o')) {\n            tgt[prop] = src[prop];\n        }\n    }\n}\n\nfunction processResponse(response, name, op, openapi, options) {\n    if (!response) return false;\n    if (response.$ref && (typeof response.$ref === 'string')) {\n        if (response.$ref.indexOf('#/definitions/') >= 0) {\n            //response.$ref = '#/components/schemas/'+common.sanitise(response.$ref.replace('#/definitions/',''));\n            throwOrWarn('definition used as response: ' + response.$ref, response, options);\n        }\n        else {\n            if (response.$ref.startsWith('#/responses/')) {\n                response.$ref = '#/components/responses/' + common.sanitise(decodeURIComponent(response.$ref.replace('#/responses/', '')));\n            }\n        }\n    }\n    else {\n        if ((typeof response.description === 'undefined') || (response.description === null)\n            || ((response.description === '') && options.patch)) {\n            if (options.patch) {\n                if ((typeof response === 'object') && (!Array.isArray(response))) {\n                    options.patches++;\n                    response.description = (statusCodes[response] || '');\n                }\n            }\n            else {\n                throwError('(Patchable) response.description is mandatory', options);\n            }\n        }\n        if (typeof response.schema !== 'undefined') {\n\n            fixUpSchema(response.schema,options);\n\n            if (response.schema.$ref && (typeof response.schema.$ref === 'string') && response.schema.$ref.startsWith('#/responses/')) {\n                response.schema.$ref = '#/components/responses/' + common.sanitise(decodeURIComponent(response.schema.$ref.replace('#/responses/', '')));\n            }\n\n            if (op && op.produces && (typeof op.produces === 'string')) {\n                if (options.patch) {\n                    options.patches++;\n                    op.produces = [op.produces];\n                }\n                else {\n                    return throwError('(Patchable) operation.produces must be an array', options);\n                }\n            }\n            if (openapi.produces && !Array.isArray(openapi.produces)) delete openapi.produces;\n\n            let produces = ((op ? op.produces : null) || (openapi.produces || [])).filter(common.uniqueOnly);\n            if (!produces.length) produces.push('*/*'); // TODO verify default\n\n            response.content = {};\n            for (let mimetype of produces) {\n                response.content[mimetype] = {};\n                response.content[mimetype].schema = clone(response.schema);\n                if (response.examples && response.examples[mimetype]) {\n                    let example = {};\n                    example.value = response.examples[mimetype];\n                    response.content[mimetype].examples = {};\n                    response.content[mimetype].examples.response = example;\n                    delete response.examples[mimetype];\n                }\n                if (response.content[mimetype].schema.type === 'file') {\n                    response.content[mimetype].schema = { type: 'string', format: 'binary' };\n                }\n            }\n            delete response.schema;\n        }\n        // examples for content-types not listed in produces\n        for (let mimetype in response.examples) {\n            if (!response.content) response.content = {};\n            if (!response.content[mimetype]) response.content[mimetype] = {};\n            response.content[mimetype].examples = {};\n            response.content[mimetype].examples.response = {};\n            response.content[mimetype].examples.response.value = response.examples[mimetype];\n        }\n        delete response.examples;\n\n        if (response.headers) {\n            for (let h in response.headers) {\n                if (h.toLowerCase() === 'status code') {\n                    if (options.patch) {\n                        options.patches++;\n                        delete response.headers[h];\n                    }\n                    else {\n                        throwError('(Patchable) \"Status Code\" is not a valid header', options);\n                    }\n                }\n                else {\n                    processHeader(response.headers[h], options);\n                }\n            }\n        }\n    }\n}\n\nfunction processPaths(container, containerName, options, requestBodyCache, openapi) {\n    for (let p in container) {\n        let path = container[p];\n        // path.$ref is external only\n        if (path && (path['x-trace']) && (typeof path['x-trace'] === 'object')) {\n            path.trace = path['x-trace'];\n            delete path['x-trace'];\n        }\n        if (path && (path['x-summary']) && (typeof path['x-summary'] === 'string')) {\n            path.summary = path['x-summary'];\n            delete path['x-summary'];\n        }\n        if (path && (path['x-description']) && (typeof path['x-description'] === 'string')) {\n            path.description = path['x-description'];\n            delete path['x-description'];\n        }\n        if (path && (path['x-servers']) && (Array.isArray(path['x-servers']))) {\n            path.servers = path['x-servers'];\n            delete path['x-servers'];\n        }\n        for (let method in path) {\n            if ((common.httpMethods.indexOf(method) >= 0) || (method === 'x-amazon-apigateway-any-method')) {\n                let op = path[method];\n\n                if (op && op.parameters && Array.isArray(op.parameters)) {\n                    if (path.parameters) {\n                        for (let param of path.parameters) {\n                            if (typeof param.$ref === 'string') {\n                                fixParamRef(param, options);\n                                param = resolveInternal(openapi, param.$ref);\n                            }\n                            let match = op.parameters.find(function (e, i, a) {\n                                return ((e.name === param.name) && (e.in === param.in));\n                            });\n\n                            if (!match && ((param.in === 'formData') || (param.in === 'body') || (param.type === 'file'))) {\n                                op = processParameter(param, op, path, method, p, openapi, options);\n                                if (options.rbname && op[options.rbname] === '') {\n                                    delete op[options.rbname];\n                                }\n                            }\n                        }\n                    }\n                    for (let param of op.parameters) {\n                        op = processParameter(param, op, path, method, method + ':' + p, openapi, options);\n                    }\n                    if (options.rbname && op[options.rbname] === '') {\n                        delete op[options.rbname];\n                    }\n                    if (!options.debug) {\n                        if (op.parameters) op.parameters = op.parameters.filter(keepParameters);\n                    }\n                }\n\n                if (op && op.security) processSecurity(op.security);\n\n                //don't need to remove requestBody for non-supported ops as they \"SHALL be ignored\"\n\n                // responses\n                if (typeof op === 'object') {\n                    if (!op.responses) {\n                        let defaultResp = {};\n                        defaultResp.description = 'Default response';\n                        op.responses = { default: defaultResp };\n                    }\n                    for (let r in op.responses) {\n                        let response = op.responses[r];\n                        processResponse(response, r, op, openapi, options);\n                    }\n                }\n\n                if (op && (op['x-servers']) && (Array.isArray(op['x-servers']))) {\n                    op.servers = op['x-servers'];\n                    delete op['x-servers'];\n                } else if (op && op.schemes && op.schemes.length) {\n                    for (let scheme of op.schemes) {\n                        if ((!openapi.schemes) || (openapi.schemes.indexOf(scheme) < 0)) {\n                            if (!op.servers) {\n                                op.servers = [];\n                            }\n                            if (Array.isArray(openapi.servers)) {\n                                for (let server of openapi.servers) {\n                                    let newServer = clone(server);\n                                    let serverUrl = url.parse(newServer.url);\n                                    serverUrl.protocol = scheme;\n                                    newServer.url = serverUrl.format();\n                                    op.servers.push(newServer);\n                                }\n                            }\n                        }\n                    }\n                }\n\n                if (options.debug) {\n                    op[\"x-s2o-consumes\"] = op.consumes || [];\n                    op[\"x-s2o-produces\"] = op.produces || [];\n                }\n                if (op) {\n                    delete op.consumes;\n                    delete op.produces;\n                    delete op.schemes;\n\n                    if (op[\"x-ms-examples\"]) {\n                        for (let e in op[\"x-ms-examples\"]) {\n                            let example = op[\"x-ms-examples\"][e];\n                            let se = common.sanitiseAll(e);\n                            if (example.parameters) {\n                                for (let p in example.parameters) {\n                                    let value = example.parameters[p];\n                                    for (let param of (op.parameters||[]).concat(path.parameters||[])) {\n                                        if (param.$ref) {\n                                            param = jptr.jptr(openapi,param.$ref);\n                                        }\n                                        if ((param.name === p) && (!param.example)) {\n                                            if (!param.examples) {\n                                                param.examples = {};\n                                            }\n                                            param.examples[e] = {value: value};\n                                        }\n                                    }\n                                }\n                            }\n                            if (example.responses) {\n                                for (let r in example.responses) {\n                                    if (example.responses[r].headers) {\n                                        for (let h in example.responses[r].headers) {\n                                            let value = example.responses[r].headers[h];\n                                            for (let rh in op.responses[r].headers) {\n                                                if (rh === h) {\n                                                    let header = op.responses[r].headers[rh];\n                                                    header.example = value;\n                                                }\n                                            }\n                                        }\n                                    }\n                                    if (example.responses[r].body) {\n                                        openapi.components.examples[se] = { value: clone(example.responses[r].body) };\n                                        if (op.responses[r] && op.responses[r].content) {\n                                            for (let ct in op.responses[r].content) {\n                                                let contentType = op.responses[r].content[ct];\n                                                if (!contentType.examples) {\n                                                    contentType.examples = {};\n                                                }\n                                                contentType.examples[e] = { $ref: '#/components/examples/'+se };\n                                            }\n                                        }\n                                    }\n\n                                }\n                            }\n                        }\n                        delete op[\"x-ms-examples\"];\n                    }\n\n                    if (op.parameters && op.parameters.length === 0) delete op.parameters;\n                    if (op.requestBody) {\n                        let effectiveOperationId = op.operationId ? common.sanitiseAll(op.operationId) : common.sanitiseAll(method + p).toCamelCase();\n                        let rbName = common.sanitise(op.requestBody['x-s2o-name'] || effectiveOperationId || '');\n                        delete op.requestBody['x-s2o-name'];\n                        let rbStr = JSON.stringify(op.requestBody);\n                        let rbHash = common.hash(rbStr);\n                        if (!requestBodyCache[rbHash]) {\n                            let entry = {};\n                            entry.name = rbName;\n                            entry.body = op.requestBody;\n                            entry.refs = [];\n                            requestBodyCache[rbHash] = entry;\n                        }\n                        let ptr = '#/'+containerName+'/'+encodeURIComponent(jptr.jpescape(p))+'/'+method+'/requestBody';\n                        requestBodyCache[rbHash].refs.push(ptr);\n                    }\n                }\n\n            }\n        }\n        if (path && path.parameters) {\n            for (let p2 in path.parameters) {\n                let param = path.parameters[p2];\n                processParameter(param, null, path, null, p, openapi, options); // index here is the path string\n            }\n            if (!options.debug && Array.isArray(path.parameters)) {\n                path.parameters = path.parameters.filter(keepParameters);\n            }\n        }\n    }\n}\n\nfunction main(openapi, options) {\n\n    let requestBodyCache = {};\n    componentNames = { schemas: {} };\n\n    if (openapi.security) processSecurity(openapi.security);\n\n    for (let s in openapi.components.securitySchemes) {\n        let sname = common.sanitise(s);\n        if (s !== sname) {\n            if (openapi.components.securitySchemes[sname]) {\n                throwError('Duplicate sanitised securityScheme name ' + sname, options);\n            }\n            openapi.components.securitySchemes[sname] = openapi.components.securitySchemes[s];\n            delete openapi.components.securitySchemes[s];\n        }\n        processSecurityScheme(openapi.components.securitySchemes[sname], options);\n    }\n\n    for (let s in openapi.components.schemas) {\n        let sname = common.sanitiseAll(s);\n        let suffix = '';\n        if (s !== sname) {\n            while (openapi.components.schemas[sname + suffix]) {\n                // @ts-ignore\n                suffix = (suffix ? ++suffix : 2);\n            }\n            openapi.components.schemas[sname + suffix] = openapi.components.schemas[s];\n            delete openapi.components.schemas[s];\n        }\n        componentNames.schemas[s] = sname + suffix;\n        fixUpSchema(openapi.components.schemas[sname+suffix],options)\n    }\n\n    // fix all $refs to their new locations (and potentially new names)\n    options.refmap = {};\n    recurse(openapi, { payload: { options: options } }, fixupRefs);\n    dedupeRefs(openapi,options);\n\n    for (let p in openapi.components.parameters) {\n        let sname = common.sanitise(p);\n        if (p !== sname) {\n            if (openapi.components.parameters[sname]) {\n                throwError('Duplicate sanitised parameter name ' + sname, options);\n            }\n            openapi.components.parameters[sname] = openapi.components.parameters[p];\n            delete openapi.components.parameters[p];\n        }\n        let param = openapi.components.parameters[sname];\n        processParameter(param, null, null, null, sname, openapi, options);\n    }\n\n    for (let r in openapi.components.responses) {\n        let sname = common.sanitise(r);\n        if (r !== sname) {\n            if (openapi.components.responses[sname]) {\n                throwError('Duplicate sanitised response name ' + sname, options);\n            }\n            openapi.components.responses[sname] = openapi.components.responses[r];\n            delete openapi.components.responses[r];\n        }\n        let response = openapi.components.responses[sname];\n        processResponse(response, sname, null, openapi, options);\n        if (response.headers) {\n            for (let h in response.headers) {\n                if (h.toLowerCase() === 'status code') {\n                    if (options.patch) {\n                        options.patches++;\n                        delete response.headers[h];\n                    }\n                    else {\n                        throwError('(Patchable) \"Status Code\" is not a valid header', options);\n                    }\n                }\n                else {\n                    processHeader(response.headers[h], options);\n                }\n            }\n        }\n    }\n\n    for (let r in openapi.components.requestBodies) { // converted ones\n        let rb = openapi.components.requestBodies[r];\n        let rbStr = JSON.stringify(rb);\n        let rbHash = common.hash(rbStr);\n        let entry = {};\n        entry.name = r;\n        entry.body = rb;\n        entry.refs = [];\n        requestBodyCache[rbHash] = entry;\n    }\n\n    processPaths(openapi.paths, 'paths', options, requestBodyCache, openapi);\n    if (openapi[\"x-ms-paths\"]) {\n        processPaths(openapi[\"x-ms-paths\"], 'x-ms-paths', options, requestBodyCache, openapi);\n    }\n\n    if (!options.debug) {\n        for (let p in openapi.components.parameters) {\n            let param = openapi.components.parameters[p];\n            if (param[\"x-s2o-delete\"]) {\n                delete openapi.components.parameters[p];\n            }\n        }\n    }\n\n    if (options.debug) {\n        openapi[\"x-s2o-consumes\"] = openapi.consumes || [];\n        openapi[\"x-s2o-produces\"] = openapi.produces || [];\n    }\n    delete openapi.consumes;\n    delete openapi.produces;\n    delete openapi.schemes;\n\n    let rbNamesGenerated = [];\n\n    openapi.components.requestBodies = {}; // for now as we've dereffed them\n\n    if (!options.resolveInternal) {\n        let counter = 1;\n        for (let e in requestBodyCache) {\n            let entry = requestBodyCache[e];\n            if (entry.refs.length > 1) {\n                // create a shared requestBody\n                let suffix = '';\n                if (!entry.name) {\n                    entry.name = 'requestBody';\n                    // @ts-ignore\n                    suffix = counter++;\n                }\n                while (rbNamesGenerated.indexOf(entry.name + suffix) >= 0) {\n                    // @ts-ignore - this can happen if descriptions are not exactly the same (e.g. bitbucket)\n                    suffix = (suffix ? ++suffix : 2);\n                }\n                entry.name = entry.name + suffix;\n                rbNamesGenerated.push(entry.name);\n                openapi.components.requestBodies[entry.name] = clone(entry.body);\n                for (let r in entry.refs) {\n                    let ref = {};\n                    ref.$ref = '#/components/requestBodies/' + entry.name;\n                    jptr.jptr(openapi,entry.refs[r],ref);\n                }\n            }\n        }\n    }\n\n    if (openapi.components.responses && Object.keys(openapi.components.responses).length === 0) {\n        delete openapi.components.responses;\n    }\n    if (openapi.components.parameters && Object.keys(openapi.components.parameters).length === 0) {\n        delete openapi.components.parameters;\n    }\n    if (openapi.components.examples && Object.keys(openapi.components.examples).length === 0) {\n        delete openapi.components.examples;\n    }\n    if (openapi.components.requestBodies && Object.keys(openapi.components.requestBodies).length === 0) {\n        delete openapi.components.requestBodies;\n    }\n    if (openapi.components.securitySchemes && Object.keys(openapi.components.securitySchemes).length === 0) {\n        delete openapi.components.securitySchemes;\n    }\n    if (openapi.components.headers && Object.keys(openapi.components.headers).length === 0) {\n        delete openapi.components.headers;\n    }\n    if (openapi.components.schemas && Object.keys(openapi.components.schemas).length === 0) {\n        delete openapi.components.schemas;\n    }\n    if (openapi.components && Object.keys(openapi.components).length === 0) {\n        delete openapi.components;\n    }\n\n    return openapi;\n}\n\nfunction extractServerParameters(server) {\n    if (!server || !server.url || (typeof server.url !== 'string')) return server;\n    server.url = server.url.split('{{').join('{');\n    server.url = server.url.split('}}').join('}');\n    server.url.replace(/\\{(.+?)\\}/g, function (match, group1) { // TODO extend to :parameters (not port)?\n        if (!server.variables) {\n            server.variables = {};\n        }\n        server.variables[group1] = { default: 'unknown' };\n    });\n    return server;\n}\n\nfunction fixInfo(openapi, options, reject) {\n    if ((typeof openapi.info === 'undefined') || (openapi.info === null)) {\n        if (options.patch) {\n            options.patches++;\n            openapi.info = { version: '', title: '' };\n        }\n        else {\n            return reject(new S2OError('(Patchable) info object is mandatory'));\n        }\n    }\n    if ((typeof openapi.info !== 'object') || (Array.isArray(openapi.info))) {\n        return reject(new S2OError('info must be an object'));\n    }\n    if ((typeof openapi.info.title === 'undefined') || (openapi.info.title === null)) {\n        if (options.patch) {\n            options.patches++;\n            openapi.info.title = '';\n        }\n        else {\n            return reject(new S2OError('(Patchable) info.title cannot be null'));\n        }\n    }\n    if ((typeof openapi.info.version === 'undefined') || (openapi.info.version === null)) {\n        if (options.patch) {\n            options.patches++;\n            openapi.info.version = '';\n        }\n        else {\n            return reject(new S2OError('(Patchable) info.version cannot be null'));\n        }\n    }\n    if (typeof openapi.info.version !== 'string') {\n        if (options.patch) {\n            options.patches++;\n            openapi.info.version = openapi.info.version.toString();\n        }\n        else {\n            return reject(new S2OError('(Patchable) info.version must be a string'));\n        }\n    }\n    if (typeof openapi.info.logo !== 'undefined') {\n        if (options.patch) {\n            options.patches++;\n            openapi.info['x-logo'] = openapi.info.logo;\n            delete openapi.info.logo;\n        }\n        else return reject(new S2OError('(Patchable) info should not have logo property'));\n    }\n    if (typeof openapi.info.termsOfService !== 'undefined') {\n        if (openapi.info.termsOfService === null) {\n            if (options.patch) {\n                options.patches++;\n                openapi.info.termsOfService = '';\n            }\n            else {\n                return reject(new S2OError('(Patchable) info.termsOfService cannot be null'));\n            }\n        }\n        try {\n            let u = new URL(openapi.info.termsOfService);\n        }\n        catch (ex) {\n            if (options.patch) {\n                options.patches++;\n                delete openapi.info.termsOfService;\n            }\n            else return reject(new S2OError('(Patchable) info.termsOfService must be a URL'));\n        }\n    }\n}\n\nfunction fixPaths(openapi, options, reject) {\n    if (typeof openapi.paths === 'undefined') {\n        if (options.patch) {\n            options.patches++;\n            openapi.paths = {};\n        }\n        else {\n            return reject(new S2OError('(Patchable) paths object is mandatory'));\n        }\n    }\n}\n\nfunction detectObjectReferences(obj, options) {\n    const seen = new WeakSet();\n    recurse(obj, {identityDetection:true}, function (obj, key, state) {\n        if ((typeof obj[key] === 'object') && (obj[key] !== null)) {\n            if (seen.has(obj[key])) {\n                if (options.anchors) {\n                    obj[key] = clone(obj[key]);\n                }\n                else {\n                    throwError('YAML anchor or merge key at '+state.path, options);\n                }\n            }\n            else {\n                seen.add(obj[key]);\n            }\n        }\n    });\n}\n\nfunction convertObj(swagger, options, callback) {\n    return maybe(callback, new Promise(function (resolve, reject) {\n        if (!swagger) swagger = {};\n        options.original = swagger;\n        if (!options.text) options.text = yaml.stringify(swagger);\n        options.externals = [];\n        options.externalRefs = {};\n        options.rewriteRefs = true; // avoids stack explosions\n        options.preserveMiro = true;\n        options.promise = {};\n        options.promise.resolve = resolve;\n        options.promise.reject = reject;\n        options.patches = 0;\n        if (!options.cache) options.cache = {};\n        if (options.source) options.cache[options.source] = options.original;\n\n        detectObjectReferences(swagger, options);\n\n        if (swagger.openapi && (typeof swagger.openapi === 'string') && swagger.openapi.startsWith('3.')) {\n            options.openapi = cclone(swagger);\n            fixInfo(options.openapi, options, reject);\n            fixPaths(options.openapi, options, reject);\n\n            resolver.optionalResolve(options) // is a no-op if options.resolve is not set\n            .then(function(){\n                if (options.direct) {\n                    return resolve(options.openapi);\n                }\n                else {\n                    return resolve(options);\n                }\n            })\n            .catch(function(ex){\n                console.warn(ex);\n                reject(ex);\n            });\n            return; // we should have resolved or rejected by now\n        }\n\n        if ((!swagger.swagger) || (swagger.swagger != \"2.0\")) {\n            return reject(new S2OError('Unsupported swagger/OpenAPI version: ' + (swagger.openapi ? swagger.openapi : swagger.swagger)));\n        }\n\n        let openapi = options.openapi = {};\n        openapi.openapi = (typeof options.targetVersion === 'string' && options.targetVersion.startsWith('3.')) ? options.targetVersion : targetVersion; // semver\n\n        if (options.origin) {\n            if (!openapi[\"x-origin\"]) {\n                openapi[\"x-origin\"] = [];\n            }\n            let origin = {};\n            origin.url = options.source||options.origin;\n            origin.format = 'swagger';\n            origin.version = swagger.swagger;\n            origin.converter = {};\n            origin.converter.url = 'https://github.com/mermade/oas-kit';\n            origin.converter.version = ourVersion;\n            openapi[\"x-origin\"].push(origin);\n        }\n\n        // we want the new and existing properties to appear in a sensible order. Not guaranteed\n        openapi = Object.assign(openapi, cclone(swagger));\n        delete openapi.swagger;\n        recurse(openapi, {}, function(obj, key, state){\n            if ((obj[key] === null) && (!key.startsWith('x-')) && key !== 'default' && (state.path.indexOf('/example') < 0)) delete obj[key]; // this saves *so* much grief later\n        });\n\n        if (swagger.host) {\n            for (let s of (Array.isArray(swagger.schemes) ? swagger.schemes : [''])) {\n                let server = {};\n                let basePath = (swagger.basePath || '').replace(/\\/$/, '') // Trailing slashes generally shouldn't be included\n                server.url = (s ? s+':' : '') + '//' + swagger.host + basePath;\n                extractServerParameters(server);\n                if (!openapi.servers) openapi.servers = [];\n                openapi.servers.push(server);\n            }\n        }\n        else if (swagger.basePath) {\n            let server = {};\n            server.url = swagger.basePath;\n            extractServerParameters(server);\n            if (!openapi.servers) openapi.servers = [];\n            openapi.servers.push(server);\n        }\n        delete openapi.host;\n        delete openapi.basePath;\n\n        if (openapi['x-servers'] && Array.isArray(openapi['x-servers'])) {\n            openapi.servers = openapi['x-servers'];\n            delete openapi['x-servers'];\n        }\n\n        // TODO APIMatic extensions (x-server-configuration) ?\n\n        if (swagger['x-ms-parameterized-host']) {\n            let xMsPHost = swagger['x-ms-parameterized-host'];\n            let server = {};\n            server.url = xMsPHost.hostTemplate + (swagger.basePath ? swagger.basePath : '');\n            server.variables = {};\n            const paramNames = server.url.match(/\\{\\w+\\}/g);\n            for (let msp in xMsPHost.parameters) {\n                let param = xMsPHost.parameters[msp];\n                if (param.$ref) {\n                    param = clone(resolveInternal(openapi, param.$ref));\n                }\n                if (!msp.startsWith('x-')) {\n                    delete param.required; // all true\n                    delete param.type; // all strings\n                    delete param.in; // all 'host'\n                    if (typeof param.default === 'undefined') {\n                        if (param.enum) {\n                            param.default = param.enum[0];\n                        }\n                        else {\n                            param.default = 'none';\n                        }\n                    }\n                    if (!param.name) {\n                      param.name = paramNames[msp].replace('{','').replace('}','');\n                    }\n                    server.variables[param.name] = param;\n                    delete param.name;\n                }\n            }\n            if (!openapi.servers) openapi.servers = [];\n            if (xMsPHost.useSchemePrefix === false) {\n                // The server URL already includes a protocol scheme\n                openapi.servers.push(server);\n            } else {\n                // Define this server once for each given protocol scheme\n                swagger.schemes.forEach((scheme) => {\n                    openapi.servers.push(\n                        Object.assign({}, server, { url: scheme + '://' + server.url })\n                    )\n                });\n            }\n            delete openapi['x-ms-parameterized-host'];\n        }\n\n        fixInfo(openapi, options, reject);\n        fixPaths(openapi, options, reject);\n\n        if (typeof openapi.consumes === 'string') {\n            openapi.consumes = [openapi.consumes];\n        }\n        if (typeof openapi.produces === 'string') {\n            openapi.produces = [openapi.produces];\n        }\n\n        openapi.components = {};\n        if (openapi['x-callbacks']) {\n            openapi.components.callbacks = openapi['x-callbacks'];\n            delete openapi['x-callbacks'];\n        }\n        openapi.components.examples = {};\n        openapi.components.headers = {};\n        if (openapi['x-links']) {\n            openapi.components.links = openapi['x-links'];\n            delete openapi['x-links'];\n        }\n        openapi.components.parameters = openapi.parameters || {};\n        openapi.components.responses = openapi.responses || {};\n        openapi.components.requestBodies = {};\n        openapi.components.securitySchemes = openapi.securityDefinitions || {};\n        openapi.components.schemas = openapi.definitions || {};\n        delete openapi.definitions;\n        delete openapi.responses;\n        delete openapi.parameters;\n        delete openapi.securityDefinitions;\n\n        resolver.optionalResolve(options) // is a no-op if options.resolve is not set\n        .then(function(){\n            main(options.openapi, options);\n            if (options.direct) {\n                resolve(options.openapi);\n            }\n            else {\n                resolve(options);\n            }\n        })\n        .catch(function(ex){\n            console.warn(ex);\n            reject(ex);\n        });\n\n    }));\n}\n\nfunction convertStr(str, options, callback) {\n    return maybe(callback, new Promise(function (resolve, reject) {\n        let obj = null;\n        let error = null;\n        try {\n            obj = JSON.parse(str);\n            options.text = JSON.stringify(obj,null,2);\n        }\n        catch (ex) {\n            error = ex;\n            try {\n                obj = yaml.parse(str, { schema: 'core', prettyErrors: true });\n                options.sourceYaml = true;\n                options.text = str;\n            }\n            catch (ex) {\n                error = ex;\n            }\n        }\n        if (obj) {\n            convertObj(obj, options)\n            .then(options => resolve(options))\n            .catch(ex => reject(ex));\n        }\n        else {\n            reject(new S2OError(error ? error.message : 'Could not parse string'));\n        }\n    }));\n}\n\nfunction convertUrl(url, options, callback) {\n    return maybe(callback, new Promise(function (resolve, reject) {\n        options.origin = true;\n        if (!options.source) {\n            options.source = url;\n        }\n        if (options.verbose) {\n            console.warn('GET ' + url);\n        }\n        if (!options.fetch) {\n          options.fetch = fetch;\n        }\n        const fetchOptions = Object.assign({}, options.fetchOptions, {agent:options.agent});\n        options.fetch(url, fetchOptions).then(function (res) {\n            if (res.status !== 200) throw new S2OError(`Received status code ${res.status}: ${url}`);\n            return res.text();\n        }).then(function (body) {\n            convertStr(body, options)\n            .then(options => resolve(options))\n            .catch(ex => reject(ex));\n        }).catch(function (err) {\n            reject(err);\n        });\n    }));\n}\n\nfunction convertFile(filename, options, callback) {\n    return maybe(callback, new Promise(function (resolve, reject) {\n        fs.readFile(filename, options.encoding || 'utf8', function (err, s) {\n            if (err) {\n                reject(err);\n            }\n            else {\n                options.sourceFile = filename;\n                convertStr(s, options)\n                .then(options => resolve(options))\n                .catch(ex => reject(ex));\n            }\n        });\n    }));\n}\n\nfunction convertStream(readable, options, callback) {\n    return maybe(callback, new Promise(function (resolve, reject) {\n        let data = '';\n        readable.on('data', function (chunk) {\n            data += chunk;\n        })\n        .on('end', function () {\n            convertStr(data, options)\n            .then(options => resolve(options))\n            .catch(ex => reject(ex));\n        });\n    }));\n}\n\nmodule.exports = {\n    S2OError: S2OError,\n    targetVersion: targetVersion,\n    convert: convertObj,\n    convertObj: convertObj,\n    convertUrl: convertUrl,\n    convertStr: convertStr,\n    convertFile: convertFile,\n    convertStream: convertStream\n};\n","'use strict';\n\nconst http = require('http');\n\nconst ours = {\n    \"default\": \"Default response\",\n    \"1XX\": \"Informational\",\n    \"103\": \"Early hints\", // not in Node < 10\n    \"2XX\": \"Successful\",\n    \"3XX\": \"Redirection\",\n    \"4XX\": \"Client Error\",\n    \"5XX\": \"Server Error\",\n    \"7XX\": \"Developer Error\" // April fools RFC\n};\n\nmodule.exports = {\n    statusCodes: Object.assign({},ours,http.STATUS_CODES)\n};\n\n","\n\t\t\t\tvar addMethods = require(\"../../node_modules/workerize-loader/dist/rpc-wrapper.js\")\n\t\t\t\tvar methods = [\"add\",\"done\",\"toJS\",\"fromExternalJS\",\"load\",\"dispose\",\"search\",\"Worker\"]\n\t\t\t\tmodule.exports = function() {\n\t\t\t\t\tvar w = new Worker(URL.createObjectURL(new Blob([\"/*! For license information please see 8dbd28457ff989b4568a.worker.js.LICENSE.txt */\\n!function(){var e={336:function(e,t,r){var n,i;!function(){var s,o,a,u,l,c,h,d,f,p,y,m,g,x,v,w,Q,k,S,E,L,P,b,T,O,I,R=function(e){var t=new R.Builder;return t.pipeline.add(R.trimmer,R.stopWordFilter,R.stemmer),t.searchPipeline.add(R.stemmer),e.call(t,t),t.build()};R.version=\\\"2.3.9\\\",R.utils={},R.utils.warn=(s=this,function(e){s.console&&console.warn&&console.warn(e)}),R.utils.asString=function(e){return null==e?\\\"\\\":e.toString()},R.utils.clone=function(e){if(null==e)return e;for(var t=Object.create(null),r=Object.keys(e),n=0;n<r.length;n++){var i=r[n],s=e[i];if(Array.isArray(s))t[i]=s.slice();else{if(\\\"string\\\"!=typeof s&&\\\"number\\\"!=typeof s&&\\\"boolean\\\"!=typeof s)throw new TypeError(\\\"clone is not deep and does not support nested objects\\\");t[i]=s}}return t},R.FieldRef=function(e,t,r){this.docRef=e,this.fieldName=t,this._stringValue=r},R.FieldRef.joiner=\\\"/\\\",R.FieldRef.fromString=function(e){var t=e.indexOf(R.FieldRef.joiner);if(-1===t)throw\\\"malformed field ref string\\\";var r=e.slice(0,t),n=e.slice(t+1);return new R.FieldRef(n,r,e)},R.FieldRef.prototype.toString=function(){return null==this._stringValue&&(this._stringValue=this.fieldName+R.FieldRef.joiner+this.docRef),this._stringValue},R.Set=function(e){if(this.elements=Object.create(null),e){this.length=e.length;for(var t=0;t<this.length;t++)this.elements[e[t]]=!0}else this.length=0},R.Set.complete={intersect:function(e){return e},union:function(){return this},contains:function(){return!0}},R.Set.empty={intersect:function(){return this},union:function(e){return e},contains:function(){return!1}},R.Set.prototype.contains=function(e){return!!this.elements[e]},R.Set.prototype.intersect=function(e){var t,r,n,i=[];if(e===R.Set.complete)return this;if(e===R.Set.empty)return e;this.length<e.length?(t=this,r=e):(t=e,r=this),n=Object.keys(t.elements);for(var s=0;s<n.length;s++){var o=n[s];o in r.elements&&i.push(o)}return new R.Set(i)},R.Set.prototype.union=function(e){return e===R.Set.complete?R.Set.complete:e===R.Set.empty?this:new R.Set(Object.keys(this.elements).concat(Object.keys(e.elements)))},R.idf=function(e,t){var r=0;for(var n in e)\\\"_index\\\"!=n&&(r+=Object.keys(e[n]).length);var i=(t-r+.5)/(r+.5);return Math.log(1+Math.abs(i))},R.Token=function(e,t){this.str=e||\\\"\\\",this.metadata=t||{}},R.Token.prototype.toString=function(){return this.str},R.Token.prototype.update=function(e){return this.str=e(this.str,this.metadata),this},R.Token.prototype.clone=function(e){return e=e||function(e){return e},new R.Token(e(this.str,this.metadata),this.metadata)},R.tokenizer=function(e,t){if(null==e||null==e)return[];if(Array.isArray(e))return e.map((function(e){return new R.Token(R.utils.asString(e).toLowerCase(),R.utils.clone(t))}));for(var r=e.toString().toLowerCase(),n=r.length,i=[],s=0,o=0;s<=n;s++){var a=s-o;if(r.charAt(s).match(R.tokenizer.separator)||s==n){if(a>0){var u=R.utils.clone(t)||{};u.position=[o,a],u.index=i.length,i.push(new R.Token(r.slice(o,s),u))}o=s+1}}return i},R.tokenizer.separator=/[\\\\s\\\\-]+/,R.Pipeline=function(){this._stack=[]},R.Pipeline.registeredFunctions=Object.create(null),R.Pipeline.registerFunction=function(e,t){t in this.registeredFunctions&&R.utils.warn(\\\"Overwriting existing registered function: \\\"+t),e.label=t,R.Pipeline.registeredFunctions[e.label]=e},R.Pipeline.warnIfFunctionNotRegistered=function(e){e.label&&e.label in this.registeredFunctions||R.utils.warn(\\\"Function is not registered with pipeline. This may cause problems when serialising the index.\\\\n\\\",e)},R.Pipeline.load=function(e){var t=new R.Pipeline;return e.forEach((function(e){var r=R.Pipeline.registeredFunctions[e];if(!r)throw new Error(\\\"Cannot load unregistered function: \\\"+e);t.add(r)})),t},R.Pipeline.prototype.add=function(){var e=Array.prototype.slice.call(arguments);e.forEach((function(e){R.Pipeline.warnIfFunctionNotRegistered(e),this._stack.push(e)}),this)},R.Pipeline.prototype.after=function(e,t){R.Pipeline.warnIfFunctionNotRegistered(t);var r=this._stack.indexOf(e);if(-1==r)throw new Error(\\\"Cannot find existingFn\\\");r+=1,this._stack.splice(r,0,t)},R.Pipeline.prototype.before=function(e,t){R.Pipeline.warnIfFunctionNotRegistered(t);var r=this._stack.indexOf(e);if(-1==r)throw new Error(\\\"Cannot find existingFn\\\");this._stack.splice(r,0,t)},R.Pipeline.prototype.remove=function(e){var t=this._stack.indexOf(e);-1!=t&&this._stack.splice(t,1)},R.Pipeline.prototype.run=function(e){for(var t=this._stack.length,r=0;r<t;r++){for(var n=this._stack[r],i=[],s=0;s<e.length;s++){var o=n(e[s],s,e);if(null!=o&&\\\"\\\"!==o)if(Array.isArray(o))for(var a=0;a<o.length;a++)i.push(o[a]);else i.push(o)}e=i}return e},R.Pipeline.prototype.runString=function(e,t){var r=new R.Token(e,t);return this.run([r]).map((function(e){return e.toString()}))},R.Pipeline.prototype.reset=function(){this._stack=[]},R.Pipeline.prototype.toJSON=function(){return this._stack.map((function(e){return R.Pipeline.warnIfFunctionNotRegistered(e),e.label}))},R.Vector=function(e){this._magnitude=0,this.elements=e||[]},R.Vector.prototype.positionForIndex=function(e){if(0==this.elements.length)return 0;for(var t=0,r=this.elements.length/2,n=r-t,i=Math.floor(n/2),s=this.elements[2*i];n>1&&(s<e&&(t=i),s>e&&(r=i),s!=e);)n=r-t,i=t+Math.floor(n/2),s=this.elements[2*i];return s==e||s>e?2*i:s<e?2*(i+1):void 0},R.Vector.prototype.insert=function(e,t){this.upsert(e,t,(function(){throw\\\"duplicate index\\\"}))},R.Vector.prototype.upsert=function(e,t,r){this._magnitude=0;var n=this.positionForIndex(e);this.elements[n]==e?this.elements[n+1]=r(this.elements[n+1],t):this.elements.splice(n,0,e,t)},R.Vector.prototype.magnitude=function(){if(this._magnitude)return this._magnitude;for(var e=0,t=this.elements.length,r=1;r<t;r+=2){var n=this.elements[r];e+=n*n}return this._magnitude=Math.sqrt(e)},R.Vector.prototype.dot=function(e){for(var t=0,r=this.elements,n=e.elements,i=r.length,s=n.length,o=0,a=0,u=0,l=0;u<i&&l<s;)(o=r[u])<(a=n[l])?u+=2:o>a?l+=2:o==a&&(t+=r[u+1]*n[l+1],u+=2,l+=2);return t},R.Vector.prototype.similarity=function(e){return this.dot(e)/this.magnitude()||0},R.Vector.prototype.toArray=function(){for(var e=new Array(this.elements.length/2),t=1,r=0;t<this.elements.length;t+=2,r++)e[r]=this.elements[t];return e},R.Vector.prototype.toJSON=function(){return this.elements},R.stemmer=(o={ational:\\\"ate\\\",tional:\\\"tion\\\",enci:\\\"ence\\\",anci:\\\"ance\\\",izer:\\\"ize\\\",bli:\\\"ble\\\",alli:\\\"al\\\",entli:\\\"ent\\\",eli:\\\"e\\\",ousli:\\\"ous\\\",ization:\\\"ize\\\",ation:\\\"ate\\\",ator:\\\"ate\\\",alism:\\\"al\\\",iveness:\\\"ive\\\",fulness:\\\"ful\\\",ousness:\\\"ous\\\",aliti:\\\"al\\\",iviti:\\\"ive\\\",biliti:\\\"ble\\\",logi:\\\"log\\\"},a={icate:\\\"ic\\\",ative:\\\"\\\",alize:\\\"al\\\",iciti:\\\"ic\\\",ical:\\\"ic\\\",ful:\\\"\\\",ness:\\\"\\\"},u=\\\"[aeiouy]\\\",l=\\\"[^aeiou][^aeiouy]*\\\",c=new RegExp(\\\"^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*\\\"),h=new RegExp(\\\"^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*\\\"),d=new RegExp(\\\"^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*([aeiouy][aeiou]*)?$\\\"),f=new RegExp(\\\"^([^aeiou][^aeiouy]*)?[aeiouy]\\\"),p=/^(.+?)(ss|i)es$/,y=/^(.+?)([^s])s$/,m=/^(.+?)eed$/,g=/^(.+?)(ed|ing)$/,x=/.$/,v=/(at|bl|iz)$/,w=new RegExp(\\\"([^aeiouylsz])\\\\\\\\1$\\\"),Q=new RegExp(\\\"^\\\"+l+u+\\\"[^aeiouwxy]$\\\"),k=/^(.+?[^aeiou])y$/,S=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,E=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,L=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,P=/^(.+?)(s|t)(ion)$/,b=/^(.+?)e$/,T=/ll$/,O=new RegExp(\\\"^\\\"+l+u+\\\"[^aeiouwxy]$\\\"),I=function(e){var t,r,n,i,s,u,l;if(e.length<3)return e;if(\\\"y\\\"==(n=e.substr(0,1))&&(e=n.toUpperCase()+e.substr(1)),s=y,(i=p).test(e)?e=e.replace(i,\\\"$1$2\\\"):s.test(e)&&(e=e.replace(s,\\\"$1$2\\\")),s=g,(i=m).test(e)){var I=i.exec(e);(i=c).test(I[1])&&(i=x,e=e.replace(i,\\\"\\\"))}else s.test(e)&&(t=(I=s.exec(e))[1],(s=f).test(t)&&(u=w,l=Q,(s=v).test(e=t)?e+=\\\"e\\\":u.test(e)?(i=x,e=e.replace(i,\\\"\\\")):l.test(e)&&(e+=\\\"e\\\")));return(i=k).test(e)&&(e=(t=(I=i.exec(e))[1])+\\\"i\\\"),(i=S).test(e)&&(t=(I=i.exec(e))[1],r=I[2],(i=c).test(t)&&(e=t+o[r])),(i=E).test(e)&&(t=(I=i.exec(e))[1],r=I[2],(i=c).test(t)&&(e=t+a[r])),s=P,(i=L).test(e)?(t=(I=i.exec(e))[1],(i=h).test(t)&&(e=t)):s.test(e)&&(t=(I=s.exec(e))[1]+I[2],(s=h).test(t)&&(e=t)),(i=b).test(e)&&(t=(I=i.exec(e))[1],s=d,u=O,((i=h).test(t)||s.test(t)&&!u.test(t))&&(e=t)),s=h,(i=T).test(e)&&s.test(e)&&(i=x,e=e.replace(i,\\\"\\\")),\\\"y\\\"==n&&(e=n.toLowerCase()+e.substr(1)),e},function(e){return e.update(I)}),R.Pipeline.registerFunction(R.stemmer,\\\"stemmer\\\"),R.generateStopWordFilter=function(e){var t=e.reduce((function(e,t){return e[t]=t,e}),{});return function(e){if(e&&t[e.toString()]!==e.toString())return e}},R.stopWordFilter=R.generateStopWordFilter([\\\"a\\\",\\\"able\\\",\\\"about\\\",\\\"across\\\",\\\"after\\\",\\\"all\\\",\\\"almost\\\",\\\"also\\\",\\\"am\\\",\\\"among\\\",\\\"an\\\",\\\"and\\\",\\\"any\\\",\\\"are\\\",\\\"as\\\",\\\"at\\\",\\\"be\\\",\\\"because\\\",\\\"been\\\",\\\"but\\\",\\\"by\\\",\\\"can\\\",\\\"cannot\\\",\\\"could\\\",\\\"dear\\\",\\\"did\\\",\\\"do\\\",\\\"does\\\",\\\"either\\\",\\\"else\\\",\\\"ever\\\",\\\"every\\\",\\\"for\\\",\\\"from\\\",\\\"get\\\",\\\"got\\\",\\\"had\\\",\\\"has\\\",\\\"have\\\",\\\"he\\\",\\\"her\\\",\\\"hers\\\",\\\"him\\\",\\\"his\\\",\\\"how\\\",\\\"however\\\",\\\"i\\\",\\\"if\\\",\\\"in\\\",\\\"into\\\",\\\"is\\\",\\\"it\\\",\\\"its\\\",\\\"just\\\",\\\"least\\\",\\\"let\\\",\\\"like\\\",\\\"likely\\\",\\\"may\\\",\\\"me\\\",\\\"might\\\",\\\"most\\\",\\\"must\\\",\\\"my\\\",\\\"neither\\\",\\\"no\\\",\\\"nor\\\",\\\"not\\\",\\\"of\\\",\\\"off\\\",\\\"often\\\",\\\"on\\\",\\\"only\\\",\\\"or\\\",\\\"other\\\",\\\"our\\\",\\\"own\\\",\\\"rather\\\",\\\"said\\\",\\\"say\\\",\\\"says\\\",\\\"she\\\",\\\"should\\\",\\\"since\\\",\\\"so\\\",\\\"some\\\",\\\"than\\\",\\\"that\\\",\\\"the\\\",\\\"their\\\",\\\"them\\\",\\\"then\\\",\\\"there\\\",\\\"these\\\",\\\"they\\\",\\\"this\\\",\\\"tis\\\",\\\"to\\\",\\\"too\\\",\\\"twas\\\",\\\"us\\\",\\\"wants\\\",\\\"was\\\",\\\"we\\\",\\\"were\\\",\\\"what\\\",\\\"when\\\",\\\"where\\\",\\\"which\\\",\\\"while\\\",\\\"who\\\",\\\"whom\\\",\\\"why\\\",\\\"will\\\",\\\"with\\\",\\\"would\\\",\\\"yet\\\",\\\"you\\\",\\\"your\\\"]),R.Pipeline.registerFunction(R.stopWordFilter,\\\"stopWordFilter\\\"),R.trimmer=function(e){return e.update((function(e){return e.replace(/^\\\\W+/,\\\"\\\").replace(/\\\\W+$/,\\\"\\\")}))},R.Pipeline.registerFunction(R.trimmer,\\\"trimmer\\\"),R.TokenSet=function(){this.final=!1,this.edges={},this.id=R.TokenSet._nextId,R.TokenSet._nextId+=1},R.TokenSet._nextId=1,R.TokenSet.fromArray=function(e){for(var t=new R.TokenSet.Builder,r=0,n=e.length;r<n;r++)t.insert(e[r]);return t.finish(),t.root},R.TokenSet.fromClause=function(e){return\\\"editDistance\\\"in e?R.TokenSet.fromFuzzyString(e.term,e.editDistance):R.TokenSet.fromString(e.term)},R.TokenSet.fromFuzzyString=function(e,t){for(var r=new R.TokenSet,n=[{node:r,editsRemaining:t,str:e}];n.length;){var i=n.pop();if(i.str.length>0){var s,o=i.str.charAt(0);o in i.node.edges?s=i.node.edges[o]:(s=new R.TokenSet,i.node.edges[o]=s),1==i.str.length&&(s.final=!0),n.push({node:s,editsRemaining:i.editsRemaining,str:i.str.slice(1)})}if(0!=i.editsRemaining){if(\\\"*\\\"in i.node.edges)var a=i.node.edges[\\\"*\\\"];else a=new R.TokenSet,i.node.edges[\\\"*\\\"]=a;if(0==i.str.length&&(a.final=!0),n.push({node:a,editsRemaining:i.editsRemaining-1,str:i.str}),i.str.length>1&&n.push({node:i.node,editsRemaining:i.editsRemaining-1,str:i.str.slice(1)}),1==i.str.length&&(i.node.final=!0),i.str.length>=1){if(\\\"*\\\"in i.node.edges)var u=i.node.edges[\\\"*\\\"];else u=new R.TokenSet,i.node.edges[\\\"*\\\"]=u;1==i.str.length&&(u.final=!0),n.push({node:u,editsRemaining:i.editsRemaining-1,str:i.str.slice(1)})}if(i.str.length>1){var l,c=i.str.charAt(0),h=i.str.charAt(1);h in i.node.edges?l=i.node.edges[h]:(l=new R.TokenSet,i.node.edges[h]=l),1==i.str.length&&(l.final=!0),n.push({node:l,editsRemaining:i.editsRemaining-1,str:c+i.str.slice(2)})}}}return r},R.TokenSet.fromString=function(e){for(var t=new R.TokenSet,r=t,n=0,i=e.length;n<i;n++){var s=e[n],o=n==i-1;if(\\\"*\\\"==s)t.edges[s]=t,t.final=o;else{var a=new R.TokenSet;a.final=o,t.edges[s]=a,t=a}}return r},R.TokenSet.prototype.toArray=function(){for(var e=[],t=[{prefix:\\\"\\\",node:this}];t.length;){var r=t.pop(),n=Object.keys(r.node.edges),i=n.length;r.node.final&&(r.prefix.charAt(0),e.push(r.prefix));for(var s=0;s<i;s++){var o=n[s];t.push({prefix:r.prefix.concat(o),node:r.node.edges[o]})}}return e},R.TokenSet.prototype.toString=function(){if(this._str)return this._str;for(var e=this.final?\\\"1\\\":\\\"0\\\",t=Object.keys(this.edges).sort(),r=t.length,n=0;n<r;n++){var i=t[n];e=e+i+this.edges[i].id}return e},R.TokenSet.prototype.intersect=function(e){for(var t=new R.TokenSet,r=void 0,n=[{qNode:e,output:t,node:this}];n.length;){r=n.pop();for(var i=Object.keys(r.qNode.edges),s=i.length,o=Object.keys(r.node.edges),a=o.length,u=0;u<s;u++)for(var l=i[u],c=0;c<a;c++){var h=o[c];if(h==l||\\\"*\\\"==l){var d=r.node.edges[h],f=r.qNode.edges[l],p=d.final&&f.final,y=void 0;h in r.output.edges?(y=r.output.edges[h]).final=y.final||p:((y=new R.TokenSet).final=p,r.output.edges[h]=y),n.push({qNode:f,output:y,node:d})}}}return t},R.TokenSet.Builder=function(){this.previousWord=\\\"\\\",this.root=new R.TokenSet,this.uncheckedNodes=[],this.minimizedNodes={}},R.TokenSet.Builder.prototype.insert=function(e){var t,r=0;if(e<this.previousWord)throw new Error(\\\"Out of order word insertion\\\");for(var n=0;n<e.length&&n<this.previousWord.length&&e[n]==this.previousWord[n];n++)r++;for(this.minimize(r),t=0==this.uncheckedNodes.length?this.root:this.uncheckedNodes[this.uncheckedNodes.length-1].child,n=r;n<e.length;n++){var i=new R.TokenSet,s=e[n];t.edges[s]=i,this.uncheckedNodes.push({parent:t,char:s,child:i}),t=i}t.final=!0,this.previousWord=e},R.TokenSet.Builder.prototype.finish=function(){this.minimize(0)},R.TokenSet.Builder.prototype.minimize=function(e){for(var t=this.uncheckedNodes.length-1;t>=e;t--){var r=this.uncheckedNodes[t],n=r.child.toString();n in this.minimizedNodes?r.parent.edges[r.char]=this.minimizedNodes[n]:(r.child._str=n,this.minimizedNodes[n]=r.child),this.uncheckedNodes.pop()}},R.Index=function(e){this.invertedIndex=e.invertedIndex,this.fieldVectors=e.fieldVectors,this.tokenSet=e.tokenSet,this.fields=e.fields,this.pipeline=e.pipeline},R.Index.prototype.search=function(e){return this.query((function(t){new R.QueryParser(e,t).parse()}))},R.Index.prototype.query=function(e){for(var t=new R.Query(this.fields),r=Object.create(null),n=Object.create(null),i=Object.create(null),s=Object.create(null),o=Object.create(null),a=0;a<this.fields.length;a++)n[this.fields[a]]=new R.Vector;for(e.call(t,t),a=0;a<t.clauses.length;a++){var u,l=t.clauses[a],c=R.Set.empty;u=l.usePipeline?this.pipeline.runString(l.term,{fields:l.fields}):[l.term];for(var h=0;h<u.length;h++){var d=u[h];l.term=d;var f=R.TokenSet.fromClause(l),p=this.tokenSet.intersect(f).toArray();if(0===p.length&&l.presence===R.Query.presence.REQUIRED){for(var y=0;y<l.fields.length;y++)s[F=l.fields[y]]=R.Set.empty;break}for(var m=0;m<p.length;m++){var g=p[m],x=this.invertedIndex[g],v=x._index;for(y=0;y<l.fields.length;y++){var w=x[F=l.fields[y]],Q=Object.keys(w),k=g+\\\"/\\\"+F,S=new R.Set(Q);if(l.presence==R.Query.presence.REQUIRED&&(c=c.union(S),void 0===s[F]&&(s[F]=R.Set.complete)),l.presence!=R.Query.presence.PROHIBITED){if(n[F].upsert(v,l.boost,(function(e,t){return e+t})),!i[k]){for(var E=0;E<Q.length;E++){var L,P=Q[E],b=new R.FieldRef(P,F),T=w[P];void 0===(L=r[b])?r[b]=new R.MatchData(g,F,T):L.add(g,F,T)}i[k]=!0}}else void 0===o[F]&&(o[F]=R.Set.empty),o[F]=o[F].union(S)}}}if(l.presence===R.Query.presence.REQUIRED)for(y=0;y<l.fields.length;y++)s[F=l.fields[y]]=s[F].intersect(c)}var O=R.Set.complete,I=R.Set.empty;for(a=0;a<this.fields.length;a++){var F;s[F=this.fields[a]]&&(O=O.intersect(s[F])),o[F]&&(I=I.union(o[F]))}var C=Object.keys(r),N=[],j=Object.create(null);if(t.isNegated())for(C=Object.keys(this.fieldVectors),a=0;a<C.length;a++){b=C[a];var _=R.FieldRef.fromString(b);r[b]=new R.MatchData}for(a=0;a<C.length;a++){var D=(_=R.FieldRef.fromString(C[a])).docRef;if(O.contains(D)&&!I.contains(D)){var A,B=this.fieldVectors[_],z=n[_.fieldName].similarity(B);if(void 0!==(A=j[D]))A.score+=z,A.matchData.combine(r[_]);else{var V={ref:D,score:z,matchData:r[_]};j[D]=V,N.push(V)}}}return N.sort((function(e,t){return t.score-e.score}))},R.Index.prototype.toJSON=function(){var e=Object.keys(this.invertedIndex).sort().map((function(e){return[e,this.invertedIndex[e]]}),this),t=Object.keys(this.fieldVectors).map((function(e){return[e,this.fieldVectors[e].toJSON()]}),this);return{version:R.version,fields:this.fields,fieldVectors:t,invertedIndex:e,pipeline:this.pipeline.toJSON()}},R.Index.load=function(e){var t={},r={},n=e.fieldVectors,i=Object.create(null),s=e.invertedIndex,o=new R.TokenSet.Builder,a=R.Pipeline.load(e.pipeline);e.version!=R.version&&R.utils.warn(\\\"Version mismatch when loading serialised index. Current version of lunr '\\\"+R.version+\\\"' does not match serialized index '\\\"+e.version+\\\"'\\\");for(var u=0;u<n.length;u++){var l=(h=n[u])[0],c=h[1];r[l]=new R.Vector(c)}for(u=0;u<s.length;u++){var h,d=(h=s[u])[0],f=h[1];o.insert(d),i[d]=f}return o.finish(),t.fields=e.fields,t.fieldVectors=r,t.invertedIndex=i,t.tokenSet=o.root,t.pipeline=a,new R.Index(t)},R.Builder=function(){this._ref=\\\"id\\\",this._fields=Object.create(null),this._documents=Object.create(null),this.invertedIndex=Object.create(null),this.fieldTermFrequencies={},this.fieldLengths={},this.tokenizer=R.tokenizer,this.pipeline=new R.Pipeline,this.searchPipeline=new R.Pipeline,this.documentCount=0,this._b=.75,this._k1=1.2,this.termIndex=0,this.metadataWhitelist=[]},R.Builder.prototype.ref=function(e){this._ref=e},R.Builder.prototype.field=function(e,t){if(/\\\\//.test(e))throw new RangeError(\\\"Field '\\\"+e+\\\"' contains illegal character '/'\\\");this._fields[e]=t||{}},R.Builder.prototype.b=function(e){this._b=e<0?0:e>1?1:e},R.Builder.prototype.k1=function(e){this._k1=e},R.Builder.prototype.add=function(e,t){var r=e[this._ref],n=Object.keys(this._fields);this._documents[r]=t||{},this.documentCount+=1;for(var i=0;i<n.length;i++){var s=n[i],o=this._fields[s].extractor,a=o?o(e):e[s],u=this.tokenizer(a,{fields:[s]}),l=this.pipeline.run(u),c=new R.FieldRef(r,s),h=Object.create(null);this.fieldTermFrequencies[c]=h,this.fieldLengths[c]=0,this.fieldLengths[c]+=l.length;for(var d=0;d<l.length;d++){var f=l[d];if(null==h[f]&&(h[f]=0),h[f]+=1,null==this.invertedIndex[f]){var p=Object.create(null);p._index=this.termIndex,this.termIndex+=1;for(var y=0;y<n.length;y++)p[n[y]]=Object.create(null);this.invertedIndex[f]=p}null==this.invertedIndex[f][s][r]&&(this.invertedIndex[f][s][r]=Object.create(null));for(var m=0;m<this.metadataWhitelist.length;m++){var g=this.metadataWhitelist[m],x=f.metadata[g];null==this.invertedIndex[f][s][r][g]&&(this.invertedIndex[f][s][r][g]=[]),this.invertedIndex[f][s][r][g].push(x)}}}},R.Builder.prototype.calculateAverageFieldLengths=function(){for(var e=Object.keys(this.fieldLengths),t=e.length,r={},n={},i=0;i<t;i++){var s=R.FieldRef.fromString(e[i]),o=s.fieldName;n[o]||(n[o]=0),n[o]+=1,r[o]||(r[o]=0),r[o]+=this.fieldLengths[s]}var a=Object.keys(this._fields);for(i=0;i<a.length;i++){var u=a[i];r[u]=r[u]/n[u]}this.averageFieldLength=r},R.Builder.prototype.createFieldVectors=function(){for(var e={},t=Object.keys(this.fieldTermFrequencies),r=t.length,n=Object.create(null),i=0;i<r;i++){for(var s=R.FieldRef.fromString(t[i]),o=s.fieldName,a=this.fieldLengths[s],u=new R.Vector,l=this.fieldTermFrequencies[s],c=Object.keys(l),h=c.length,d=this._fields[o].boost||1,f=this._documents[s.docRef].boost||1,p=0;p<h;p++){var y,m,g,x=c[p],v=l[x],w=this.invertedIndex[x]._index;void 0===n[x]?(y=R.idf(this.invertedIndex[x],this.documentCount),n[x]=y):y=n[x],m=y*((this._k1+1)*v)/(this._k1*(1-this._b+this._b*(a/this.averageFieldLength[o]))+v),m*=d,m*=f,g=Math.round(1e3*m)/1e3,u.insert(w,g)}e[s]=u}this.fieldVectors=e},R.Builder.prototype.createTokenSet=function(){this.tokenSet=R.TokenSet.fromArray(Object.keys(this.invertedIndex).sort())},R.Builder.prototype.build=function(){return this.calculateAverageFieldLengths(),this.createFieldVectors(),this.createTokenSet(),new R.Index({invertedIndex:this.invertedIndex,fieldVectors:this.fieldVectors,tokenSet:this.tokenSet,fields:Object.keys(this._fields),pipeline:this.searchPipeline})},R.Builder.prototype.use=function(e){var t=Array.prototype.slice.call(arguments,1);t.unshift(this),e.apply(this,t)},R.MatchData=function(e,t,r){for(var n=Object.create(null),i=Object.keys(r||{}),s=0;s<i.length;s++){var o=i[s];n[o]=r[o].slice()}this.metadata=Object.create(null),void 0!==e&&(this.metadata[e]=Object.create(null),this.metadata[e][t]=n)},R.MatchData.prototype.combine=function(e){for(var t=Object.keys(e.metadata),r=0;r<t.length;r++){var n=t[r],i=Object.keys(e.metadata[n]);null==this.metadata[n]&&(this.metadata[n]=Object.create(null));for(var s=0;s<i.length;s++){var o=i[s],a=Object.keys(e.metadata[n][o]);null==this.metadata[n][o]&&(this.metadata[n][o]=Object.create(null));for(var u=0;u<a.length;u++){var l=a[u];null==this.metadata[n][o][l]?this.metadata[n][o][l]=e.metadata[n][o][l]:this.metadata[n][o][l]=this.metadata[n][o][l].concat(e.metadata[n][o][l])}}}},R.MatchData.prototype.add=function(e,t,r){if(!(e in this.metadata))return this.metadata[e]=Object.create(null),void(this.metadata[e][t]=r);if(t in this.metadata[e])for(var n=Object.keys(r),i=0;i<n.length;i++){var s=n[i];s in this.metadata[e][t]?this.metadata[e][t][s]=this.metadata[e][t][s].concat(r[s]):this.metadata[e][t][s]=r[s]}else this.metadata[e][t]=r},R.Query=function(e){this.clauses=[],this.allFields=e},R.Query.wildcard=new String(\\\"*\\\"),R.Query.wildcard.NONE=0,R.Query.wildcard.LEADING=1,R.Query.wildcard.TRAILING=2,R.Query.presence={OPTIONAL:1,REQUIRED:2,PROHIBITED:3},R.Query.prototype.clause=function(e){return\\\"fields\\\"in e||(e.fields=this.allFields),\\\"boost\\\"in e||(e.boost=1),\\\"usePipeline\\\"in e||(e.usePipeline=!0),\\\"wildcard\\\"in e||(e.wildcard=R.Query.wildcard.NONE),e.wildcard&R.Query.wildcard.LEADING&&e.term.charAt(0)!=R.Query.wildcard&&(e.term=\\\"*\\\"+e.term),e.wildcard&R.Query.wildcard.TRAILING&&e.term.slice(-1)!=R.Query.wildcard&&(e.term=e.term+\\\"*\\\"),\\\"presence\\\"in e||(e.presence=R.Query.presence.OPTIONAL),this.clauses.push(e),this},R.Query.prototype.isNegated=function(){for(var e=0;e<this.clauses.length;e++)if(this.clauses[e].presence!=R.Query.presence.PROHIBITED)return!1;return!0},R.Query.prototype.term=function(e,t){if(Array.isArray(e))return e.forEach((function(e){this.term(e,R.utils.clone(t))}),this),this;var r=t||{};return r.term=e.toString(),this.clause(r),this},R.QueryParseError=function(e,t,r){this.name=\\\"QueryParseError\\\",this.message=e,this.start=t,this.end=r},R.QueryParseError.prototype=new Error,R.QueryLexer=function(e){this.lexemes=[],this.str=e,this.length=e.length,this.pos=0,this.start=0,this.escapeCharPositions=[]},R.QueryLexer.prototype.run=function(){for(var e=R.QueryLexer.lexText;e;)e=e(this)},R.QueryLexer.prototype.sliceString=function(){for(var e=[],t=this.start,r=this.pos,n=0;n<this.escapeCharPositions.length;n++)r=this.escapeCharPositions[n],e.push(this.str.slice(t,r)),t=r+1;return e.push(this.str.slice(t,this.pos)),this.escapeCharPositions.length=0,e.join(\\\"\\\")},R.QueryLexer.prototype.emit=function(e){this.lexemes.push({type:e,str:this.sliceString(),start:this.start,end:this.pos}),this.start=this.pos},R.QueryLexer.prototype.escapeCharacter=function(){this.escapeCharPositions.push(this.pos-1),this.pos+=1},R.QueryLexer.prototype.next=function(){if(this.pos>=this.length)return R.QueryLexer.EOS;var e=this.str.charAt(this.pos);return this.pos+=1,e},R.QueryLexer.prototype.width=function(){return this.pos-this.start},R.QueryLexer.prototype.ignore=function(){this.start==this.pos&&(this.pos+=1),this.start=this.pos},R.QueryLexer.prototype.backup=function(){this.pos-=1},R.QueryLexer.prototype.acceptDigitRun=function(){var e,t;do{t=(e=this.next()).charCodeAt(0)}while(t>47&&t<58);e!=R.QueryLexer.EOS&&this.backup()},R.QueryLexer.prototype.more=function(){return this.pos<this.length},R.QueryLexer.EOS=\\\"EOS\\\",R.QueryLexer.FIELD=\\\"FIELD\\\",R.QueryLexer.TERM=\\\"TERM\\\",R.QueryLexer.EDIT_DISTANCE=\\\"EDIT_DISTANCE\\\",R.QueryLexer.BOOST=\\\"BOOST\\\",R.QueryLexer.PRESENCE=\\\"PRESENCE\\\",R.QueryLexer.lexField=function(e){return e.backup(),e.emit(R.QueryLexer.FIELD),e.ignore(),R.QueryLexer.lexText},R.QueryLexer.lexTerm=function(e){if(e.width()>1&&(e.backup(),e.emit(R.QueryLexer.TERM)),e.ignore(),e.more())return R.QueryLexer.lexText},R.QueryLexer.lexEditDistance=function(e){return e.ignore(),e.acceptDigitRun(),e.emit(R.QueryLexer.EDIT_DISTANCE),R.QueryLexer.lexText},R.QueryLexer.lexBoost=function(e){return e.ignore(),e.acceptDigitRun(),e.emit(R.QueryLexer.BOOST),R.QueryLexer.lexText},R.QueryLexer.lexEOS=function(e){e.width()>0&&e.emit(R.QueryLexer.TERM)},R.QueryLexer.termSeparator=R.tokenizer.separator,R.QueryLexer.lexText=function(e){for(;;){var t=e.next();if(t==R.QueryLexer.EOS)return R.QueryLexer.lexEOS;if(92!=t.charCodeAt(0)){if(\\\":\\\"==t)return R.QueryLexer.lexField;if(\\\"~\\\"==t)return e.backup(),e.width()>0&&e.emit(R.QueryLexer.TERM),R.QueryLexer.lexEditDistance;if(\\\"^\\\"==t)return e.backup(),e.width()>0&&e.emit(R.QueryLexer.TERM),R.QueryLexer.lexBoost;if(\\\"+\\\"==t&&1===e.width())return e.emit(R.QueryLexer.PRESENCE),R.QueryLexer.lexText;if(\\\"-\\\"==t&&1===e.width())return e.emit(R.QueryLexer.PRESENCE),R.QueryLexer.lexText;if(t.match(R.QueryLexer.termSeparator))return R.QueryLexer.lexTerm}else e.escapeCharacter()}},R.QueryParser=function(e,t){this.lexer=new R.QueryLexer(e),this.query=t,this.currentClause={},this.lexemeIdx=0},R.QueryParser.prototype.parse=function(){this.lexer.run(),this.lexemes=this.lexer.lexemes;for(var e=R.QueryParser.parseClause;e;)e=e(this);return this.query},R.QueryParser.prototype.peekLexeme=function(){return this.lexemes[this.lexemeIdx]},R.QueryParser.prototype.consumeLexeme=function(){var e=this.peekLexeme();return this.lexemeIdx+=1,e},R.QueryParser.prototype.nextClause=function(){var e=this.currentClause;this.query.clause(e),this.currentClause={}},R.QueryParser.parseClause=function(e){var t=e.peekLexeme();if(null!=t)switch(t.type){case R.QueryLexer.PRESENCE:return R.QueryParser.parsePresence;case R.QueryLexer.FIELD:return R.QueryParser.parseField;case R.QueryLexer.TERM:return R.QueryParser.parseTerm;default:var r=\\\"expected either a field or a term, found \\\"+t.type;throw t.str.length>=1&&(r+=\\\" with value '\\\"+t.str+\\\"'\\\"),new R.QueryParseError(r,t.start,t.end)}},R.QueryParser.parsePresence=function(e){var t=e.consumeLexeme();if(null!=t){switch(t.str){case\\\"-\\\":e.currentClause.presence=R.Query.presence.PROHIBITED;break;case\\\"+\\\":e.currentClause.presence=R.Query.presence.REQUIRED;break;default:var r=\\\"unrecognised presence operator'\\\"+t.str+\\\"'\\\";throw new R.QueryParseError(r,t.start,t.end)}var n=e.peekLexeme();if(null==n)throw r=\\\"expecting term or field, found nothing\\\",new R.QueryParseError(r,t.start,t.end);switch(n.type){case R.QueryLexer.FIELD:return R.QueryParser.parseField;case R.QueryLexer.TERM:return R.QueryParser.parseTerm;default:throw r=\\\"expecting term or field, found '\\\"+n.type+\\\"'\\\",new R.QueryParseError(r,n.start,n.end)}}},R.QueryParser.parseField=function(e){var t=e.consumeLexeme();if(null!=t){if(-1==e.query.allFields.indexOf(t.str)){var r=e.query.allFields.map((function(e){return\\\"'\\\"+e+\\\"'\\\"})).join(\\\", \\\"),n=\\\"unrecognised field '\\\"+t.str+\\\"', possible fields: \\\"+r;throw new R.QueryParseError(n,t.start,t.end)}e.currentClause.fields=[t.str];var i=e.peekLexeme();if(null==i)throw n=\\\"expecting term, found nothing\\\",new R.QueryParseError(n,t.start,t.end);switch(i.type){case R.QueryLexer.TERM:return R.QueryParser.parseTerm;default:throw n=\\\"expecting term, found '\\\"+i.type+\\\"'\\\",new R.QueryParseError(n,i.start,i.end)}}},R.QueryParser.parseTerm=function(e){var t=e.consumeLexeme();if(null!=t){e.currentClause.term=t.str.toLowerCase(),-1!=t.str.indexOf(\\\"*\\\")&&(e.currentClause.usePipeline=!1);var r=e.peekLexeme();if(null!=r)switch(r.type){case R.QueryLexer.TERM:return e.nextClause(),R.QueryParser.parseTerm;case R.QueryLexer.FIELD:return e.nextClause(),R.QueryParser.parseField;case R.QueryLexer.EDIT_DISTANCE:return R.QueryParser.parseEditDistance;case R.QueryLexer.BOOST:return R.QueryParser.parseBoost;case R.QueryLexer.PRESENCE:return e.nextClause(),R.QueryParser.parsePresence;default:var n=\\\"Unexpected lexeme type '\\\"+r.type+\\\"'\\\";throw new R.QueryParseError(n,r.start,r.end)}else e.nextClause()}},R.QueryParser.parseEditDistance=function(e){var t=e.consumeLexeme();if(null!=t){var r=parseInt(t.str,10);if(isNaN(r)){var n=\\\"edit distance must be numeric\\\";throw new R.QueryParseError(n,t.start,t.end)}e.currentClause.editDistance=r;var i=e.peekLexeme();if(null!=i)switch(i.type){case R.QueryLexer.TERM:return e.nextClause(),R.QueryParser.parseTerm;case R.QueryLexer.FIELD:return e.nextClause(),R.QueryParser.parseField;case R.QueryLexer.EDIT_DISTANCE:return R.QueryParser.parseEditDistance;case R.QueryLexer.BOOST:return R.QueryParser.parseBoost;case R.QueryLexer.PRESENCE:return e.nextClause(),R.QueryParser.parsePresence;default:throw n=\\\"Unexpected lexeme type '\\\"+i.type+\\\"'\\\",new R.QueryParseError(n,i.start,i.end)}else e.nextClause()}},R.QueryParser.parseBoost=function(e){var t=e.consumeLexeme();if(null!=t){var r=parseInt(t.str,10);if(isNaN(r)){var n=\\\"boost must be numeric\\\";throw new R.QueryParseError(n,t.start,t.end)}e.currentClause.boost=r;var i=e.peekLexeme();if(null!=i)switch(i.type){case R.QueryLexer.TERM:return e.nextClause(),R.QueryParser.parseTerm;case R.QueryLexer.FIELD:return e.nextClause(),R.QueryParser.parseField;case R.QueryLexer.EDIT_DISTANCE:return R.QueryParser.parseEditDistance;case R.QueryLexer.BOOST:return R.QueryParser.parseBoost;case R.QueryLexer.PRESENCE:return e.nextClause(),R.QueryParser.parsePresence;default:throw n=\\\"Unexpected lexeme type '\\\"+i.type+\\\"'\\\",new R.QueryParseError(n,i.start,i.end)}else e.nextClause()}},void 0===(i=\\\"function\\\"==typeof(n=function(){return R})?n.call(t,r,t,e):n)||(e.exports=i)}()}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var n={};!function(){\\\"use strict\\\";r.d(n,{add:function(){return l},done:function(){return c},toJS:function(){return h},fromExternalJS:function(){return d},load:function(){return f},dispose:function(){return p},search:function(){return y}});var e=r(336),t=(e,t,r)=>new Promise(((n,i)=>{var s=e=>{try{a(r.next(e))}catch(e){i(e)}},o=e=>{try{a(r.throw(e))}catch(e){i(e)}},a=e=>e.done?n(e.value):Promise.resolve(e.value).then(s,o);a((r=r.apply(e,t)).next())}));let i,s,o,a=[];function u(){i=new e.Builder,i.field(\\\"title\\\"),i.field(\\\"description\\\"),i.ref(\\\"ref\\\"),i.pipeline.add(e.trimmer,e.stopWordFilter,e.stemmer),o=new Promise((e=>{s=e}))}function l(e,t,r){const n=a.push(r)-1,s={title:e.toLowerCase(),description:t.toLowerCase(),ref:n};i.add(s)}function c(){return t(this,null,(function*(){s(i.build())}))}function h(){return t(this,null,(function*(){return{store:a,index:(yield o).toJSON()}}))}function d(e,r){return t(this,null,(function*(){try{if(importScripts(e),!self[r])throw new Error(\\\"Broken index file format\\\");f(self[r])}catch(e){console.error(\\\"Failed to load search index: \\\"+e.message)}}))}function f(r){return t(this,null,(function*(){a=r.store,s(e.Index.load(r.index))}))}function p(){return t(this,null,(function*(){a=[],u()}))}function y(r,n=0){return t(this,null,(function*(){if(0===r.trim().length)return[];let t=(yield o).query((t=>{r.trim().toLowerCase().split(/\\\\s+/).forEach((r=>{if(1===r.length)return;const n=(t=>\\\"*\\\"+e.stemmer(new e.Token(t,{}))+\\\"*\\\")(r);t.term(n,{})}))}));return n>0&&(t=t.slice(0,n)),t.map((e=>({meta:a[e.ref],score:e.score})))}))}e.tokenizer.separator=/\\\\s+/,u(),addEventListener(\\\"message\\\",(function(e){var t,r=e.data,i=r.type,s=r.method,o=r.id,a=r.params;\\\"RPC\\\"===i&&s&&((t=n[s])?Promise.resolve().then((function(){return t.apply(n,a)})):Promise.reject(\\\"No such method\\\")).then((function(e){postMessage({type:\\\"RPC\\\",id:o,result:e})})).catch((function(e){var t={message:e};e.stack&&(t.message=e.message,t.stack=e.stack,t.name=e.name),postMessage({type:\\\"RPC\\\",id:o,error:t})}))})),postMessage({type:\\\"RPC\\\",method:\\\"ready\\\"})}()}();\\n//# sourceMappingURL=8dbd28457ff989b4568a.worker.js.map\"])), { name: \"[fullhash].worker.js\" })\n\t\t\t\t\taddMethods(w, methods)\n\t\t\t\t\t\n\t\t\t\t\treturn w\n\t\t\t\t}\n\t\t\t","function addMethods(worker, methods) {\n  var c = 0;\n  var callbacks = {};\n  worker.addEventListener('message', function (e) {\n    var d = e.data;\n    if (d.type !== 'RPC') return;\n\n    if (d.id) {\n      var f = callbacks[d.id];\n\n      if (f) {\n        delete callbacks[d.id];\n\n        if (d.error) {\n          f[1](Object.assign(Error(d.error.message), d.error));\n        } else {\n          f[0](d.result);\n        }\n      }\n    } else {\n      var evt = document.createEvent('Event');\n      evt.initEvent(d.method, false, false);\n      evt.data = d.params;\n      worker.dispatchEvent(evt);\n    }\n  });\n  methods.forEach(function (method) {\n    worker[method] = function () {\n      var _arguments = arguments;\n      return new Promise(function (a, b) {\n        var id = ++c;\n        callbacks[id] = [a, b];\n        worker.postMessage({\n          type: 'RPC',\n          id: id,\n          method: method,\n          params: [].slice.call(_arguments)\n        });\n      });\n    };\n  });\n}\n\nmodule.exports = addMethods;\n//# sourceMappingURL=rpc-wrapper.js.map\n","module.exports = require(\"call-me-maybe\");;","module.exports = require(\"fast-safe-stringify\");;","module.exports = require(\"fs\");;","module.exports = require(\"http\");;","module.exports = require(\"path\");;","module.exports = require(\"stickyfill\");;","module.exports = undefined;","module.exports = require(\"url\");;","module.exports = require(\"yaml\");;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"react\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"polished\");;","import { darken, desaturate, lighten, readableColor, transparentize } from 'polished';\n\nconst defaultTheme: ThemeInterface = {\n  spacing: {\n    unit: 5,\n    sectionHorizontal: ({ spacing }) => spacing.unit * 8,\n    sectionVertical: ({ spacing }) => spacing.unit * 8,\n  },\n  breakpoints: {\n    small: '50rem',\n    medium: '75rem',\n    large: '105rem',\n  },\n  colors: {\n    tonalOffset: 0.2,\n    primary: {\n      main: '#32329f',\n      light: ({ colors }) => lighten(colors.tonalOffset, colors.primary.main),\n      dark: ({ colors }) => darken(colors.tonalOffset, colors.primary.main),\n      contrastText: ({ colors }) => readableColor(colors.primary.main),\n    },\n    success: {\n      main: '#1d8127',\n      light: ({ colors }) => lighten(colors.tonalOffset * 2, colors.success.main),\n      dark: ({ colors }) => darken(colors.tonalOffset, colors.success.main),\n      contrastText: ({ colors }) => readableColor(colors.success.main),\n    },\n    warning: {\n      main: '#ffa500',\n      light: ({ colors }) => lighten(colors.tonalOffset, colors.warning.main),\n      dark: ({ colors }) => darken(colors.tonalOffset, colors.warning.main),\n      contrastText: '#ffffff',\n    },\n    error: {\n      main: '#d41f1c',\n      light: ({ colors }) => lighten(colors.tonalOffset, colors.error.main),\n      dark: ({ colors }) => darken(colors.tonalOffset, colors.error.main),\n      contrastText: ({ colors }) => readableColor(colors.error.main),\n    },\n    gray: {\n      50: '#FAFAFA',\n      100: '#F5F5F5',\n    },\n    text: {\n      primary: '#333333',\n      secondary: ({ colors }) => lighten(colors.tonalOffset, colors.text.primary),\n    },\n    border: {\n      dark: 'rgba(0,0,0, 0.1)',\n      light: '#ffffff',\n    },\n    responses: {\n      success: {\n        color: ({ colors }) => colors.success.main,\n        backgroundColor: ({ colors }) => transparentize(0.93, colors.success.main),\n        tabTextColor: ({ colors }) => colors.responses.success.color,\n      },\n      error: {\n        color: ({ colors }) => colors.error.main,\n        backgroundColor: ({ colors }) => transparentize(0.93, colors.error.main),\n        tabTextColor: ({ colors }) => colors.responses.error.color,\n      },\n      redirect: {\n        color: ({ colors }) => colors.warning.main,\n        backgroundColor: ({ colors }) => transparentize(0.9, colors.responses.redirect.color),\n        tabTextColor: ({ colors }) => colors.responses.redirect.color,\n      },\n      info: {\n        color: '#87ceeb',\n        backgroundColor: ({ colors }) => transparentize(0.9, colors.responses.info.color),\n        tabTextColor: ({ colors }) => colors.responses.info.color,\n      },\n    },\n    http: {\n      get: '#2F8132',\n      post: '#186FAF',\n      put: '#95507c',\n      options: '#947014',\n      patch: '#bf581d',\n      delete: '#cc3333',\n      basic: '#707070',\n      link: '#07818F',\n      head: '#A23DAD',\n    },\n  },\n  schema: {\n    linesColor: theme =>\n      lighten(\n        theme.colors.tonalOffset,\n        desaturate(theme.colors.tonalOffset, theme.colors.primary.main),\n      ),\n    defaultDetailsWidth: '75%',\n    typeNameColor: theme => theme.colors.text.secondary,\n    typeTitleColor: theme => theme.schema.typeNameColor,\n    requireLabelColor: theme => theme.colors.error.main,\n    labelsTextSize: '0.9em',\n    nestingSpacing: '1em',\n    nestedBackground: '#fafafa',\n    arrow: {\n      size: '1.1em',\n      color: theme => theme.colors.text.secondary,\n    },\n  },\n  typography: {\n    fontSize: '14px',\n    lineHeight: '1.5em',\n    fontWeightRegular: '400',\n    fontWeightBold: '600',\n    fontWeightLight: '300',\n    fontFamily: 'Roboto, sans-serif',\n    smoothing: 'antialiased',\n    optimizeSpeed: true,\n    headings: {\n      fontFamily: 'Montserrat, sans-serif',\n      fontWeight: '400',\n      lineHeight: '1.6em',\n    },\n    code: {\n      fontSize: '13px',\n      fontFamily: 'Courier, monospace',\n      lineHeight: ({ typography }) => typography.lineHeight,\n      fontWeight: ({ typography }) => typography.fontWeightRegular,\n      color: '#e53935',\n      backgroundColor: 'rgba(38, 50, 56, 0.05)',\n      wrap: false,\n    },\n    links: {\n      color: ({ colors }) => colors.primary.main,\n      visited: ({ typography }) => typography.links.color,\n      hover: ({ typography }) => lighten(0.2, typography.links.color),\n    },\n  },\n  sidebar: {\n    width: '260px',\n    backgroundColor: '#fafafa',\n    textColor: '#333333',\n    activeTextColor: theme =>\n      theme.sidebar.textColor !== defaultTheme.sidebar!.textColor\n        ? theme.sidebar.textColor\n        : theme.colors.primary.main,\n    groupItems: {\n      textTransform: 'uppercase',\n    },\n    level1Items: {\n      textTransform: 'none',\n    },\n    arrow: {\n      size: '1.5em',\n      color: theme => theme.sidebar.textColor,\n    },\n  },\n  logo: {\n    maxHeight: ({ sidebar }) => sidebar.width,\n    maxWidth: ({ sidebar }) => sidebar.width,\n    gutter: '2px',\n  },\n  rightPanel: {\n    backgroundColor: '#263238',\n    width: '40%',\n    textColor: '#ffffff',\n  },\n  codeBlock: {\n    backgroundColor: ({ rightPanel }) => darken(0.1, rightPanel.backgroundColor),\n  },\n  fab: {\n    backgroundColor: '#f2f2f2',\n    color: '#0065FB',\n  },\n};\n\nexport default defaultTheme;\n\nexport function resolveTheme(theme: ThemeInterface): ResolvedThemeInterface {\n  const resolvedValues = {};\n  let counter = 0;\n  const setProxy = (obj, path: string) => {\n    Object.keys(obj).forEach(k => {\n      const currentPath = (path ? path + '.' : '') + k;\n      const val = obj[k];\n      if (typeof val === 'function') {\n        Object.defineProperty(obj, k, {\n          get() {\n            if (!resolvedValues[currentPath]) {\n              counter++;\n              if (counter > 1000) {\n                throw new Error(\n                  `Theme probably contains circular dependency at ${currentPath}: ${val.toString()}`,\n                );\n              }\n\n              resolvedValues[currentPath] = val(theme);\n            }\n            return resolvedValues[currentPath];\n          },\n          enumerable: true,\n        });\n      } else if (typeof val === 'object') {\n        setProxy(val, currentPath);\n      }\n    });\n  };\n\n  setProxy(theme, '');\n  return JSON.parse(JSON.stringify(theme));\n}\n\nexport interface ColorSetting {\n  main: string;\n  light: string;\n  dark: string;\n  contrastText: string;\n}\n\nexport interface HTTPResponseColos {\n  color: string;\n  backgroundColor: string;\n  tabTextColor: string;\n}\n\nexport interface FontSettings {\n  fontSize: string;\n  fontWeight: string;\n  fontFamily: string;\n  lineHeight: string;\n  color: string;\n}\n\nexport interface ResolvedThemeInterface {\n  spacing: {\n    unit: number;\n    sectionHorizontal: number;\n    sectionVertical: number;\n  };\n  breakpoints: {\n    small: string;\n    medium: string;\n    large: string;\n  };\n  colors: {\n    tonalOffset: number;\n    primary: ColorSetting;\n    success: ColorSetting;\n    warning: ColorSetting;\n    error: ColorSetting;\n    gray: {\n      50: string;\n      100: string;\n    };\n    border: {\n      light: string;\n      dark: string;\n    };\n    text: {\n      primary: string;\n      secondary: string;\n    };\n    responses: {\n      success: HTTPResponseColos;\n      error: HTTPResponseColos;\n      redirect: HTTPResponseColos;\n      info: HTTPResponseColos;\n    };\n    http: {\n      get: string;\n      post: string;\n      put: string;\n      options: string;\n      patch: string;\n      delete: string;\n      basic: string;\n      link: string;\n      head: string;\n    };\n  };\n  schema: {\n    linesColor: string;\n    defaultDetailsWidth: string;\n    typeNameColor: string;\n    typeTitleColor: string;\n    requireLabelColor: string;\n    labelsTextSize: string;\n    nestingSpacing: string;\n    nestedBackground: string;\n    arrow: {\n      size: string;\n      color: string;\n    };\n  };\n  typography: {\n    fontSize: string;\n    lineHeight: string;\n    fontWeightLight: string;\n    fontWeightRegular: string;\n    fontWeightBold: string;\n    fontFamily: string;\n\n    smoothing: string;\n    optimizeSpeed: boolean;\n\n    code: FontSettings & {\n      backgroundColor: string;\n      wrap: boolean;\n    };\n    headings: {\n      fontFamily: string;\n      fontWeight: string;\n      lineHeight: string;\n    };\n\n    links: {\n      color: string;\n      visited: string;\n      hover: string;\n    };\n  };\n  sidebar: {\n    width: string;\n    backgroundColor: string;\n    textColor: string;\n    activeTextColor: string;\n    groupItems: {\n      textTransform: string;\n    };\n    level1Items: {\n      textTransform: string;\n    };\n    arrow: {\n      size: string;\n      color: string;\n    };\n  };\n  logo: {\n    maxHeight: string;\n    maxWidth: string;\n    gutter: string;\n  };\n  rightPanel: {\n    backgroundColor: string;\n    textColor: string;\n    width: string;\n  };\n  codeBlock: {\n    backgroundColor: string;\n  };\n  fab: {\n    backgroundColor: string;\n    color: string;\n  };\n\n  extensionsHook?: (name: string, props: any) => string;\n}\n\nexport type primitive = string | number | boolean | undefined | null;\nexport type AdvancedThemeDeep<T> = T extends primitive\n  ? T | ((theme: ResolvedThemeInterface) => T)\n  : AdvancedThemeObject<T>;\nexport type AdvancedThemeObject<T> = { [P in keyof T]?: AdvancedThemeDeep<T[P]> };\nexport type ThemeInterface = AdvancedThemeObject<ResolvedThemeInterface>;\n","export const IS_BROWSER = typeof window !== 'undefined' && 'HTMLElement' in window;\n\nexport function querySelector(selector: string): Element | null {\n  if (typeof document !== 'undefined') {\n    return document.querySelector(selector);\n  }\n  return null;\n}\n\n/**\n * Drop everything inside <...> (i.e., tags/elements), and keep the text.\n * Unlike browser innerText, this removes newlines; it also doesn't handle\n * un-encoded `<` or `>` characters very well, so don't feed it malformed HTML\n */\nexport function html2Str(html: string): string {\n  return html\n    .split(/<[^>]+>/)\n    .map(chunk => {\n      return chunk.trim();\n    })\n    .filter(trimmedChunk => {\n      return trimmedChunk.length > 0;\n    })\n    .join(' ');\n}\n\n// Alternate scrollIntoViewIfNeeded implementation.\n// Used in all cases, since it seems Chrome's implementation is buggy\n// when \"Experimental Web Platform Features\" is enabled (at least of version 96).\n// See #1714, #1742\n\nexport function scrollIntoViewIfNeeded(el: HTMLElement, centerIfNeeded = true) {\n  const parent = el.parentNode as HTMLElement | null;\n  if (!parent) {\n    return;\n  }\n  const parentComputedStyle = window.getComputedStyle(parent, undefined);\n  const parentBorderTopWidth = parseInt(\n    parentComputedStyle.getPropertyValue('border-top-width'),\n    10,\n  );\n  const parentBorderLeftWidth = parseInt(\n    parentComputedStyle.getPropertyValue('border-left-width'),\n    10,\n  );\n  const overTop = el.offsetTop - parent.offsetTop < parent.scrollTop;\n  const overBottom =\n    el.offsetTop - parent.offsetTop + el.clientHeight - parentBorderTopWidth >\n    parent.scrollTop + parent.clientHeight;\n  const overLeft = el.offsetLeft - parent.offsetLeft < parent.scrollLeft;\n  const overRight =\n    el.offsetLeft - parent.offsetLeft + el.clientWidth - parentBorderLeftWidth >\n    parent.scrollLeft + parent.clientWidth;\n  const alignWithTop = overTop && !overBottom;\n\n  if ((overTop || overBottom) && centerIfNeeded) {\n    parent.scrollTop =\n      el.offsetTop -\n      parent.offsetTop -\n      parent.clientHeight / 2 -\n      parentBorderTopWidth +\n      el.clientHeight / 2;\n  }\n\n  if ((overLeft || overRight) && centerIfNeeded) {\n    parent.scrollLeft =\n      el.offsetLeft -\n      parent.offsetLeft -\n      parent.clientWidth / 2 -\n      parentBorderLeftWidth +\n      el.clientWidth / 2;\n  }\n\n  if ((overTop || overBottom || overLeft || overRight) && !centerIfNeeded) {\n    el.scrollIntoView(alignWithTop);\n  }\n}\n","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"slugify\");;","import slugify from 'slugify';\nimport { format, parse } from 'url';\n\n/**\n * Maps over array passing `isLast` bool to iterator as the second argument\n */\nexport function mapWithLast<T, P>(array: T[], iteratee: (item: T, isLast: boolean) => P) {\n  const res: P[] = [];\n  for (let i = 0; i < array.length - 1; i++) {\n    res.push(iteratee(array[i], false));\n  }\n  if (array.length !== 0) {\n    res.push(iteratee(array[array.length - 1], true));\n  }\n  return res;\n}\n\n/**\n * Creates an object with the same keys as object and values generated by running each\n * own enumerable string keyed property of object thru iteratee.\n * The iteratee is invoked with three arguments: (value, key, object).\n *\n * @param object the object to iterate over\n * @param iteratee the function invoked per iteration.\n */\nexport function mapValues<T, P>(\n  object: Record<string, T>,\n  iteratee: (val: T, key: string, obj: Record<string, T>) => P,\n): Record<string, P> {\n  const res: { [key: string]: P } = {};\n  for (const key in object) {\n    if (object.hasOwnProperty(key)) {\n      res[key] = iteratee(object[key], key, object);\n    }\n  }\n  return res;\n}\n\n/**\n * flattens collection using `prop` field as a children\n * @param collectionItems collection items\n * @param prop item property with child elements\n */\nexport function flattenByProp<T extends object, P extends keyof T>(\n  collectionItems: T[],\n  prop: P,\n): T[] {\n  const res: T[] = [];\n  const iterate = (items: T[]) => {\n    for (const item of items) {\n      res.push(item);\n      if (item[prop]) {\n        iterate(item[prop] as any as T[]);\n      }\n    }\n  };\n  iterate(collectionItems);\n  return res;\n}\n\nexport function stripTrailingSlash(path: string): string {\n  if (path.endsWith('/')) {\n    return path.substring(0, path.length - 1);\n  }\n  return path;\n}\n\nexport function isNumeric(n: any): n is number {\n  return !isNaN(parseFloat(n)) && isFinite(n);\n}\n\nexport function appendToMdHeading(md: string, heading: string, content: string) {\n  // if  heading is already in md and append to the end of it\n  const testRegex = new RegExp(`(^|\\\\n)#\\\\s?${heading}\\\\s*\\\\n`, 'i');\n  const replaceRegex = new RegExp(`((\\\\n|^)#\\\\s*${heading}\\\\s*(\\\\n|$)(?:.|\\\\n)*?)(\\\\n#|$)`, 'i');\n  if (testRegex.test(md)) {\n    return md.replace(replaceRegex, `$1\\n\\n${content}\\n$4`);\n  } else {\n    // else append heading itself\n    const br = md === '' || md.endsWith('\\n\\n') ? '' : md.endsWith('\\n') ? '\\n' : '\\n\\n';\n    return `${md}${br}# ${heading}\\n\\n${content}`;\n  }\n}\n\n// credits https://stackoverflow.com/a/46973278/1749888\nexport const mergeObjects = (target: any, ...sources: any[]): any => {\n  if (!sources.length) {\n    return target;\n  }\n  const source = sources.shift();\n  if (source === undefined) {\n    return target;\n  }\n\n  if (isMergebleObject(target) && isMergebleObject(source)) {\n    Object.keys(source).forEach((key: string) => {\n      if (isMergebleObject(source[key])) {\n        if (!target[key]) {\n          target[key] = {};\n        }\n        mergeObjects(target[key], source[key]);\n      } else {\n        target[key] = source[key];\n      }\n    });\n  }\n\n  return mergeObjects(target, ...sources);\n};\n\nconst isObject = (item: any): boolean => {\n  return item !== null && typeof item === 'object';\n};\n\nconst isMergebleObject = (item): boolean => {\n  return isObject(item) && !Array.isArray(item);\n};\n\n/**\n * slugify() returns empty string when failed to slugify.\n * so try to return minimum slugified-string with failed one which keeps original value\n * the regex codes are referenced with https://gist.github.com/mathewbyrne/1280286\n */\nexport function safeSlugify(value: string): string {\n  return (\n    slugify(value) ||\n    value\n      .toString()\n      .toLowerCase()\n      .replace(/\\s+/g, '-') // Replace spaces with -\n      .replace(/&/g, '-and-') // Replace & with 'and'\n      .replace(/\\--+/g, '-') // Replace multiple - with single -\n      .replace(/^-+/, '') // Trim - from start of text\n      .replace(/-+$/, '')\n  ); // Trim - from end of text\n}\n\nexport function isAbsoluteUrl(url: string) {\n  return /(?:^[a-z][a-z0-9+.-]*:|\\/\\/)/i.test(url);\n}\n\n/**\n * simple resolve URL which doesn't break on strings with url fragments\n * e.g. resolveUrl('http://test.com:{port}', 'path') results in http://test.com:{port}/path\n */\nexport function resolveUrl(url: string, to: string) {\n  let res;\n  if (to.startsWith('//')) {\n    const { protocol: specProtocol } = parse(url);\n    res = `${specProtocol || 'https:'}${to}`;\n  } else if (isAbsoluteUrl(to)) {\n    res = to;\n  } else if (!to.startsWith('/')) {\n    res = stripTrailingSlash(url) + '/' + to;\n  } else {\n    const urlObj = parse(url);\n    res = format({\n      ...urlObj,\n      pathname: to,\n    });\n  }\n  return stripTrailingSlash(res);\n}\n\nexport function getBasePath(serverUrl: string): string {\n  try {\n    return parseURL(serverUrl).pathname;\n  } catch (e) {\n    // when using with redoc-cli serverUrl can be empty resulting in crash\n    return serverUrl;\n  }\n}\n\nexport function titleize(text: string) {\n  return text.charAt(0).toUpperCase() + text.slice(1);\n}\n\nexport function removeQueryString(serverUrl: string): string {\n  try {\n    const url = parseURL(serverUrl);\n    url.search = '';\n    return url.toString();\n  } catch (e) {\n    // when using with redoc-cli serverUrl can be empty resulting in crash\n    return serverUrl;\n  }\n}\n\nfunction parseURL(url: string) {\n  if (typeof URL === 'undefined') {\n    // node\n    return new (require('url').URL)(url);\n  } else {\n    return new URL(url);\n  }\n}\n\nexport function unescapeHTMLChars(str: string): string {\n  return str\n    .replace(/&#(\\d+);/g, (_m, code) => String.fromCharCode(parseInt(code, 10)))\n    .replace(/&amp;/g, '&');\n}\n","export interface LabelsConfig {\n  enum: string;\n  enumSingleValue: string;\n  enumArray: string;\n  default: string;\n  deprecated: string;\n  example: string;\n  examples: string;\n  recursive: string;\n  arrayOf: string;\n  webhook: string;\n  const: string;\n  noResultsFound: string;\n  download: string;\n  downloadSpecification: string;\n  responses: string;\n  callbackResponses: string;\n  requestSamples: string;\n  responseSamples: string;\n}\n\nexport type LabelsConfigRaw = Partial<LabelsConfig>;\n\nconst labels: LabelsConfig = {\n  enum: 'Enum',\n  enumSingleValue: 'Value',\n  enumArray: 'Items',\n  default: 'Default',\n  deprecated: 'Deprecated',\n  example: 'Example',\n  examples: 'Examples',\n  recursive: 'Recursive',\n  arrayOf: 'Array of ',\n  webhook: 'Event',\n  const: 'Value',\n  noResultsFound: 'No results found',\n  download: 'Download',\n  downloadSpecification: 'Download OpenAPI specification',\n  responses: 'Responses',\n  callbackResponses: 'Callback responses',\n  requestSamples: 'Request samples',\n  responseSamples: 'Response samples',\n};\n\nexport function setRedocLabels(_labels?: LabelsConfigRaw) {\n  Object.assign(labels, _labels);\n}\n\nexport function l(key: keyof LabelsConfig, idx?: number): string {\n  const label = labels[key];\n  if (idx !== undefined) {\n    return label[idx];\n  }\n  return label;\n}\n","import defaultTheme, { ResolvedThemeInterface, resolveTheme, ThemeInterface } from '../theme';\nimport { querySelector } from '../utils/dom';\nimport { isNumeric, mergeObjects } from '../utils/helpers';\n\nimport { LabelsConfigRaw, setRedocLabels } from './Labels';\nimport { MDXComponentMeta } from './MarkdownRenderer';\n\nexport enum SideNavStyleEnum {\n  SummaryOnly = 'summary-only',\n  PathOnly = 'path-only',\n}\n\nexport interface RedocRawOptions {\n  theme?: ThemeInterface;\n  scrollYOffset?: number | string | (() => number);\n  hideHostname?: boolean | string;\n  expandResponses?: string | 'all';\n  requiredPropsFirst?: boolean | string;\n  sortPropsAlphabetically?: boolean | string;\n  sortEnumValuesAlphabetically?: boolean | string;\n  sortOperationsAlphabetically?: boolean | string;\n  sortTagsAlphabetically?: boolean | string;\n  noAutoAuth?: boolean | string;\n  nativeScrollbars?: boolean | string;\n  pathInMiddlePanel?: boolean | string;\n  untrustedSpec?: boolean | string;\n  hideLoading?: boolean | string;\n  hideDownloadButton?: boolean | string;\n  disableSearch?: boolean | string;\n  onlyRequiredInSamples?: boolean | string;\n  showExtensions?: boolean | string | string[];\n  sideNavStyle?: SideNavStyleEnum;\n  hideSingleRequestSampleTab?: boolean | string;\n  menuToggle?: boolean | string;\n  jsonSampleExpandLevel?: number | string | 'all';\n  hideSchemaTitles?: boolean | string;\n  simpleOneOfTypeLabel?: boolean | string;\n  payloadSampleIdx?: number;\n  expandSingleSchemaField?: boolean | string;\n  schemaExpansionLevel?: number | string | 'all';\n  showObjectSchemaExamples?: boolean | string;\n\n  unstable_ignoreMimeParameters?: boolean;\n\n  allowedMdComponents?: Record<string, MDXComponentMeta>;\n\n  labels?: LabelsConfigRaw;\n\n  enumSkipQuotes?: boolean | string;\n\n  expandDefaultServerVariables?: boolean;\n  maxDisplayedEnumValues?: number;\n  ignoreNamedSchemas?: string[] | string;\n  hideSchemaPattern?: boolean;\n  generatedPayloadSamplesMaxDepth?: number;\n  hideFab?: boolean;\n}\n\nexport function argValueToBoolean(val?: string | boolean, defaultValue?: boolean): boolean {\n  if (val === undefined) {\n    return defaultValue || false;\n  }\n  if (typeof val === 'string') {\n    return val !== 'false';\n  }\n  return val;\n}\n\nfunction argValueToNumber(value: number | string | undefined): number | undefined {\n  if (typeof value === 'string') {\n    return parseInt(value, 10);\n  }\n\n  if (typeof value === 'number') {\n    return value;\n  }\n}\n\nfunction argValueToExpandLevel(value?: number | string | undefined, defaultValue = 0): number {\n  if (value === 'all') return Infinity;\n\n  return argValueToNumber(value) || defaultValue;\n}\n\nexport class RedocNormalizedOptions {\n  static normalizeExpandResponses(value: RedocRawOptions['expandResponses']) {\n    if (value === 'all') {\n      return 'all';\n    }\n    if (typeof value === 'string') {\n      const res = {};\n      value.split(',').forEach(code => {\n        res[code.trim()] = true;\n      });\n      return res;\n    } else if (value !== undefined) {\n      console.warn(\n        `expandResponses must be a string but received value \"${value}\" of type ${typeof value}`,\n      );\n    }\n    return {};\n  }\n\n  static normalizeHideHostname(value: RedocRawOptions['hideHostname']): boolean {\n    return !!value;\n  }\n\n  static normalizeScrollYOffset(value: RedocRawOptions['scrollYOffset']): () => number {\n    // just number is not valid selector and leads to crash so checking if isNumeric here\n    if (typeof value === 'string' && !isNumeric(value)) {\n      const el = querySelector(value);\n      if (!el) {\n        console.warn(\n          'scrollYOffset value is a selector to non-existing element. Using offset 0 by default',\n        );\n      }\n      const bottom = (el && el.getBoundingClientRect().bottom) || 0;\n      return () => bottom;\n    } else if (typeof value === 'number' || isNumeric(value)) {\n      return () => (typeof value === 'number' ? value : parseFloat(value));\n    } else if (typeof value === 'function') {\n      return () => {\n        const res = value();\n        if (typeof res !== 'number') {\n          console.warn(\n            `scrollYOffset should return number but returned value \"${res}\" of type ${typeof res}`,\n          );\n        }\n        return res;\n      };\n    } else if (value !== undefined) {\n      console.warn(\n        'Wrong value for scrollYOffset ReDoc option: should be string, number or function',\n      );\n    }\n\n    return () => 0;\n  }\n\n  static normalizeShowExtensions(value: RedocRawOptions['showExtensions']): string[] | boolean {\n    if (typeof value === 'undefined') {\n      return false;\n    }\n    if (value === '') {\n      return true;\n    }\n\n    if (typeof value !== 'string') {\n      return value;\n    }\n\n    switch (value) {\n      case 'true':\n        return true;\n      case 'false':\n        return false;\n      default:\n        return value.split(',').map(ext => ext.trim());\n    }\n  }\n\n  static normalizeSideNavStyle(value: RedocRawOptions['sideNavStyle']): SideNavStyleEnum {\n    const defaultValue = SideNavStyleEnum.SummaryOnly;\n    if (typeof value !== 'string') {\n      return defaultValue;\n    }\n\n    switch (value) {\n      case defaultValue:\n        return value;\n      case SideNavStyleEnum.PathOnly:\n        return SideNavStyleEnum.PathOnly;\n      default:\n        return defaultValue;\n    }\n  }\n\n  static normalizePayloadSampleIdx(value: RedocRawOptions['payloadSampleIdx']): number {\n    if (typeof value === 'number') {\n      return Math.max(0, value); // always greater or equal than 0\n    }\n\n    if (typeof value === 'string') {\n      return isFinite(value) ? parseInt(value, 10) : 0;\n    }\n\n    return 0;\n  }\n\n  private static normalizeJsonSampleExpandLevel(level?: number | string | 'all'): number {\n    if (level === 'all') {\n      return +Infinity;\n    }\n    if (!isNaN(Number(level))) {\n      return Math.ceil(Number(level));\n    }\n    return 2;\n  }\n\n  private static normalizeGeneratedPayloadSamplesMaxDepth(\n    value?: number | string | undefined,\n  ): number {\n    if (!isNaN(Number(value))) {\n      return Math.max(0, Number(value));\n    }\n\n    return 10;\n  }\n\n  theme: ResolvedThemeInterface;\n  scrollYOffset: () => number;\n  hideHostname: boolean;\n  expandResponses: { [code: string]: boolean } | 'all';\n  requiredPropsFirst: boolean;\n  sortPropsAlphabetically: boolean;\n  sortEnumValuesAlphabetically: boolean;\n  sortOperationsAlphabetically: boolean;\n  sortTagsAlphabetically: boolean;\n  noAutoAuth: boolean;\n  nativeScrollbars: boolean;\n  pathInMiddlePanel: boolean;\n  untrustedSpec: boolean;\n  hideDownloadButton: boolean;\n  disableSearch: boolean;\n  onlyRequiredInSamples: boolean;\n  showExtensions: boolean | string[];\n  sideNavStyle: SideNavStyleEnum;\n  hideSingleRequestSampleTab: boolean;\n  menuToggle: boolean;\n  jsonSampleExpandLevel: number;\n  enumSkipQuotes: boolean;\n  hideSchemaTitles: boolean;\n  simpleOneOfTypeLabel: boolean;\n  payloadSampleIdx: number;\n  expandSingleSchemaField: boolean;\n  schemaExpansionLevel: number;\n  showObjectSchemaExamples: boolean;\n\n  /* tslint:disable-next-line */\n  unstable_ignoreMimeParameters: boolean;\n  allowedMdComponents: Record<string, MDXComponentMeta>;\n\n  expandDefaultServerVariables: boolean;\n  maxDisplayedEnumValues?: number;\n\n  ignoreNamedSchemas: Set<string>;\n  hideSchemaPattern: boolean;\n  generatedPayloadSamplesMaxDepth: number;\n  hideFab: boolean;\n\n  constructor(raw: RedocRawOptions, defaults: RedocRawOptions = {}) {\n    raw = { ...defaults, ...raw };\n    const hook = raw.theme && raw.theme.extensionsHook;\n\n    // migrate from old theme\n    if ((raw.theme as any)?.menu && !raw.theme?.sidebar) {\n      console.warn('Theme setting \"menu\" is deprecated. Rename to \"sidebar\"');\n      raw.theme!.sidebar = (raw.theme as any).menu;\n    }\n\n    if ((raw.theme as any)?.codeSample && !raw.theme?.codeBlock) {\n      console.warn('Theme setting \"codeSample\" is deprecated. Rename to \"codeBlock\"');\n      raw.theme!.codeBlock = (raw.theme as any).codeSample;\n    }\n\n    this.theme = resolveTheme(\n      mergeObjects({} as any, defaultTheme, { ...raw.theme, extensionsHook: undefined }),\n    );\n\n    this.theme.extensionsHook = hook as any;\n\n    // do not support dynamic labels changes. Labels should be configured before\n    setRedocLabels(raw.labels);\n\n    this.scrollYOffset = RedocNormalizedOptions.normalizeScrollYOffset(raw.scrollYOffset);\n    this.hideHostname = RedocNormalizedOptions.normalizeHideHostname(raw.hideHostname);\n    this.expandResponses = RedocNormalizedOptions.normalizeExpandResponses(raw.expandResponses);\n    this.requiredPropsFirst = argValueToBoolean(raw.requiredPropsFirst);\n    this.sortPropsAlphabetically = argValueToBoolean(raw.sortPropsAlphabetically);\n    this.sortEnumValuesAlphabetically = argValueToBoolean(raw.sortEnumValuesAlphabetically);\n    this.sortOperationsAlphabetically = argValueToBoolean(raw.sortOperationsAlphabetically);\n    this.sortTagsAlphabetically = argValueToBoolean(raw.sortTagsAlphabetically);\n    this.noAutoAuth = argValueToBoolean(raw.noAutoAuth);\n    this.nativeScrollbars = argValueToBoolean(raw.nativeScrollbars);\n    this.pathInMiddlePanel = argValueToBoolean(raw.pathInMiddlePanel);\n    this.untrustedSpec = argValueToBoolean(raw.untrustedSpec);\n    this.hideDownloadButton = argValueToBoolean(raw.hideDownloadButton);\n    this.disableSearch = argValueToBoolean(raw.disableSearch);\n    this.onlyRequiredInSamples = argValueToBoolean(raw.onlyRequiredInSamples);\n    this.showExtensions = RedocNormalizedOptions.normalizeShowExtensions(raw.showExtensions);\n    this.sideNavStyle = RedocNormalizedOptions.normalizeSideNavStyle(raw.sideNavStyle);\n    this.hideSingleRequestSampleTab = argValueToBoolean(raw.hideSingleRequestSampleTab);\n    this.menuToggle = argValueToBoolean(raw.menuToggle, true);\n    this.jsonSampleExpandLevel = RedocNormalizedOptions.normalizeJsonSampleExpandLevel(\n      raw.jsonSampleExpandLevel,\n    );\n    this.enumSkipQuotes = argValueToBoolean(raw.enumSkipQuotes);\n    this.hideSchemaTitles = argValueToBoolean(raw.hideSchemaTitles);\n    this.simpleOneOfTypeLabel = argValueToBoolean(raw.simpleOneOfTypeLabel);\n    this.payloadSampleIdx = RedocNormalizedOptions.normalizePayloadSampleIdx(raw.payloadSampleIdx);\n    this.expandSingleSchemaField = argValueToBoolean(raw.expandSingleSchemaField);\n    this.schemaExpansionLevel = argValueToExpandLevel(raw.schemaExpansionLevel);\n    this.showObjectSchemaExamples = argValueToBoolean(raw.showObjectSchemaExamples);\n\n    this.unstable_ignoreMimeParameters = argValueToBoolean(raw.unstable_ignoreMimeParameters);\n\n    this.allowedMdComponents = raw.allowedMdComponents || {};\n\n    this.expandDefaultServerVariables = argValueToBoolean(raw.expandDefaultServerVariables);\n    this.maxDisplayedEnumValues = argValueToNumber(raw.maxDisplayedEnumValues);\n    const ignoreNamedSchemas = Array.isArray(raw.ignoreNamedSchemas)\n      ? raw.ignoreNamedSchemas\n      : raw.ignoreNamedSchemas?.split(',').map(s => s.trim());\n    this.ignoreNamedSchemas = new Set(ignoreNamedSchemas);\n    this.hideSchemaPattern = argValueToBoolean(raw.hideSchemaPattern);\n    this.generatedPayloadSamplesMaxDepth =\n      RedocNormalizedOptions.normalizeGeneratedPayloadSamplesMaxDepth(\n        raw.generatedPayloadSamplesMaxDepth,\n      );\n    this.hideFab = argValueToBoolean(raw.hideFab);\n  }\n}\n","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"styled-components\");;","import * as styledComponents from 'styled-components';\n\nimport type { ResolvedThemeInterface } from './theme';\n\nexport type { ResolvedThemeInterface };\n\nconst {\n  default: styled,\n  css,\n  createGlobalStyle,\n  keyframes,\n  ThemeProvider,\n} = styledComponents as unknown as styledComponents.ThemedStyledComponentsModule<ResolvedThemeInterface>;\n\nexport const media = {\n  lessThan(breakpoint, print?: boolean, extra?: string) {\n    return (...args) => css`\n      @media ${print ? 'print, ' : ''} screen and (max-width: ${props =>\n          props.theme.breakpoints[breakpoint]}) ${extra || ''} {\n        ${(css as any)(...args)};\n      }\n    `;\n  },\n\n  greaterThan(breakpoint) {\n    return (...args) => css`\n      @media (min-width: ${props => props.theme.breakpoints[breakpoint]}) {\n        ${(css as any)(...args)};\n      }\n    `;\n  },\n\n  between(firstBreakpoint, secondBreakpoint) {\n    return (...args) => css`\n      @media (min-width: ${props =>\n          props.theme.breakpoints[firstBreakpoint]}) and (max-width: ${props =>\n          props.theme.breakpoints[secondBreakpoint]}) {\n        ${(css as any)(...args)};\n      }\n    `;\n  },\n};\n\nexport { css, createGlobalStyle, keyframes, ThemeProvider };\nexport default styled;\n\nexport function extensionsHook(styledName: string) {\n  return props => {\n    if (!props.theme.extensionsHook) {\n      return;\n    }\n    return props.theme.extensionsHook(styledName, props);\n  };\n}\n","import * as React from 'react';\nimport styled from '../styled-components';\n\nconst ErrorWrapper = styled.div`\n  padding: 20px;\n  color: red;\n`;\n\nexport class ErrorBoundary extends React.Component<\n  React.PropsWithChildren<unknown>,\n  { error?: Error }\n> {\n  constructor(props) {\n    super(props);\n    this.state = { error: undefined };\n  }\n\n  componentDidCatch(error) {\n    this.setState({ error });\n    return false;\n  }\n\n  render() {\n    if (this.state.error) {\n      return (\n        <ErrorWrapper>\n          <h1>Something went wrong...</h1>\n          <small> {this.state.error.message} </small>\n          <p>\n            <details>\n              <summary>Stack trace</summary>\n              <pre>{this.state.error.stack}</pre>\n            </details>\n          </p>\n          <small> ReDoc Version: {__REDOC_VERSION__}</small> <br />\n          <small> Commit: {__REDOC_REVISION__}</small>\n        </ErrorWrapper>\n      );\n    }\n    return React.Children.only(this.props.children);\n  }\n}\n","import * as React from 'react';\nimport styled, { keyframes } from '../../styled-components';\n\nconst _Spinner = (props: { className?: string; color: string }) => (\n  <svg className={props.className} version=\"1.1\" width=\"512\" height=\"512\" viewBox=\"0 0 512 512\">\n    <path d=\"M275.682 147.999c0 10.864-8.837 19.661-19.682 19.661v0c-10.875 0-19.681-8.796-19.681-19.661v-96.635c0-10.885 8.806-19.661 19.681-19.661v0c10.844 0 19.682 8.776 19.682 19.661v96.635z\" />\n    <path d=\"M275.682 460.615c0 10.865-8.837 19.682-19.682 19.682v0c-10.875 0-19.681-8.817-19.681-19.682v-96.604c0-10.885 8.806-19.681 19.681-19.681v0c10.844 0 19.682 8.796 19.682 19.682v96.604z\" />\n    <path d=\"M147.978 236.339c10.885 0 19.681 8.755 19.681 19.641v0c0 10.885-8.796 19.702-19.681 19.702h-96.624c-10.864 0-19.661-8.817-19.661-19.702v0c0-10.885 8.796-19.641 19.661-19.641h96.624z\" />\n    <path d=\"M460.615 236.339c10.865 0 19.682 8.755 19.682 19.641v0c0 10.885-8.817 19.702-19.682 19.702h-96.584c-10.885 0-19.722-8.817-19.722-19.702v0c0-10.885 8.837-19.641 19.722-19.641h96.584z\" />\n    <path d=\"M193.546 165.703c7.69 7.66 7.68 20.142 0 27.822v0c-7.701 7.701-20.162 7.701-27.853 0.020l-68.311-68.322c-7.68-7.701-7.68-20.142 0-27.863v0c7.68-7.68 20.121-7.68 27.822 0l68.342 68.342z\" />\n    <path d=\"M414.597 386.775c7.7 7.68 7.7 20.163 0.021 27.863v0c-7.7 7.659-20.142 7.659-27.843-0.062l-68.311-68.26c-7.68-7.7-7.68-20.204 0-27.863v0c7.68-7.7 20.163-7.7 27.842 0l68.291 68.322z\" />\n    <path d=\"M165.694 318.464c7.69-7.7 20.153-7.7 27.853 0v0c7.68 7.659 7.69 20.163 0 27.863l-68.342 68.322c-7.67 7.659-20.142 7.659-27.822-0.062v0c-7.68-7.68-7.68-20.122 0-27.801l68.311-68.322z\" />\n    <path d=\"M386.775 97.362c7.7-7.68 20.142-7.68 27.822 0v0c7.7 7.68 7.7 20.183 0.021 27.863l-68.322 68.311c-7.68 7.68-20.163 7.68-27.843-0.020v0c-7.68-7.68-7.68-20.162 0-27.822l68.322-68.332z\" />\n  </svg>\n);\n\nconst rotate = keyframes`\n  0% {\n    transform: rotate(0deg); }\n  100% {\n    transform: rotate(360deg);\n  }\n`;\n\nexport const Spinner = styled(_Spinner)`\n  animation: 2s ${rotate} linear infinite;\n  width: 50px;\n  height: 50px;\n  content: '';\n  display: inline-block;\n  margin-left: -25px;\n\n  path {\n    fill: ${props => props.color};\n  }\n`;\n","import * as React from 'react';\nimport styled from '../../styled-components';\n\nimport { Spinner } from './Spinner.svg';\n\nconst LoadingMessage = styled.div<{ color: string }>`\n  font-family: helvetica, sans;\n  width: 100%;\n  text-align: center;\n  font-size: 25px;\n  margin: 30px 0 20px 0;\n  color: ${props => props.color};\n`;\n\nexport interface LoadingProps {\n  color: string;\n}\n\nexport class Loading extends React.PureComponent<LoadingProps> {\n  render() {\n    return (\n      <div style={{ textAlign: 'center' }}>\n        <LoadingMessage color={this.props.color}>Loading ...</LoadingMessage>\n        <Spinner color={this.props.color} />\n      </div>\n    );\n  }\n}\n","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"prop-types\");;","import * as React from 'react';\n\nimport { RedocNormalizedOptions } from '../services/RedocNormalizedOptions';\n\nexport const OptionsContext = React.createContext(new RedocNormalizedOptions({}));\nexport const OptionsProvider = OptionsContext.Provider;\nexport const OptionsConsumer = OptionsContext.Consumer;\n","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"mobx\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"@redocly/openapi-core/lib/bundle\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"@redocly/openapi-core/lib/config/config\");;","import type { Source, Document } from '@redocly/openapi-core';\n\n// eslint-disable-next-line import/no-internal-modules\nimport { bundle } from '@redocly/openapi-core/lib/bundle';\n// eslint-disable-next-line import/no-internal-modules\nimport { Config } from '@redocly/openapi-core/lib/config/config';\n\n/* tslint:disable-next-line:no-implicit-dependencies */\nimport { convertObj } from 'swagger2openapi';\nimport { OpenAPISpec } from '../types';\nimport { IS_BROWSER } from './dom';\n\nexport async function loadAndBundleSpec(specUrlOrObject: object | string): Promise<OpenAPISpec> {\n  const config = new Config({});\n  const bundleOpts = {\n    config,\n    base: IS_BROWSER ? window.location.href : process.cwd(),\n  };\n\n  if (IS_BROWSER) {\n    config.resolve.http.customFetch = global.fetch;\n  }\n\n  if (typeof specUrlOrObject === 'object' && specUrlOrObject !== null) {\n    bundleOpts['doc'] = {\n      source: { absoluteRef: '' } as Source,\n      parsed: specUrlOrObject,\n    } as Document;\n  } else {\n    bundleOpts['ref'] = specUrlOrObject;\n  }\n\n  const {\n    bundle: { parsed },\n  } = await bundle(bundleOpts);\n  return parsed.swagger !== undefined ? convertSwagger2OpenAPI(parsed) : parsed;\n}\n\nexport function convertSwagger2OpenAPI(spec: any): Promise<OpenAPISpec> {\n  console.warn('[ReDoc Compatibility mode]: Converting OpenAPI 2.0 to OpenAPI 3.0');\n  return new Promise<OpenAPISpec>((resolve, reject) =>\n    convertObj(spec, { patch: true, warnOnly: true, text: '{}', anchors: true }, (err, res) => {\n      // TODO: log any warnings\n      if (err) {\n        return reject(err);\n      }\n      resolve(res && (res.openapi as any));\n    }),\n  );\n}\n","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"decko\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"eventemitter3\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"json-pointer\");;","'use strict';\nimport * as JsonPointerLib from 'json-pointer';\n\nconst origParse = JsonPointerLib.parse;\n/**\n * Wrapper for JsonPointer. Provides common operations\n */\n\nexport class JsonPointer {\n  /**\n   * returns last JsonPointer token\n   * if level > 1 returns levels last (second last/third last)\n   * @example\n   * // returns subpath\n   * JsonPointerHelper.baseName('/path/0/subpath')\n   * // returns foo\n   * JsonPointerHelper.baseName('/path/foo/subpath', 2)\n   */\n  static baseName(pointer, level = 1) {\n    const tokens = JsonPointer.parse(pointer);\n    return tokens[tokens.length - level];\n  }\n\n  /**\n   * returns dirname of pointer\n   * if level > 1 returns corresponding dirname in the hierarchy\n   * @example\n   * // returns /path/0\n   * JsonPointerHelper.dirName('/path/0/subpath')\n   * // returns /path\n   * JsonPointerHelper.dirName('/path/foo/subpath', 2)\n   */\n  static dirName(pointer, level = 1) {\n    const tokens = JsonPointer.parse(pointer);\n    return JsonPointerLib.compile(tokens.slice(0, tokens.length - level));\n  }\n\n  /**\n   * returns relative path tokens\n   * @example\n   * // returns ['subpath']\n   * JsonPointerHelper.relative('/path/0', '/path/0/subpath')\n   * // returns ['foo', 'subpath']\n   * JsonPointerHelper.relative('/path', '/path/foo/subpath')\n   */\n  static relative(from, to): string[] {\n    const fromTokens = JsonPointer.parse(from);\n    const toTokens = JsonPointer.parse(to);\n    return toTokens.slice(fromTokens.length);\n  }\n\n  /**\n   * overridden JsonPointer original parse to take care of prefixing '#' symbol\n   * that is not valid JsonPointer\n   */\n  static parse(pointer) {\n    let ptr = pointer;\n    if (ptr.charAt(0) === '#') {\n      ptr = ptr.substring(1);\n    }\n    return origParse(ptr);\n  }\n\n  /**\n   * Creates a JSON pointer path, by joining one or more tokens to a base path.\n   *\n   * @param {string} base - The base path\n   * @param {string|string[]} tokens - The token(s) to append (e.g. [\"name\", \"first\"])\n   * @returns {string}\n   */\n  static join(base, tokens) {\n    // TODO: optimize\n    const baseTokens = JsonPointer.parse(base);\n    const resTokens = baseTokens.concat(tokens);\n    return JsonPointerLib.compile(resTokens);\n  }\n\n  static get(object: object, pointer: string) {\n    return JsonPointerLib.get(object, pointer);\n  }\n\n  static compile(tokens: string[]) {\n    return JsonPointerLib.compile(tokens);\n  }\n\n  static escape(pointer: string) {\n    return JsonPointerLib.escape(pointer);\n  }\n}\n(JsonPointerLib as any).parse = JsonPointer.parse;\nObject.assign(JsonPointer, JsonPointerLib);\nexport default JsonPointer;\n","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"url-template\");;","import { dirname } from 'path';\nimport * as URLtemplate from 'url-template';\n\nimport { ExtendedOpenAPIOperation } from '../services';\nimport { FieldModel } from '../services/models';\nimport { OpenAPIParser } from '../services/OpenAPIParser';\nimport {\n  OpenAPIEncoding,\n  OpenAPIMediaType,\n  OpenAPIParameter,\n  OpenAPIParameterStyle,\n  OpenAPIRequestBody,\n  OpenAPIResponse,\n  OpenAPISchema,\n  OpenAPIServer,\n  Referenced,\n} from '../types';\nimport { IS_BROWSER } from './dom';\nimport { isNumeric, removeQueryString, resolveUrl } from './helpers';\n\nfunction isWildcardStatusCode(statusCode: string | number): statusCode is string {\n  return typeof statusCode === 'string' && /\\dxx/i.test(statusCode);\n}\n\nexport function isStatusCode(statusCode: string) {\n  return statusCode === 'default' || isNumeric(statusCode) || isWildcardStatusCode(statusCode);\n}\n\nexport function getStatusCodeType(statusCode: string | number, defaultAsError = false): string {\n  if (statusCode === 'default') {\n    return defaultAsError ? 'error' : 'success';\n  }\n\n  let code = typeof statusCode === 'string' ? parseInt(statusCode, 10) : statusCode;\n  if (isWildcardStatusCode(statusCode)) {\n    code *= 100; // parseInt('2xx') parses to 2\n  }\n\n  if (code < 100 || code > 599) {\n    throw new Error('invalid HTTP code');\n  }\n  let res = 'success';\n  if (code >= 300 && code < 400) {\n    res = 'redirect';\n  } else if (code >= 400) {\n    res = 'error';\n  } else if (code < 200) {\n    res = 'info';\n  }\n  return res;\n}\n\nconst operationNames = {\n  get: true,\n  post: true,\n  put: true,\n  head: true,\n  patch: true,\n  delete: true,\n  options: true,\n  $ref: true,\n};\n\nexport function isOperationName(key: string): boolean {\n  return key in operationNames;\n}\n\nexport function getOperationSummary(operation: ExtendedOpenAPIOperation): string {\n  return (\n    operation.summary ||\n    operation.operationId ||\n    (operation.description && operation.description.substring(0, 50)) ||\n    operation.pathName ||\n    '<no summary>'\n  );\n}\n\nconst schemaKeywordTypes = {\n  multipleOf: 'number',\n  maximum: 'number',\n  exclusiveMaximum: 'number',\n  minimum: 'number',\n  exclusiveMinimum: 'number',\n\n  maxLength: 'string',\n  minLength: 'string',\n  pattern: 'string',\n  contentEncoding: 'string',\n  contentMediaType: 'string',\n\n  items: 'array',\n  maxItems: 'array',\n  minItems: 'array',\n  uniqueItems: 'array',\n\n  maxProperties: 'object',\n  minProperties: 'object',\n  required: 'object',\n  additionalProperties: 'object',\n  properties: 'object',\n};\n\nexport function detectType(schema: OpenAPISchema): string {\n  if (schema.type !== undefined && !Array.isArray(schema.type)) {\n    return schema.type;\n  }\n  const keywords = Object.keys(schemaKeywordTypes);\n  for (const keyword of keywords) {\n    const type = schemaKeywordTypes[keyword];\n    if (schema[keyword] !== undefined) {\n      return type;\n    }\n  }\n\n  return 'any';\n}\n\nexport function isPrimitiveType(\n  schema: OpenAPISchema,\n  type: string | string[] | undefined = schema.type,\n) {\n  if (schema.oneOf !== undefined || schema.anyOf !== undefined) {\n    return false;\n  }\n\n  let isPrimitive = true;\n  const isArray = Array.isArray(type);\n\n  if (type === 'object' || (isArray && type?.includes('object'))) {\n    isPrimitive =\n      schema.properties !== undefined\n        ? Object.keys(schema.properties).length === 0\n        : schema.additionalProperties === undefined;\n  }\n\n  if (schema.items !== undefined && (type === 'array' || (isArray && type?.includes('array')))) {\n    isPrimitive = isPrimitiveType(schema.items, schema.items.type);\n  }\n\n  return isPrimitive;\n}\n\nexport function isJsonLike(contentType: string): boolean {\n  return contentType.search(/json/i) !== -1;\n}\n\nexport function isFormUrlEncoded(contentType: string): boolean {\n  return contentType === 'application/x-www-form-urlencoded';\n}\n\nfunction delimitedEncodeField(fieldVal: any, fieldName: string, delimiter: string): string {\n  if (Array.isArray(fieldVal)) {\n    return fieldVal.map(v => v.toString()).join(delimiter);\n  } else if (typeof fieldVal === 'object') {\n    return Object.keys(fieldVal)\n      .map(k => `${k}${delimiter}${fieldVal[k]}`)\n      .join(delimiter);\n  } else {\n    return fieldName + '=' + fieldVal.toString();\n  }\n}\n\nfunction deepObjectEncodeField(fieldVal: any, fieldName: string): string {\n  if (Array.isArray(fieldVal)) {\n    console.warn('deepObject style cannot be used with array value:' + fieldVal.toString());\n    return '';\n  } else if (typeof fieldVal === 'object') {\n    return Object.keys(fieldVal)\n      .map(k => `${fieldName}[${k}]=${fieldVal[k]}`)\n      .join('&');\n  } else {\n    console.warn('deepObject style cannot be used with non-object value:' + fieldVal.toString());\n    return '';\n  }\n}\n\nfunction serializeFormValue(name: string, explode: boolean, value: any) {\n  // Use RFC6570 safe name ([a-zA-Z0-9_]) and replace with our name later\n  // e.g. URI.template doesn't parse names with hyphen (-) which are valid query param names\n  const safeName = '__redoc_param_name__';\n  const suffix = explode ? '*' : '';\n  const template = URLtemplate.parse(`{?${safeName}${suffix}}`);\n  return template\n    .expand({ [safeName]: value })\n    .substring(1)\n    .replace(/__redoc_param_name__/g, name);\n}\n\n/*\n * Should be used only for url-form-encoded body payloads\n * To be used for parameters should be extended with other style values\n */\nexport function urlFormEncodePayload(\n  payload: object,\n  encoding: { [field: string]: OpenAPIEncoding } = {},\n) {\n  if (Array.isArray(payload)) {\n    throw new Error('Payload must have fields: ' + payload.toString());\n  } else {\n    return Object.keys(payload)\n      .map(fieldName => {\n        const fieldVal = payload[fieldName];\n        const { style = 'form', explode = true } = encoding[fieldName] || {};\n        switch (style) {\n          case 'form':\n            return serializeFormValue(fieldName, explode, fieldVal);\n          case 'spaceDelimited':\n            return delimitedEncodeField(fieldVal, fieldName, '%20');\n          case 'pipeDelimited':\n            return delimitedEncodeField(fieldVal, fieldName, '|');\n          case 'deepObject':\n            return deepObjectEncodeField(fieldVal, fieldName);\n          default:\n            // TODO implement rest of styles for path parameters\n            console.warn('Incorrect or unsupported encoding style: ' + style);\n            return '';\n        }\n      })\n      .join('&');\n  }\n}\n\nfunction serializePathParameter(\n  name: string,\n  style: OpenAPIParameterStyle,\n  explode: boolean,\n  value: any,\n): string {\n  const suffix = explode ? '*' : '';\n  let prefix = '';\n\n  if (style === 'label') {\n    prefix = '.';\n  } else if (style === 'matrix') {\n    prefix = ';';\n  }\n\n  // Use RFC6570 safe name ([a-zA-Z0-9_]) and replace with our name later\n  // e.g. URI.template doesn't parse names with hyphen (-) which are valid query param names\n  const safeName = '__redoc_param_name__';\n  const template = URLtemplate.parse(`{${prefix}${safeName}${suffix}}`);\n\n  return template.expand({ [safeName]: value }).replace(/__redoc_param_name__/g, name);\n}\n\nfunction serializeQueryParameter(\n  name: string,\n  style: OpenAPIParameterStyle,\n  explode: boolean,\n  value: any,\n): string {\n  switch (style) {\n    case 'form':\n      return serializeFormValue(name, explode, value);\n    case 'spaceDelimited':\n      if (!Array.isArray(value)) {\n        console.warn('The style spaceDelimited is only applicable to arrays');\n        return '';\n      }\n      if (explode) {\n        return serializeFormValue(name, explode, value);\n      }\n\n      return `${name}=${value.join('%20')}`;\n    case 'pipeDelimited':\n      if (!Array.isArray(value)) {\n        console.warn('The style pipeDelimited is only applicable to arrays');\n        return '';\n      }\n      if (explode) {\n        return serializeFormValue(name, explode, value);\n      }\n\n      return `${name}=${value.join('|')}`;\n    case 'deepObject':\n      if (!explode || Array.isArray(value) || typeof value !== 'object') {\n        console.warn('The style deepObject is only applicable for objects with explode=true');\n        return '';\n      }\n\n      return deepObjectEncodeField(value, name);\n    default:\n      console.warn('Unexpected style for query: ' + style);\n      return '';\n  }\n}\n\nfunction serializeHeaderParameter(\n  style: OpenAPIParameterStyle,\n  explode: boolean,\n  value: any,\n): string {\n  switch (style) {\n    case 'simple':\n      const suffix = explode ? '*' : '';\n\n      // name is not important here, so use RFC6570 safe name ([a-zA-Z0-9_])\n      const name = '__redoc_param_name__';\n      const template = URLtemplate.parse(`{${name}${suffix}}`);\n      return decodeURIComponent(template.expand({ [name]: value }));\n    default:\n      console.warn('Unexpected style for header: ' + style);\n      return '';\n  }\n}\n\nfunction serializeCookieParameter(\n  name: string,\n  style: OpenAPIParameterStyle,\n  explode: boolean,\n  value: any,\n): string {\n  switch (style) {\n    case 'form':\n      return serializeFormValue(name, explode, value);\n    default:\n      console.warn('Unexpected style for cookie: ' + style);\n      return '';\n  }\n}\n\nexport function serializeParameterValueWithMime(value: any, mime: string): string {\n  if (isJsonLike(mime)) {\n    return JSON.stringify(value);\n  } else {\n    console.warn(`Parameter serialization as ${mime} is not supported`);\n    return '';\n  }\n}\n\nexport function serializeParameterValue(\n  parameter: OpenAPIParameter & { serializationMime?: string },\n  value: any,\n): string {\n  const { name, style, explode = false, serializationMime } = parameter;\n\n  if (serializationMime) {\n    switch (parameter.in) {\n      case 'path':\n      case 'header':\n        return serializeParameterValueWithMime(value, serializationMime);\n      case 'cookie':\n      case 'query':\n        return `${name}=${serializeParameterValueWithMime(value, serializationMime)}`;\n      default:\n        console.warn('Unexpected parameter location: ' + parameter.in);\n        return '';\n    }\n  }\n\n  if (!style) {\n    console.warn(`Missing style attribute or content for parameter ${name}`);\n    return '';\n  }\n\n  switch (parameter.in) {\n    case 'path':\n      return serializePathParameter(name, style, explode, value);\n    case 'query':\n      return serializeQueryParameter(name, style, explode, value);\n    case 'header':\n      return serializeHeaderParameter(style, explode, value);\n    case 'cookie':\n      return serializeCookieParameter(name, style, explode, value);\n    default:\n      console.warn('Unexpected parameter location: ' + parameter.in);\n      return '';\n  }\n}\n\nexport function getSerializedValue(field: FieldModel, example: any) {\n  if (field.in) {\n    // decode for better readability in examples: see https://github.com/Redocly/redoc/issues/1138\n    return decodeURIComponent(serializeParameterValue(field, example));\n  } else {\n    return example;\n  }\n}\n\nexport function langFromMime(contentType: string): string {\n  if (contentType.search(/xml/i) !== -1) {\n    return 'xml';\n  }\n  return 'clike';\n}\n\nconst DEFINITION_NAME_REGEX = /^#\\/components\\/(schemas|pathItems)\\/([^/]+)$/;\n\nexport function isNamedDefinition(pointer?: string): boolean {\n  return DEFINITION_NAME_REGEX.test(pointer || '');\n}\n\nexport function getDefinitionName(pointer?: string): string | undefined {\n  const [name] = pointer?.match(DEFINITION_NAME_REGEX)?.reverse() || [];\n  return name;\n}\n\nfunction humanizeMultipleOfConstraint(multipleOf: number | undefined): string | undefined {\n  if (multipleOf === undefined) {\n    return;\n  }\n  const strigifiedMultipleOf = multipleOf.toString(10);\n  if (!/^0\\.0*1$/.test(strigifiedMultipleOf)) {\n    return `multiple of ${strigifiedMultipleOf}`;\n  }\n  return `decimal places <= ${strigifiedMultipleOf.split('.')[1].length}`;\n}\n\nfunction humanizeRangeConstraint(\n  description: string,\n  min: number | undefined,\n  max: number | undefined,\n): string | undefined {\n  let stringRange;\n  if (min !== undefined && max !== undefined) {\n    if (min === max) {\n      stringRange = `${min} ${description}`;\n    } else {\n      stringRange = `[ ${min} .. ${max} ] ${description}`;\n    }\n  } else if (max !== undefined) {\n    stringRange = `<= ${max} ${description}`;\n  } else if (min !== undefined) {\n    if (min === 1) {\n      stringRange = 'non-empty';\n    } else {\n      stringRange = `>= ${min} ${description}`;\n    }\n  }\n\n  return stringRange;\n}\n\nexport function humanizeNumberRange(schema: OpenAPISchema): string | undefined {\n  const minimum =\n    typeof schema.exclusiveMinimum === 'number'\n      ? Math.min(schema.exclusiveMinimum, schema.minimum ?? Infinity)\n      : schema.minimum;\n  const maximum =\n    typeof schema.exclusiveMaximum === 'number'\n      ? Math.max(schema.exclusiveMaximum, schema.maximum ?? -Infinity)\n      : schema.maximum;\n  const exclusiveMinimum = typeof schema.exclusiveMinimum === 'number' || schema.exclusiveMinimum;\n  const exclusiveMaximum = typeof schema.exclusiveMaximum === 'number' || schema.exclusiveMaximum;\n\n  if (minimum !== undefined && maximum !== undefined) {\n    return `${exclusiveMinimum ? '( ' : '[ '}${minimum} .. ${maximum}${\n      exclusiveMaximum ? ' )' : ' ]'\n    }`;\n  } else if (maximum !== undefined) {\n    return `${exclusiveMaximum ? '< ' : '<= '}${maximum}`;\n  } else if (minimum !== undefined) {\n    return `${exclusiveMinimum ? '> ' : '>= '}${minimum}`;\n  }\n}\n\nexport function humanizeConstraints(schema: OpenAPISchema): string[] {\n  const res: string[] = [];\n\n  const stringRange = humanizeRangeConstraint('characters', schema.minLength, schema.maxLength);\n  if (stringRange !== undefined) {\n    res.push(stringRange);\n  }\n\n  const arrayRange = humanizeRangeConstraint('items', schema.minItems, schema.maxItems);\n  if (arrayRange !== undefined) {\n    res.push(arrayRange);\n  }\n\n  const multipleOfConstraint = humanizeMultipleOfConstraint(schema.multipleOf);\n  if (multipleOfConstraint !== undefined) {\n    res.push(multipleOfConstraint);\n  }\n\n  const numberRange = humanizeNumberRange(schema);\n  if (numberRange !== undefined) {\n    res.push(numberRange);\n  }\n\n  if (schema.uniqueItems) {\n    res.push('unique');\n  }\n\n  return res;\n}\n\nexport function sortByRequired(fields: FieldModel[], order: string[] = []) {\n  const unrequiredFields: FieldModel[] = [];\n  const orderedFields: FieldModel[] = [];\n  const unorderedFields: FieldModel[] = [];\n\n  fields.forEach(field => {\n    if (field.required) {\n      order.includes(field.name) ? orderedFields.push(field) : unorderedFields.push(field);\n    } else {\n      unrequiredFields.push(field);\n    }\n  });\n\n  orderedFields.sort((a, b) => order.indexOf(a.name) - order.indexOf(b.name));\n\n  return [...orderedFields, ...unorderedFields, ...unrequiredFields];\n}\n\nexport function sortByField(\n  fields: FieldModel[],\n  param: keyof Pick<FieldModel, 'name' | 'description' | 'kind'>,\n) {\n  return [...fields].sort((a, b) => {\n    return a[param].localeCompare(b[param]);\n  });\n}\n\nexport function mergeParams(\n  parser: OpenAPIParser,\n  pathParams: Array<Referenced<OpenAPIParameter>> = [],\n  operationParams: Array<Referenced<OpenAPIParameter>> = [],\n): Array<Referenced<OpenAPIParameter>> {\n  const operationParamNames = {};\n  operationParams.forEach(param => {\n    param = parser.shallowDeref(param);\n    operationParamNames[param.name + '_' + param.in] = true;\n  });\n\n  // filter out path params overridden by operation ones with the same name\n  pathParams = pathParams.filter(param => {\n    param = parser.shallowDeref(param);\n    return !operationParamNames[param.name + '_' + param.in];\n  });\n\n  return pathParams.concat(operationParams);\n}\n\nexport function mergeSimilarMediaTypes(\n  types: Record<string, OpenAPIMediaType>,\n): Record<string, OpenAPIMediaType> {\n  const mergedTypes = {};\n  Object.keys(types).forEach(name => {\n    const mime = types[name];\n    // ignore content type parameters (e.g. charset) and merge\n    const normalizedMimeName = name.split(';')[0].trim();\n    if (!mergedTypes[normalizedMimeName]) {\n      mergedTypes[normalizedMimeName] = mime;\n      return;\n    }\n    mergedTypes[normalizedMimeName] = { ...mergedTypes[normalizedMimeName], ...mime };\n  });\n\n  return mergedTypes;\n}\n\nexport function expandDefaultServerVariables(url: string, variables: object = {}) {\n  return url.replace(\n    /(?:{)([\\w-.]+)(?:})/g,\n    (match, name) => (variables[name] && variables[name].default) || match,\n  );\n}\n\nexport function normalizeServers(\n  specUrl: string | undefined,\n  servers: OpenAPIServer[],\n): OpenAPIServer[] {\n  const getHref = () => {\n    if (!IS_BROWSER) {\n      return '';\n    }\n    const href = window.location.href;\n    return href.endsWith('.html') ? dirname(href) : href;\n  };\n\n  const baseUrl = specUrl === undefined ? removeQueryString(getHref()) : dirname(specUrl);\n\n  if (servers.length === 0) {\n    // Behaviour defined in OpenAPI spec: https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.0.md#openapi-object\n    servers = [\n      {\n        url: '/',\n      },\n    ];\n  }\n\n  function normalizeUrl(url: string): string {\n    return resolveUrl(baseUrl, url);\n  }\n\n  return servers.map(server => {\n    return {\n      ...server,\n      url: normalizeUrl(server.url),\n      description: server.description || '',\n    };\n  });\n}\n\nexport const SECURITY_DEFINITIONS_COMPONENT_NAME = 'security-definitions';\nexport const SECURITY_DEFINITIONS_JSX_NAME = 'SecurityDefinitions';\nexport const SCHEMA_DEFINITION_JSX_NAME = 'SchemaDefinition';\n\nexport let SECURITY_SCHEMES_SECTION_PREFIX = 'section/Authentication/';\nexport function setSecuritySchemePrefix(prefix: string) {\n  SECURITY_SCHEMES_SECTION_PREFIX = prefix;\n}\n\nexport const shortenHTTPVerb = verb =>\n  ({\n    delete: 'del',\n    options: 'opts',\n  }[verb] || verb);\n\nexport function isRedocExtension(key: string): boolean {\n  const redocExtensions = {\n    'x-circular-ref': true,\n    'x-code-samples': true, // deprecated\n    'x-codeSamples': true,\n    'x-displayName': true,\n    'x-examples': true,\n    'x-ignoredHeaderParameters': true,\n    'x-logo': true,\n    'x-nullable': true,\n    'x-servers': true,\n    'x-tagGroups': true,\n    'x-traitTag': true,\n    'x-additionalPropertiesName': true,\n    'x-explicitMappingOnly': true,\n  };\n\n  return key in redocExtensions;\n}\n\nexport function extractExtensions(\n  obj: object,\n  showExtensions: string[] | true,\n): Record<string, any> {\n  return Object.keys(obj)\n    .filter(key => {\n      if (showExtensions === true) {\n        return key.startsWith('x-') && !isRedocExtension(key);\n      }\n      return key.startsWith('x-') && showExtensions.indexOf(key) > -1;\n    })\n    .reduce((acc, key) => {\n      acc[key] = obj[key];\n      return acc;\n    }, {});\n}\n\nexport function pluralizeType(displayType: string): string {\n  return displayType\n    .split(' or ')\n    .map(type => type.replace(/^(string|object|number|integer|array|boolean)s?( ?.*)/, '$1s$2'))\n    .join(' or ');\n}\n\nexport function getContentWithLegacyExamples(\n  info: OpenAPIRequestBody | OpenAPIResponse,\n): { [mime: string]: OpenAPIMediaType } | undefined {\n  let mediaContent = info.content;\n  const xExamples = info['x-examples']; // converted from OAS2 body param\n  const xExample = info['x-example']; // converted from OAS2 body param\n\n  if (xExamples) {\n    mediaContent = { ...mediaContent };\n    for (const mime of Object.keys(xExamples)) {\n      const examples = xExamples[mime];\n      mediaContent[mime] = {\n        ...mediaContent[mime],\n        examples,\n      };\n    }\n  } else if (xExample) {\n    mediaContent = { ...mediaContent };\n    for (const mime of Object.keys(xExample)) {\n      const example = xExample[mime];\n      mediaContent[mime] = {\n        ...mediaContent[mime],\n        example,\n      };\n    }\n  }\n\n  return mediaContent;\n}\n","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"prismjs\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"prismjs/components/prism-bash.js\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"prismjs/components/prism-c.js\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"prismjs/components/prism-clike.js\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"prismjs/components/prism-coffeescript.js\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"prismjs/components/prism-cpp.js\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"prismjs/components/prism-csharp.js\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"prismjs/components/prism-go.js\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"prismjs/components/prism-http.js\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"prismjs/components/prism-java.js\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"prismjs/components/prism-lua.js\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"prismjs/components/prism-markup-templating.js\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"prismjs/components/prism-markup.js\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"prismjs/components/prism-objectivec.js\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"prismjs/components/prism-perl.js\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"prismjs/components/prism-php.js\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"prismjs/components/prism-python.js\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"prismjs/components/prism-q.js\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"prismjs/components/prism-ruby.js\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"prismjs/components/prism-scala.js\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"prismjs/components/prism-sql.js\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"prismjs/components/prism-swift.js\");;","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"prismjs/components/prism-yaml.js\");;","import * as Prism from 'prismjs';\nimport 'prismjs/components/prism-bash.js';\nimport 'prismjs/components/prism-c.js';\nimport 'prismjs/components/prism-clike.js';\nimport 'prismjs/components/prism-coffeescript.js';\nimport 'prismjs/components/prism-cpp.js';\nimport 'prismjs/components/prism-csharp.js';\nimport 'prismjs/components/prism-go.js';\nimport 'prismjs/components/prism-http.js';\nimport 'prismjs/components/prism-java.js';\nimport 'prismjs/components/prism-lua.js';\nimport 'prismjs/components/prism-markup-templating.js'; // dep of php\nimport 'prismjs/components/prism-markup.js'; // xml\nimport 'prismjs/components/prism-objectivec.js';\nimport 'prismjs/components/prism-perl.js';\nimport 'prismjs/components/prism-php.js';\nimport 'prismjs/components/prism-python.js';\nimport 'prismjs/components/prism-q.js';\nimport 'prismjs/components/prism-ruby.js';\nimport 'prismjs/components/prism-scala.js';\nimport 'prismjs/components/prism-sql.js';\nimport 'prismjs/components/prism-swift.js';\nimport 'prismjs/components/prism-yaml.js';\n\nconst DEFAULT_LANG = 'clike';\n\nPrism.languages.insertBefore(\n  'javascript',\n  'string',\n  {\n    'property string': {\n      pattern: /([{,]\\s*)\"(?:\\\\.|[^\\\\\"\\r\\n])*\"(?=\\s*:)/i,\n      lookbehind: true,\n    },\n  } as any,\n  undefined as any,\n);\n\nPrism.languages.insertBefore(\n  'javascript',\n  'punctuation',\n  {\n    property: {\n      pattern: /([{,]\\s*)[a-z]\\w*(?=\\s*:)/i,\n      lookbehind: true,\n    },\n  },\n  undefined as any,\n);\n\n/**\n * map language names to Prism.js names\n */\nexport function mapLang(lang: string): string {\n  return (\n    {\n      json: 'js',\n      'c++': 'cpp',\n      'c#': 'csharp',\n      'objective-c': 'objectivec',\n      shell: 'bash',\n      viml: 'vim',\n    }[lang] || DEFAULT_LANG\n  );\n}\n\n/**\n * Highlight source code string using Prism.js\n * @param source source code to highlight\n * @param lang highlight language\n * @return highlighted source code as **html string**\n */\nexport function highlight(source: string | number | boolean, lang: string = DEFAULT_LANG): string {\n  lang = lang.toLowerCase();\n  let grammar = Prism.languages[lang];\n  if (!grammar) {\n    grammar = Prism.languages[mapLang(lang)];\n  }\n  return Prism.highlight(source.toString(), grammar, lang);\n}\n","function throttle(func, wait) {\n  let context;\n  let args;\n  let result;\n  let timeout: any = null;\n  let previous = 0;\n  const later = () => {\n    previous = new Date().getTime();\n    timeout = null;\n    result = func.apply(context, args);\n    if (!timeout) {\n      context = args = null;\n    }\n  };\n  return function () {\n    const now = new Date().getTime();\n    const remaining = wait - (now - previous);\n    context = this;\n    // eslint-disable-next-line prefer-rest-params\n    args = arguments;\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = null;\n      }\n      previous = now;\n      result = func.apply(context, args);\n      if (!timeout) {\n        context = args = null;\n      }\n    } else if (!timeout) {\n      timeout = setTimeout(later, remaining);\n    }\n    return result;\n  };\n}\n\nexport function Throttle(delay: number) {\n  return (_, _2, desc: PropertyDescriptor) => {\n    desc.value = throttle(desc.value, delay);\n  };\n}\n","export function debugTime(label: string) {\n  if (process.env.NODE_ENV !== 'production') {\n    console.time(label);\n  }\n}\n\nexport function debugTimeEnd(label: string) {\n  if (process.env.NODE_ENV !== 'production') {\n    console.timeEnd(label);\n  }\n}\n","// source: https://github.com/andreypopp/memoize-decorator\nconst SENTINEL = {};\n\nexport function memoize<T>(target: any, name: string, descriptor: TypedPropertyDescriptor<T>) {\n  if (typeof descriptor.value === 'function') {\n    return _memoizeMethod(target, name, descriptor) as any as TypedPropertyDescriptor<T>;\n  } else if (typeof descriptor.get === 'function') {\n    return _memoizeGetter(target, name, descriptor) as TypedPropertyDescriptor<T>;\n  } else {\n    throw new Error(\n      '@memoize decorator can be applied to methods or getters, got ' +\n        String(descriptor.value) +\n        ' instead',\n    );\n  }\n}\n\nfunction _memoizeGetter(target: any, name: string, descriptor: PropertyDescriptor) {\n  const memoizedName = `_memoized_${name}`;\n  const get = descriptor.get!;\n  target[memoizedName] = SENTINEL;\n  return {\n    ...descriptor,\n    get() {\n      if (this[memoizedName] === SENTINEL) {\n        this[memoizedName] = get.call(this);\n      }\n      return this[memoizedName];\n    },\n  };\n}\n\nfunction _memoizeMethod<T>(target: any, name: string, descriptor: TypedPropertyDescriptor<T>) {\n  if (!descriptor.value || (descriptor.value as any).length > 0) {\n    throw new Error('@memoize decorator can only be applied to methods of zero arguments');\n  }\n  const memoizedName = `_memoized_${name}`;\n  const value = descriptor.value;\n  target[memoizedName] = SENTINEL;\n  return {\n    ...descriptor,\n    value() {\n      if (this[memoizedName] === SENTINEL) {\n        this[memoizedName] = (value as any).call(this);\n      }\n      return this[memoizedName] as any;\n    },\n  };\n}\n","/**\n * Function that returns a comparator for sorting objects by some specific key alphabetically.\n *\n * @param {String} property key of the object to sort, if starts from `-` - reverse\n */\nexport function alphabeticallyByProp<T>(property: string): (a: T, b: T) => number {\n  let sortOrder = 1;\n\n  if (property[0] === '-') {\n    sortOrder = -1;\n    property = property.substr(1);\n  }\n\n  return (a: T, b: T) => {\n    if (sortOrder == -1) {\n      return b[property].localeCompare(a[property]);\n    } else {\n      return a[property].localeCompare(b[property]);\n    }\n  };\n}\n","import { bind, debounce } from 'decko';\nimport { EventEmitter } from 'eventemitter3';\nimport { IS_BROWSER } from '../utils/';\n\nconst EVENT = 'hashchange';\n\nexport class HistoryService {\n  private _emiter;\n\n  constructor() {\n    this._emiter = new EventEmitter();\n    this.bind();\n  }\n\n  get currentId(): string {\n    return IS_BROWSER ? decodeURIComponent(window.location.hash.substring(1)) : '';\n  }\n\n  linkForId(id: string) {\n    if (!id) {\n      return '';\n    }\n    return '#' + id;\n  }\n\n  subscribe(cb): () => void {\n    const emmiter = this._emiter.addListener(EVENT, cb);\n    return () => emmiter.removeListener(EVENT, cb);\n  }\n\n  emit = () => {\n    this._emiter.emit(EVENT, this.currentId);\n  };\n\n  bind() {\n    if (IS_BROWSER) {\n      window.addEventListener('hashchange', this.emit, false);\n    }\n  }\n\n  dispose() {\n    if (IS_BROWSER) {\n      window.removeEventListener('hashchange', this.emit);\n    }\n  }\n\n  @bind\n  @debounce\n  replace(id: string | null, rewriteHistory: boolean = false) {\n    if (!IS_BROWSER) {\n      return;\n    }\n\n    if (id == null || id === this.currentId) {\n      return;\n    }\n    if (rewriteHistory) {\n      window.history.replaceState(\n        null,\n        '',\n        window.location.href.split('#')[0] + this.linkForId(id),\n      );\n\n      return;\n    }\n    window.history.pushState(null, '', window.location.href.split('#')[0] + this.linkForId(id));\n    this.emit();\n  }\n}\n\nexport const history = new HistoryService();\n\nif (module.hot) {\n  module.hot.dispose(() => {\n    history.dispose();\n  });\n}\n","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"mark.js\");;","import * as Mark from 'mark.js';\n\nexport class MarkerService {\n  map: Map<Element, Mark> = new Map();\n\n  private prevTerm: string = '';\n\n  add(el: HTMLElement) {\n    this.map.set(el, new Mark(el));\n  }\n\n  delete(el: Element) {\n    this.map.delete(el);\n  }\n\n  addOnly(elements: Element[]) {\n    this.map.forEach((inst, elem) => {\n      if (elements.indexOf(elem) === -1) {\n        inst.unmark();\n        this.map.delete(elem);\n      }\n    });\n\n    for (const el of elements) {\n      if (!this.map.has(el)) {\n        this.map.set(el, new Mark(el as HTMLElement));\n      }\n    }\n  }\n\n  clearAll() {\n    this.unmark();\n    this.map.clear();\n  }\n\n  mark(term?: string) {\n    if (!term && !this.prevTerm) {\n      return;\n    }\n    this.map.forEach(val => {\n      val.unmark();\n      val.mark(term || this.prevTerm);\n    });\n    this.prevTerm = term || this.prevTerm;\n  }\n\n  unmark() {\n    this.map.forEach(val => val.unmark());\n    this.prevTerm = '';\n  }\n}\n","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"marked\");;","import * as React from 'react';\nimport { marked } from 'marked';\n\nimport { highlight, safeSlugify, unescapeHTMLChars } from '../utils';\nimport { AppStore } from './AppStore';\nimport { RedocNormalizedOptions } from './RedocNormalizedOptions';\n\nconst renderer = new marked.Renderer();\n\nmarked.setOptions({\n  renderer,\n  highlight: (str, lang) => {\n    return highlight(str, lang);\n  },\n});\n\nexport const LEGACY_REGEXP = '^ {0,3}<!-- ReDoc-Inject:\\\\s+?<({component}).*?/?>\\\\s+?-->\\\\s*$';\n\n// prettier-ignore\nexport const MDX_COMPONENT_REGEXP = '(?:^ {0,3}<({component})([\\\\s\\\\S]*?)>([\\\\s\\\\S]*?)</\\\\2>' // with children\n  + '|^ {0,3}<({component})([\\\\s\\\\S]*?)(?:/>|\\\\n{2,}))'; // self-closing\n\nexport const COMPONENT_REGEXP = '(?:' + LEGACY_REGEXP + '|' + MDX_COMPONENT_REGEXP + ')';\n\nexport interface MDXComponentMeta {\n  component: React.ComponentType;\n  propsSelector: (store?: AppStore) => any;\n  props?: object;\n}\n\nexport interface MarkdownHeading {\n  id: string;\n  name: string;\n  level: number;\n  items?: MarkdownHeading[];\n  description?: string;\n}\n\nexport function buildComponentComment(name: string) {\n  return `<!-- ReDoc-Inject: <${name}> -->`;\n}\n\nexport class MarkdownRenderer {\n  static containsComponent(rawText: string, componentName: string) {\n    const compRegexp = new RegExp(COMPONENT_REGEXP.replace(/{component}/g, componentName), 'gmi');\n    return compRegexp.test(rawText);\n  }\n\n  static getTextBeforeHading(md: string, heading: string): string {\n    const headingLinePos = md.search(new RegExp(`^##?\\\\s+${heading}`, 'm'));\n    if (headingLinePos > -1) {\n      return md.substring(0, headingLinePos);\n    }\n    return md;\n  }\n\n  headings: MarkdownHeading[] = [];\n  currentTopHeading: MarkdownHeading;\n\n  public parser: marked.Parser; // required initialization, `parser` is used by `marked.Renderer` instance under the hood\n  private headingEnhanceRenderer: marked.Renderer;\n  private originalHeadingRule: typeof marked.Renderer.prototype.heading;\n\n  constructor(public options?: RedocNormalizedOptions) {\n    this.parser = new marked.Parser();\n    this.headingEnhanceRenderer = new marked.Renderer();\n    this.originalHeadingRule = this.headingEnhanceRenderer.heading.bind(\n      this.headingEnhanceRenderer,\n    );\n    this.headingEnhanceRenderer.heading = this.headingRule;\n  }\n\n  saveHeading(\n    name: string,\n    level: number,\n    container: MarkdownHeading[] = this.headings,\n    parentId?: string,\n  ): MarkdownHeading {\n    name = unescapeHTMLChars(name);\n    const item = {\n      id: parentId ? `${parentId}/${safeSlugify(name)}` : `section/${safeSlugify(name)}`,\n      name,\n      level,\n      items: [],\n    };\n    container.push(item);\n    return item;\n  }\n\n  flattenHeadings(container?: MarkdownHeading[]): MarkdownHeading[] {\n    if (container === undefined) {\n      return [];\n    }\n    const res: MarkdownHeading[] = [];\n    for (const heading of container) {\n      res.push(heading);\n      res.push(...this.flattenHeadings(heading.items));\n    }\n    return res;\n  }\n\n  attachHeadingsDescriptions(rawText: string) {\n    const buildRegexp = (heading: MarkdownHeading) => {\n      return new RegExp(`##?\\\\s+${heading.name.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&')}\\s*\\n`);\n    };\n\n    const flatHeadings = this.flattenHeadings(this.headings);\n    if (flatHeadings.length < 1) {\n      return;\n    }\n    let prevHeading = flatHeadings[0];\n    let prevRegexp = buildRegexp(prevHeading);\n    let prevPos = rawText.search(prevRegexp);\n    for (let i = 1; i < flatHeadings.length; i++) {\n      const heading = flatHeadings[i];\n      const regexp = buildRegexp(heading);\n      const currentPos = rawText.substr(prevPos + 1).search(regexp) + prevPos + 1;\n      prevHeading.description = rawText\n        .substring(prevPos, currentPos)\n        .replace(prevRegexp, '')\n        .trim();\n\n      prevHeading = heading;\n      prevRegexp = regexp;\n      prevPos = currentPos;\n    }\n    prevHeading.description = rawText.substring(prevPos).replace(prevRegexp, '').trim();\n  }\n\n  headingRule = (\n    text: string,\n    level: 1 | 2 | 3 | 4 | 5 | 6,\n    raw: string,\n    slugger: marked.Slugger,\n  ): string => {\n    if (level === 1) {\n      this.currentTopHeading = this.saveHeading(text, level);\n    } else if (level === 2) {\n      this.saveHeading(\n        text,\n        level,\n        this.currentTopHeading && this.currentTopHeading.items,\n        this.currentTopHeading && this.currentTopHeading.id,\n      );\n    }\n    return this.originalHeadingRule(text, level, raw, slugger);\n  };\n\n  renderMd(rawText: string, extractHeadings: boolean = false): string {\n    const opts = extractHeadings ? { renderer: this.headingEnhanceRenderer } : undefined;\n\n    const res = marked(rawText.toString(), opts);\n\n    return res;\n  }\n\n  extractHeadings(rawText: string): MarkdownHeading[] {\n    this.renderMd(rawText, true);\n    this.attachHeadingsDescriptions(rawText);\n    const res = this.headings;\n    this.headings = [];\n    return res;\n  }\n\n  // regexp-based 👎: remark is slow and too big so for now using marked + regexps soup\n  renderMdWithComponents(rawText: string): Array<string | MDXComponentMeta> {\n    const components = this.options && this.options.allowedMdComponents;\n    if (!components || Object.keys(components).length === 0) {\n      return [this.renderMd(rawText)];\n    }\n\n    const names = Object.keys(components).join('|');\n    const componentsRegexp = new RegExp(COMPONENT_REGEXP.replace(/{component}/g, names), 'mig');\n\n    const htmlParts: string[] = [];\n    const componentDefs: MDXComponentMeta[] = [];\n\n    let match = componentsRegexp.exec(rawText);\n    let lasxtIdx = 0;\n    while (match) {\n      htmlParts.push(rawText.substring(lasxtIdx, match.index));\n      lasxtIdx = componentsRegexp.lastIndex;\n      const compName = match[1] || match[2] || match[5];\n      const componentMeta = components[compName];\n\n      const props = match[3] || match[6];\n      const children = match[4];\n\n      if (componentMeta) {\n        componentDefs.push({\n          component: componentMeta.component,\n          propsSelector: componentMeta.propsSelector,\n          props: { ...parseProps(props), ...componentMeta.props, children },\n        });\n      }\n      match = componentsRegexp.exec(rawText);\n    }\n    htmlParts.push(rawText.substring(lasxtIdx));\n\n    const res: any[] = [];\n    for (let i = 0; i < htmlParts.length; i++) {\n      const htmlPart = htmlParts[i];\n      if (htmlPart) {\n        res.push(this.renderMd(htmlPart));\n      }\n      if (componentDefs[i]) {\n        res.push(componentDefs[i]);\n      }\n    }\n    return res;\n  }\n}\n\nfunction parseProps(props: string): object {\n  if (!props) {\n    return {};\n  }\n\n  const regex = /([\\w-]+)\\s*=\\s*(?:{([^}]+?)}|\"([^\"]+?)\")/gim;\n  const parsed = {};\n  let match;\n  // tslint:disable-next-line\n  while ((match = regex.exec(props)) !== null) {\n    if (match[3]) {\n      // string prop match (in double quotes)\n      parsed[match[1]] = match[3];\n    } else if (match[2]) {\n      // jsx prop match (in curly braces)\n      let val;\n      try {\n        val = JSON.parse(match[2]);\n      } catch (e) {\n        /* noop */\n      }\n      parsed[match[1]] = val;\n    }\n  }\n\n  return parsed;\n}\n","import { OpenAPIContact, OpenAPIInfo, OpenAPILicense } from '../../types';\nimport { IS_BROWSER } from '../../utils/';\nimport { OpenAPIParser } from '../OpenAPIParser';\n\nexport class ApiInfoModel implements OpenAPIInfo {\n  title: string;\n  version: string;\n\n  description: string;\n  summary: string;\n  termsOfService?: string;\n  contact?: OpenAPIContact;\n  license?: OpenAPILicense;\n\n  downloadLink?: string;\n  downloadFileName?: string;\n\n  constructor(private parser: OpenAPIParser) {\n    Object.assign(this, parser.spec.info);\n    this.description = parser.spec.info.description || '';\n    this.summary = parser.spec.info.summary || '';\n\n    const firstHeadingLinePos = this.description.search(/^##?\\s+/m);\n    if (firstHeadingLinePos > -1) {\n      this.description = this.description.substring(0, firstHeadingLinePos);\n    }\n\n    this.downloadLink = this.getDownloadLink();\n    this.downloadFileName = this.getDownloadFileName();\n  }\n\n  private getDownloadLink(): string | undefined {\n    if (this.parser.specUrl) {\n      return this.parser.specUrl;\n    }\n\n    if (IS_BROWSER && window.Blob && window.URL && window.URL.createObjectURL) {\n      const blob = new Blob([JSON.stringify(this.parser.spec, null, 2)], {\n        type: 'application/json',\n      });\n      return window.URL.createObjectURL(blob);\n    }\n  }\n\n  private getDownloadFileName(): string | undefined {\n    if (!this.parser.specUrl) {\n      return 'swagger.json';\n    }\n    return undefined;\n  }\n}\n","import { OpenAPISecurityRequirement, OpenAPISecurityScheme } from '../../types';\nimport { SECURITY_SCHEMES_SECTION_PREFIX } from '../../utils/openapi';\nimport { OpenAPIParser } from '../OpenAPIParser';\n\nexport interface SecurityScheme extends OpenAPISecurityScheme {\n  id: string;\n  sectionId: string;\n  displayName: string;\n  scopes: string[];\n}\n\nexport class SecurityRequirementModel {\n  schemes: SecurityScheme[];\n\n  constructor(requirement: OpenAPISecurityRequirement, parser: OpenAPIParser) {\n    const schemes = (parser.spec.components && parser.spec.components.securitySchemes) || {};\n\n    this.schemes = Object.keys(requirement || {})\n      .map(id => {\n        const scheme = parser.deref(schemes[id]);\n        const scopes = requirement[id] || [];\n\n        if (!scheme) {\n          console.warn(`Non existing security scheme referenced: ${id}. Skipping`);\n          return undefined;\n        }\n        const displayName = scheme['x-displayName'] || id;\n               \n        return {\n          ...scheme,\n          id,\n          sectionId: SECURITY_SCHEMES_SECTION_PREFIX + id,\n          displayName,\n          scopes,\n        };\n      })\n      .filter(scheme => scheme !== undefined) as SecurityScheme[];\n  }\n}\n","import { action, observable, makeObservable } from 'mobx';\n\nimport { OpenAPICallback, Referenced } from '../../types';\nimport { isOperationName, JsonPointer } from '../../utils';\nimport { OpenAPIParser } from '../OpenAPIParser';\nimport { OperationModel } from './Operation';\nimport { RedocNormalizedOptions } from '../RedocNormalizedOptions';\n\nexport class CallbackModel {\n  @observable\n  expanded: boolean = false;\n\n  name: string;\n  operations: OperationModel[] = [];\n\n  constructor(\n    parser: OpenAPIParser,\n    name: string,\n    infoOrRef: Referenced<OpenAPICallback>,\n    pointer: string,\n    options: RedocNormalizedOptions,\n  ) {\n    makeObservable(this);\n\n    this.name = name;\n    const paths = parser.deref<OpenAPICallback>(infoOrRef);\n    parser.exitRef(infoOrRef);\n\n    for (const pathName of Object.keys(paths)) {\n      const path = paths[pathName];\n      const operations = Object.keys(path).filter(isOperationName);\n      for (const operationName of operations) {\n        const operationInfo = path[operationName];\n\n        const operation = new OperationModel(\n          parser,\n          {\n            ...operationInfo,\n            pathName,\n            pointer: JsonPointer.compile([pointer, name, pathName, operationName]),\n            httpVerb: operationName,\n            pathParameters: path.parameters || [],\n            pathServers: path.servers,\n          },\n          undefined,\n          options,\n          true,\n        );\n\n        this.operations.push(operation);\n      }\n    }\n  }\n\n  @action\n  toggle() {\n    this.expanded = !this.expanded;\n  }\n}\n","import { action, observable, makeObservable } from 'mobx';\n\nimport { OpenAPIExternalDocumentation, OpenAPISchema, Referenced } from '../../types';\n\nimport { OpenAPIParser } from '../OpenAPIParser';\nimport { RedocNormalizedOptions } from '../RedocNormalizedOptions';\nimport { FieldModel } from './Field';\n\nimport { MergedOpenAPISchema } from '../';\nimport {\n  detectType,\n  extractExtensions,\n  humanizeConstraints,\n  isNamedDefinition,\n  isPrimitiveType,\n  JsonPointer,\n  pluralizeType,\n  sortByField,\n  sortByRequired,\n} from '../../utils/';\n\nimport { l } from '../Labels';\n\n// TODO: refactor this model, maybe use getters instead of copying all the values\nexport class SchemaModel {\n  pointer: string;\n\n  type: string | string[];\n  displayType: string;\n  typePrefix: string = '';\n  title: string;\n  description: string;\n  externalDocs?: OpenAPIExternalDocumentation;\n\n  isPrimitive: boolean;\n  isCircular: boolean = false;\n\n  format?: string;\n  displayFormat?: string;\n  nullable: boolean;\n  deprecated: boolean;\n  pattern?: string;\n  example?: any;\n  enum: any[];\n  default?: any;\n  readOnly: boolean;\n  writeOnly: boolean;\n\n  constraints: string[];\n\n  fields?: FieldModel[];\n  items?: SchemaModel;\n\n  oneOf?: SchemaModel[];\n  oneOfType: string;\n  discriminatorProp: string;\n  @observable\n  activeOneOf: number = 0;\n\n  rawSchema: OpenAPISchema;\n  schema: MergedOpenAPISchema;\n  extensions?: Record<string, any>;\n  const: any;\n  contentEncoding?: string;\n  contentMediaType?: string;\n  minItems?: number;\n  maxItems?: number;\n\n  /**\n   * @param isChild if schema discriminator Child\n   * When true forces dereferencing in allOfs even if circular\n   */\n  constructor(\n    parser: OpenAPIParser,\n    schemaOrRef: Referenced<OpenAPISchema>,\n    pointer: string,\n    private options: RedocNormalizedOptions,\n    isChild: boolean = false,\n  ) {\n    makeObservable(this);\n\n    this.pointer = schemaOrRef.$ref || pointer || '';\n    this.rawSchema = parser.deref(schemaOrRef, false, true);\n    this.schema = parser.mergeAllOf(this.rawSchema, this.pointer, isChild);\n\n    this.init(parser, isChild);\n\n    parser.exitRef(schemaOrRef);\n    parser.exitParents(this.schema);\n\n    if (options.showExtensions) {\n      this.extensions = extractExtensions(this.schema, options.showExtensions);\n    }\n  }\n\n  /**\n   * Set specified alternative schema as active\n   * @param idx oneOf index\n   */\n  @action\n  activateOneOf(idx: number) {\n    this.activeOneOf = idx;\n  }\n\n  hasType(type: string) {\n    return this.type === type || (Array.isArray(this.type) && this.type.includes(type));\n  }\n\n  init(parser: OpenAPIParser, isChild: boolean) {\n    const schema = this.schema;\n    this.isCircular = schema['x-circular-ref'];\n\n    this.title =\n      schema.title || (isNamedDefinition(this.pointer) && JsonPointer.baseName(this.pointer)) || '';\n    this.description = schema.description || '';\n    this.type = schema.type || detectType(schema);\n    this.format = schema.format;\n    this.enum = schema.enum || [];\n    this.example = schema.example;\n    this.deprecated = !!schema.deprecated;\n    this.pattern = schema.pattern;\n    this.externalDocs = schema.externalDocs;\n\n    this.constraints = humanizeConstraints(schema);\n    this.displayFormat = this.format;\n    this.isPrimitive = isPrimitiveType(schema, this.type);\n    this.default = schema.default;\n    this.readOnly = !!schema.readOnly;\n    this.writeOnly = !!schema.writeOnly;\n    this.const = schema.const || '';\n    this.contentEncoding = schema.contentEncoding;\n    this.contentMediaType = schema.contentMediaType;\n    this.minItems = schema.minItems;\n    this.maxItems = schema.maxItems;\n\n    if (!!schema.nullable || schema['x-nullable']) {\n      if (\n        Array.isArray(this.type) &&\n        !this.type.some(value => value === null || value === 'null')\n      ) {\n        this.type = [...this.type, 'null'];\n      } else if (!Array.isArray(this.type) && (this.type !== null || this.type !== 'null')) {\n        this.type = [this.type, 'null'];\n      }\n    }\n\n    this.displayType = Array.isArray(this.type)\n      ? this.type.map(item => (item === null ? 'null' : item)).join(' or ')\n      : this.type;\n\n    if (this.isCircular) {\n      return;\n    }\n\n    if (!isChild && getDiscriminator(schema) !== undefined) {\n      this.initDiscriminator(schema, parser);\n      return;\n    } else if (\n      isChild &&\n      Array.isArray(schema.oneOf) &&\n      schema.oneOf.find(s => s.$ref === this.pointer)\n    ) {\n      // we hit allOf of the schema with the parent discriminator\n      delete schema.oneOf;\n    }\n\n    if (schema.oneOf !== undefined) {\n      this.initOneOf(schema.oneOf, parser);\n      this.oneOfType = 'One of';\n      if (schema.anyOf !== undefined) {\n        console.warn(\n          `oneOf and anyOf are not supported on the same level. Skipping anyOf at ${this.pointer}`,\n        );\n      }\n      return;\n    }\n\n    if (schema.anyOf !== undefined) {\n      this.initOneOf(schema.anyOf, parser);\n      this.oneOfType = 'Any of';\n      return;\n    }\n\n    if (this.hasType('object')) {\n      this.fields = buildFields(parser, schema, this.pointer, this.options);\n    } else if (this.hasType('array') && schema.items) {\n      this.items = new SchemaModel(parser, schema.items, this.pointer + '/items', this.options);\n      this.displayType = pluralizeType(this.items.displayType);\n      this.displayFormat = this.items.format;\n      this.typePrefix = this.items.typePrefix + l('arrayOf');\n      this.title = this.title || this.items.title;\n      this.isPrimitive = this.items.isPrimitive;\n      if (this.example === undefined && this.items.example !== undefined) {\n        this.example = [this.items.example];\n      }\n      if (this.items.isPrimitive) {\n        this.enum = this.items.enum;\n      }\n      if (Array.isArray(this.type)) {\n        const filteredType = this.type.filter(item => item !== 'array');\n        if (filteredType.length) this.displayType += ` or ${filteredType.join(' or ')}`;\n      }\n    }\n\n    if (this.enum.length && this.options.sortEnumValuesAlphabetically) {\n      this.enum.sort();\n    }\n  }\n\n  private initOneOf(oneOf: OpenAPISchema[], parser: OpenAPIParser) {\n    this.oneOf = oneOf!.map((variant, idx) => {\n      const derefVariant = parser.deref(variant, false, true);\n\n      const merged = parser.mergeAllOf(derefVariant, this.pointer + '/oneOf/' + idx);\n\n      // try to infer title\n      const title =\n        isNamedDefinition(variant.$ref) && !merged.title\n          ? JsonPointer.baseName(variant.$ref)\n          : `${merged.title || ''}${(merged.const && JSON.stringify(merged.const)) || ''}`;\n\n      const schema = new SchemaModel(\n        parser,\n        // merge base schema into each of oneOf's subschemas\n        {\n          // variant may already have allOf so merge it to not get overwritten\n          ...merged,\n          title,\n          allOf: [{ ...this.schema, oneOf: undefined, anyOf: undefined }],\n        } as OpenAPISchema,\n        this.pointer + '/oneOf/' + idx,\n        this.options,\n      );\n\n      parser.exitRef(variant);\n      // each oneOf should be independent so exiting all the parent refs\n      // otherwise it will cause false-positive recursive detection\n      parser.exitParents(merged);\n\n      return schema;\n    });\n\n    if (this.options.simpleOneOfTypeLabel) {\n      const types = collectUniqueOneOfTypesDeep(this);\n      this.displayType = types.join(' or ');\n    } else {\n      this.displayType = this.oneOf\n        .map(schema => {\n          let name =\n            schema.typePrefix +\n            (schema.title ? `${schema.title} (${schema.displayType})` : schema.displayType);\n          if (name.indexOf(' or ') > -1) {\n            name = `(${name})`;\n          }\n          return name;\n        })\n        .join(' or ');\n    }\n  }\n\n  private initDiscriminator(\n    schema: OpenAPISchema & {\n      parentRefs?: string[];\n    },\n    parser: OpenAPIParser,\n  ) {\n    const discriminator = getDiscriminator(schema)!;\n    this.discriminatorProp = discriminator.propertyName;\n    const implicitInversedMapping = parser.findDerived([\n      ...(schema.parentRefs || []),\n      this.pointer,\n    ]);\n\n    if (schema.oneOf) {\n      for (const variant of schema.oneOf) {\n        if (variant.$ref === undefined) {\n          continue;\n        }\n        const name = JsonPointer.baseName(variant.$ref);\n        implicitInversedMapping[variant.$ref] = name;\n      }\n    }\n\n    const mapping = discriminator.mapping || {};\n\n    // Defines if the mapping is exhaustive. This avoids having references\n    // that overlap with the mapping entries\n    let isLimitedToMapping = discriminator['x-explicitMappingOnly'] || false;\n    // if there are no mappings, assume non-exhaustive\n    if (Object.keys(mapping).length === 0) {\n      isLimitedToMapping = false;\n    }\n\n    const explicitInversedMapping = {};\n    for (const name in mapping) {\n      const $ref = mapping[name];\n\n      if (Array.isArray(explicitInversedMapping[$ref])) {\n        explicitInversedMapping[$ref].push(name);\n      } else {\n        // overrides implicit mapping here\n        explicitInversedMapping[$ref] = [name];\n      }\n    }\n\n    const inversedMapping = isLimitedToMapping\n      ? { ...explicitInversedMapping }\n      : { ...implicitInversedMapping, ...explicitInversedMapping };\n\n    let refs: Array<{ $ref; name }> = [];\n\n    for (const $ref of Object.keys(inversedMapping)) {\n      const names = inversedMapping[$ref];\n      if (Array.isArray(names)) {\n        for (const name of names) {\n          refs.push({ $ref, name });\n        }\n      } else {\n        refs.push({ $ref, name: names });\n      }\n    }\n\n    // Make the listing respects the mapping\n    // in case a mapping is defined, the user usually wants to have the order shown\n    // as it was defined in the yaml. This will sort the names given the provided\n    // mapping (if provided).\n    // The logic is:\n    // - If a name is among the mapping, promote it to first\n    // - Names among the mapping are sorted by their order in the mapping\n    // - Names outside the mapping are sorted alphabetically\n    const names = Object.keys(mapping);\n    if (names.length !== 0) {\n      refs = refs.sort((left, right) => {\n        const indexLeft = names.indexOf(left.name);\n        const indexRight = names.indexOf(right.name);\n\n        if (indexLeft < 0 && indexRight < 0) {\n          // out of mapping, order by name\n          return left.name.localeCompare(right.name);\n        } else if (indexLeft < 0) {\n          // the right is found, so mapping wins\n          return 1;\n        } else if (indexRight < 0) {\n          // left wins as it's in mapping\n          return -1;\n        } else {\n          return indexLeft - indexRight;\n        }\n      });\n    }\n\n    this.oneOf = refs.map(({ $ref, name }) => {\n      const innerSchema = new SchemaModel(parser, parser.byRef($ref)!, $ref, this.options, true);\n      innerSchema.title = name;\n      return innerSchema;\n    });\n  }\n}\n\nfunction buildFields(\n  parser: OpenAPIParser,\n  schema: OpenAPISchema,\n  $ref: string,\n  options: RedocNormalizedOptions,\n): FieldModel[] {\n  const props = schema.properties || {};\n  const additionalProps = schema.additionalProperties;\n  const defaults = schema.default;\n  let fields = Object.keys(props || []).map(fieldName => {\n    let field = props[fieldName];\n\n    if (!field) {\n      console.warn(\n        `Field \"${fieldName}\" is invalid, skipping.\\n Field must be an object but got ${typeof field} at \"${$ref}\"`,\n      );\n      field = {};\n    }\n\n    const required =\n      schema.required === undefined ? false : schema.required.indexOf(fieldName) > -1;\n\n    return new FieldModel(\n      parser,\n      {\n        name: fieldName,\n        required,\n        schema: {\n          ...field,\n          default: field.default === undefined && defaults ? defaults[fieldName] : field.default,\n        },\n      },\n      $ref + '/properties/' + fieldName,\n      options,\n    );\n  });\n\n  if (options.sortPropsAlphabetically) {\n    fields = sortByField(fields, 'name');\n  }\n  if (options.requiredPropsFirst) {\n    // if not sort alphabetically sort in the order from required keyword\n    fields = sortByRequired(fields, !options.sortPropsAlphabetically ? schema.required : undefined);\n  }\n\n  if (typeof additionalProps === 'object' || additionalProps === true) {\n    fields.push(\n      new FieldModel(\n        parser,\n        {\n          name: (typeof additionalProps === 'object'\n            ? additionalProps['x-additionalPropertiesName'] || 'property name'\n            : 'property name'\n          ).concat('*'),\n          required: false,\n          schema: additionalProps === true ? {} : additionalProps,\n          kind: 'additionalProperties',\n        },\n        $ref + '/additionalProperties',\n        options,\n      ),\n    );\n  }\n\n  return fields;\n}\n\nfunction getDiscriminator(schema: OpenAPISchema): OpenAPISchema['discriminator'] {\n  return schema.discriminator || schema['x-discriminator'];\n}\n\nfunction collectUniqueOneOfTypesDeep(schema: SchemaModel) {\n  const uniqueTypes = new Set();\n\n  function crawl(schema: SchemaModel) {\n    for (const oneOfType of schema.oneOf || []) {\n      if (oneOfType.oneOf) {\n        crawl(oneOfType);\n        continue;\n      }\n\n      if (oneOfType.type) {\n        uniqueTypes.add(oneOfType.type);\n      }\n    }\n  }\n\n  crawl(schema);\n  return Array.from(uniqueTypes.values());\n}\n","import { resolve as urlResolve } from 'url';\n\nimport { OpenAPIEncoding, OpenAPIExample, Referenced } from '../../types';\nimport { isFormUrlEncoded, isJsonLike, urlFormEncodePayload } from '../../utils/openapi';\nimport { OpenAPIParser } from '../OpenAPIParser';\n\nconst externalExamplesCache: { [url: string]: Promise<any> } = {};\n\nexport class ExampleModel {\n  value: any;\n  summary?: string;\n  description?: string;\n  externalValueUrl?: string;\n\n  constructor(\n    parser: OpenAPIParser,\n    infoOrRef: Referenced<OpenAPIExample>,\n    public mime: string,\n    encoding?: { [field: string]: OpenAPIEncoding },\n  ) {\n    const example = parser.deref(infoOrRef);\n    this.value = example.value;\n    this.summary = example.summary;\n    this.description = example.description;\n    if (example.externalValue) {\n      this.externalValueUrl = urlResolve(parser.specUrl || '', example.externalValue);\n    }\n    parser.exitRef(infoOrRef);\n\n    if (isFormUrlEncoded(mime) && this.value && typeof this.value === 'object') {\n      this.value = urlFormEncodePayload(this.value, encoding);\n    }\n  }\n\n  getExternalValue(mimeType: string): Promise<any> {\n    if (!this.externalValueUrl) {\n      return Promise.resolve(undefined);\n    }\n\n    if (externalExamplesCache[this.externalValueUrl]) {\n      return externalExamplesCache[this.externalValueUrl];\n    }\n\n    externalExamplesCache[this.externalValueUrl] = fetch(this.externalValueUrl).then(res => {\n      return res.text().then(txt => {\n        if (!res.ok) {\n          return Promise.reject(new Error(txt));\n        }\n\n        if (isJsonLike(mimeType)) {\n          try {\n            return JSON.parse(txt);\n          } catch (e) {\n            return txt;\n          }\n        } else {\n          return txt;\n        }\n      });\n    });\n\n    return externalExamplesCache[this.externalValueUrl];\n  }\n}\n","import { action, observable, makeObservable } from 'mobx';\n\nimport {\n  OpenAPIParameter,\n  OpenAPIParameterLocation,\n  OpenAPIParameterStyle,\n  Referenced,\n} from '../../types';\nimport { RedocNormalizedOptions } from '../RedocNormalizedOptions';\n\nimport { extractExtensions } from '../../utils/openapi';\nimport { OpenAPIParser } from '../OpenAPIParser';\nimport { SchemaModel } from './Schema';\nimport { ExampleModel } from './Example';\nimport { mapValues } from '../../utils/helpers';\n\nconst DEFAULT_SERIALIZATION: Record<\n  OpenAPIParameterLocation,\n  { explode: boolean; style: OpenAPIParameterStyle }\n> = {\n  path: {\n    style: 'simple',\n    explode: false,\n  },\n  query: {\n    style: 'form',\n    explode: true,\n  },\n  header: {\n    style: 'simple',\n    explode: false,\n  },\n  cookie: {\n    style: 'form',\n    explode: true,\n  },\n};\n\n/**\n * Field or Parameter model ready to be used by components\n */\nexport class FieldModel {\n  @observable\n  expanded: boolean | undefined = undefined;\n\n  schema: SchemaModel;\n  name: string;\n  required: boolean;\n  description: string;\n  example?: string;\n  examples?: Record<string, ExampleModel>;\n  deprecated: boolean;\n  in?: OpenAPIParameterLocation;\n  kind: string;\n  extensions?: Record<string, any>;\n  explode: boolean;\n  style?: OpenAPIParameterStyle;\n  const?: any;\n\n  serializationMime?: string;\n\n  constructor(\n    parser: OpenAPIParser,\n    infoOrRef: Referenced<OpenAPIParameter> & { name?: string; kind?: string },\n    pointer: string,\n    options: RedocNormalizedOptions,\n  ) {\n    makeObservable(this);\n\n    const info = parser.deref<OpenAPIParameter>(infoOrRef);\n    this.kind = infoOrRef.kind || 'field';\n    this.name = infoOrRef.name || info.name;\n    this.in = info.in;\n    this.required = !!info.required;\n\n    let fieldSchema = info.schema;\n    let serializationMime = '';\n    if (!fieldSchema && info.in && info.content) {\n      serializationMime = Object.keys(info.content)[0];\n      fieldSchema = info.content[serializationMime] && info.content[serializationMime].schema;\n    }\n\n    this.schema = new SchemaModel(parser, fieldSchema || {}, pointer, options);\n    this.description =\n      info.description === undefined ? this.schema.description || '' : info.description;\n    this.example = info.example || this.schema.example;\n\n    if (info.examples !== undefined) {\n      this.examples = mapValues(\n        info.examples,\n        (example, name) => new ExampleModel(parser, example, name, info.encoding),\n      );\n    }\n\n    if (serializationMime) {\n      this.serializationMime = serializationMime;\n    } else if (info.style) {\n      this.style = info.style;\n    } else if (this.in) {\n      this.style = DEFAULT_SERIALIZATION[this.in]?.style ?? 'form'; // fallback to from in case \"in\" is invalid\n    }\n\n    if (info.explode === undefined && this.in) {\n      this.explode = DEFAULT_SERIALIZATION[this.in]?.explode ?? true;\n    } else {\n      this.explode = !!info.explode;\n    }\n\n    this.deprecated = info.deprecated === undefined ? !!this.schema.deprecated : info.deprecated;\n    parser.exitRef(infoOrRef);\n\n    if (options.showExtensions) {\n      this.extensions = extractExtensions(info, options.showExtensions);\n    }\n\n    this.const = this.schema?.const || info?.const || '';\n  }\n\n  @action\n  toggle() {\n    this.expanded = !this.expanded;\n  }\n\n  @action\n  collapse(): void {\n    this.expanded = false;\n  }\n\n  @action\n  expand(): void {\n    this.expanded = true;\n  }\n}\n","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"openapi-sampler\");;","import * as Sampler from 'openapi-sampler';\n\nimport { OpenAPIMediaType } from '../../types';\nimport { RedocNormalizedOptions } from '../RedocNormalizedOptions';\nimport { SchemaModel } from './Schema';\n\nimport { isJsonLike, mapValues } from '../../utils';\nimport { OpenAPIParser } from '../OpenAPIParser';\nimport { ExampleModel } from './Example';\n\nexport class MediaTypeModel {\n  examples?: { [name: string]: ExampleModel };\n  schema?: SchemaModel;\n  name: string;\n  isRequestType: boolean;\n  onlyRequiredInSamples: boolean;\n  generatedPayloadSamplesMaxDepth: number;\n\n  /**\n   * @param isRequestType needed to know if skipe RO/RW fields in objects\n   */\n  constructor(\n    parser: OpenAPIParser,\n    name: string,\n    isRequestType: boolean,\n    info: OpenAPIMediaType,\n    options: RedocNormalizedOptions,\n  ) {\n    this.name = name;\n    this.isRequestType = isRequestType;\n    this.schema = info.schema && new SchemaModel(parser, info.schema, '', options);\n    this.onlyRequiredInSamples = options.onlyRequiredInSamples;\n    this.generatedPayloadSamplesMaxDepth = options.generatedPayloadSamplesMaxDepth;\n    if (info.examples !== undefined) {\n      this.examples = mapValues(\n        info.examples,\n        example => new ExampleModel(parser, example, name, info.encoding),\n      );\n    } else if (info.example !== undefined) {\n      this.examples = {\n        default: new ExampleModel(\n          parser,\n          { value: parser.shallowDeref(info.example) },\n          name,\n          info.encoding,\n        ),\n      };\n    } else if (isJsonLike(name)) {\n      this.generateExample(parser, info);\n    }\n  }\n\n  generateExample(parser: OpenAPIParser, info: OpenAPIMediaType) {\n    const samplerOptions = {\n      skipReadOnly: this.isRequestType,\n      skipWriteOnly: !this.isRequestType,\n      skipNonRequired: this.isRequestType && this.onlyRequiredInSamples,\n      maxSampleDepth: this.generatedPayloadSamplesMaxDepth,\n    };\n    if (this.schema && this.schema.oneOf) {\n      this.examples = {};\n      for (const subSchema of this.schema.oneOf) {\n        const sample = Sampler.sample(subSchema.rawSchema as any, samplerOptions, parser.spec);\n\n        if (this.schema.discriminatorProp && typeof sample === 'object' && sample) {\n          sample[this.schema.discriminatorProp] = subSchema.title;\n        }\n\n        this.examples[subSchema.title] = new ExampleModel(\n          parser,\n          {\n            value: sample,\n          },\n          this.name,\n          info.encoding,\n        );\n      }\n    } else if (this.schema) {\n      this.examples = {\n        default: new ExampleModel(\n          parser,\n          {\n            value: Sampler.sample(info.schema as any, samplerOptions, parser.spec),\n          },\n          this.name,\n          info.encoding,\n        ),\n      };\n    }\n  }\n}\n","import { action, computed, observable, makeObservable } from 'mobx';\n\nimport { OpenAPIMediaType } from '../../types';\nimport { MediaTypeModel } from './MediaType';\n\nimport { mergeSimilarMediaTypes } from '../../utils';\nimport { OpenAPIParser } from '../OpenAPIParser';\nimport { RedocNormalizedOptions } from '../RedocNormalizedOptions';\n\n/**\n * MediaContent model ready to be sued by React components\n * Contains multiple MediaTypes and keeps track of the currently active one\n */\nexport class MediaContentModel {\n  mediaTypes: MediaTypeModel[];\n\n  @observable\n  activeMimeIdx = 0;\n\n  /**\n   * @param isRequestType needed to know if skipe RO/RW fields in objects\n   */\n  constructor(\n    parser: OpenAPIParser,\n    info: Record<string, OpenAPIMediaType>,\n    public isRequestType: boolean,\n    options: RedocNormalizedOptions,\n  ) {\n    makeObservable(this);\n\n    if (options.unstable_ignoreMimeParameters) {\n      info = mergeSimilarMediaTypes(info);\n    }\n    this.mediaTypes = Object.keys(info).map(name => {\n      const mime = info[name];\n      // reset deref cache just in case something is left there\n      parser.resetVisited();\n      return new MediaTypeModel(parser, name, isRequestType, mime, options);\n    });\n  }\n\n  /**\n   * Set active media type by index\n   * @param idx media type index\n   */\n  @action\n  activate(idx: number) {\n    this.activeMimeIdx = idx;\n  }\n\n  @computed\n  get active() {\n    return this.mediaTypes[this.activeMimeIdx];\n  }\n\n  get hasSample(): boolean {\n    return this.mediaTypes.filter(mime => !!mime.examples).length > 0;\n  }\n}\n","import { OpenAPIRequestBody, Referenced } from '../../types';\n\nimport { OpenAPIParser } from '../OpenAPIParser';\nimport { RedocNormalizedOptions } from '../RedocNormalizedOptions';\nimport { MediaContentModel } from './MediaContent';\nimport { getContentWithLegacyExamples } from '../../utils';\n\ntype RequestBodyProps = {\n  parser: OpenAPIParser;\n  infoOrRef: Referenced<OpenAPIRequestBody>;\n  options: RedocNormalizedOptions;\n  isEvent: boolean;\n};\n\nexport class RequestBodyModel {\n  description: string;\n  required: boolean;\n  content?: MediaContentModel;\n\n  constructor({ parser, infoOrRef, options, isEvent }: RequestBodyProps) {\n    const isRequest = !isEvent;\n    const info = parser.deref(infoOrRef);\n    this.description = info.description || '';\n    this.required = !!info.required;\n    parser.exitRef(infoOrRef);\n\n    const mediaContent = getContentWithLegacyExamples(info);\n    if (mediaContent !== undefined) {\n      this.content = new MediaContentModel(parser, mediaContent, isRequest, options);\n    }\n  }\n}\n","import { action, observable, makeObservable } from 'mobx';\n\nimport { OpenAPIResponse, Referenced } from '../../types';\n\nimport { getStatusCodeType, extractExtensions } from '../../utils';\nimport { OpenAPIParser } from '../OpenAPIParser';\nimport { RedocNormalizedOptions } from '../RedocNormalizedOptions';\nimport { FieldModel } from './Field';\nimport { MediaContentModel } from './MediaContent';\n\ntype ResponseProps = {\n  parser: OpenAPIParser;\n  code: string;\n  defaultAsError: boolean;\n  infoOrRef: Referenced<OpenAPIResponse>;\n  options: RedocNormalizedOptions;\n  isEvent: boolean;\n};\n\nexport class ResponseModel {\n  @observable\n  expanded: boolean = false;\n\n  content?: MediaContentModel;\n  code: string;\n  summary: string;\n  description: string;\n  type: string;\n  headers: FieldModel[] = [];\n  extensions: Record<string, any>;\n\n  constructor({\n    parser,\n    code,\n    defaultAsError,\n    infoOrRef,\n    options,\n    isEvent: isRequest,\n  }: ResponseProps) {\n    makeObservable(this);\n\n    this.expanded = options.expandResponses === 'all' || options.expandResponses[code];\n\n    const info = parser.deref(infoOrRef);\n    parser.exitRef(infoOrRef);\n    this.code = code;\n    if (info.content !== undefined) {\n      this.content = new MediaContentModel(parser, info.content, isRequest, options);\n    }\n\n    if (info['x-summary'] !== undefined) {\n      this.summary = info['x-summary'];\n      this.description = info.description || '';\n    } else {\n      this.summary = info.description || '';\n      this.description = '';\n    }\n\n    this.type = getStatusCodeType(code, defaultAsError);\n\n    const headers = info.headers;\n    if (headers !== undefined) {\n      this.headers = Object.keys(headers).map(name => {\n        const header = headers[name];\n        return new FieldModel(parser, { ...header, name }, '', options);\n      });\n    }\n\n    if (options.showExtensions) {\n      this.extensions = extractExtensions(info, options.showExtensions);\n    }\n  }\n\n  @action\n  toggle() {\n    this.expanded = !this.expanded;\n  }\n}\n","import { action, observable, makeObservable } from 'mobx';\n\nimport { IMenuItem } from '../MenuStore';\nimport { GroupModel } from './Group.model';\nimport { SecurityRequirementModel } from './SecurityRequirement';\n\nimport { OpenAPIExternalDocumentation, OpenAPIServer, OpenAPIXCodeSample } from '../../types';\n\nimport {\n  extractExtensions,\n  getOperationSummary,\n  getStatusCodeType,\n  isStatusCode,\n  memoize,\n  mergeParams,\n  normalizeServers,\n  sortByField,\n  sortByRequired,\n} from '../../utils';\nimport { ContentItemModel, ExtendedOpenAPIOperation } from '../MenuBuilder';\nimport { OpenAPIParser } from '../OpenAPIParser';\nimport { RedocNormalizedOptions } from '../RedocNormalizedOptions';\nimport { CallbackModel } from './Callback';\nimport { FieldModel } from './Field';\nimport { MediaContentModel } from './MediaContent';\nimport { RequestBodyModel } from './RequestBody';\nimport { ResponseModel } from './Response';\nimport { SideNavStyleEnum } from '../RedocNormalizedOptions';\n\nexport interface XPayloadSample {\n  lang: 'payload';\n  label: string;\n  requestBodyContent: MediaContentModel;\n  source: string;\n}\n\nexport function isPayloadSample(\n  sample: XPayloadSample | OpenAPIXCodeSample,\n): sample is XPayloadSample {\n  return sample.lang === 'payload' && (sample as any).requestBodyContent;\n}\n\nlet isCodeSamplesWarningPrinted = false;\n\n/**\n * Operation model ready to be used by components\n */\nexport class OperationModel implements IMenuItem {\n  //#region IMenuItem fields\n  id: string;\n  absoluteIdx?: number;\n  name: string;\n  sidebarLabel: string;\n  description?: string;\n  type = 'operation' as const;\n\n  parent?: GroupModel;\n  externalDocs?: OpenAPIExternalDocumentation;\n  items: ContentItemModel[] = [];\n\n  depth: number;\n\n  @observable\n  ready?: boolean = true;\n  @observable\n  active: boolean = false;\n  @observable\n  expanded: boolean = false;\n  //#endregion\n\n  pointer: string;\n  operationId?: string;\n  httpVerb: string;\n  deprecated: boolean;\n  path: string;\n  servers: OpenAPIServer[];\n  security: SecurityRequirementModel[];\n  extensions: Record<string, any>;\n  isCallback: boolean;\n  isWebhook: boolean;\n  isEvent: boolean;\n\n  constructor(\n    private parser: OpenAPIParser,\n    private operationSpec: ExtendedOpenAPIOperation,\n    parent: GroupModel | undefined,\n    private options: RedocNormalizedOptions,\n    isCallback: boolean = false,\n  ) {\n    makeObservable(this);\n\n    this.pointer = operationSpec.pointer;\n\n    this.description = operationSpec.description;\n    this.parent = parent;\n    this.externalDocs = operationSpec.externalDocs;\n\n    this.deprecated = !!operationSpec.deprecated;\n    this.httpVerb = operationSpec.httpVerb;\n    this.deprecated = !!operationSpec.deprecated;\n    this.operationId = operationSpec.operationId;\n    this.path = operationSpec.pathName;\n    this.isCallback = isCallback;\n    this.isWebhook = operationSpec.isWebhook;\n    this.isEvent = this.isCallback || this.isWebhook;\n\n    this.name = getOperationSummary(operationSpec);\n\n    this.sidebarLabel = options.sideNavStyle === SideNavStyleEnum.PathOnly ? this.path : this.name;\n\n    if (this.isCallback) {\n      // NOTE: Callbacks by default should not inherit the specification's global `security` definition.\n      // Can be defined individually per-callback in the specification. Defaults to none.\n      this.security = (operationSpec.security || []).map(\n        security => new SecurityRequirementModel(security, parser),\n      );\n\n      // TODO: update getting pathInfo for overriding servers on path level\n      this.servers = normalizeServers('', operationSpec.servers || operationSpec.pathServers || []);\n    } else {\n      this.id =\n        operationSpec.operationId !== undefined\n          ? 'operation/' + operationSpec.operationId\n          : parent !== undefined\n          ? parent.id + this.pointer\n          : this.pointer;\n\n      this.security = (operationSpec.security || parser.spec.security || []).map(\n        security => new SecurityRequirementModel(security, parser),\n      );\n\n      this.servers = normalizeServers(\n        parser.specUrl,\n        operationSpec.servers || operationSpec.pathServers || parser.spec.servers || [],\n      );\n    }\n\n    if (options.showExtensions) {\n      this.extensions = extractExtensions(operationSpec, options.showExtensions);\n    }\n  }\n\n  /**\n   * set operation as active (used by side menu)\n   */\n  @action\n  activate() {\n    this.active = true;\n  }\n\n  /**\n   * set operation as inactive (used by side menu)\n   */\n  @action\n  deactivate() {\n    this.active = false;\n  }\n\n  /**\n   * Toggle expansion in middle panel (for callbacks, which are operations)\n   */\n  @action\n  toggle() {\n    this.expanded = !this.expanded;\n  }\n\n  expand() {\n    if (this.parent) {\n      this.parent.expand();\n    }\n  }\n\n  collapse() {\n    /* do nothing */\n  }\n\n  @memoize\n  get requestBody() {\n    return (\n      this.operationSpec.requestBody &&\n      new RequestBodyModel({\n        parser: this.parser,\n        infoOrRef: this.operationSpec.requestBody,\n        options: this.options,\n        isEvent: this.isEvent,\n      })\n    );\n  }\n\n  @memoize\n  get codeSamples() {\n    let samples: Array<OpenAPIXCodeSample | XPayloadSample> =\n      this.operationSpec['x-codeSamples'] || this.operationSpec['x-code-samples'] || [];\n\n    if (this.operationSpec['x-code-samples'] && !isCodeSamplesWarningPrinted) {\n      isCodeSamplesWarningPrinted = true;\n      console.warn('\"x-code-samples\" is deprecated. Use \"x-codeSamples\" instead');\n    }\n\n    const requestBodyContent = this.requestBody && this.requestBody.content;\n    if (requestBodyContent && requestBodyContent.hasSample) {\n      const insertInx = Math.min(samples.length, this.options.payloadSampleIdx);\n\n      samples = [\n        ...samples.slice(0, insertInx),\n        {\n          lang: 'payload',\n          label: 'Payload',\n          source: '',\n          requestBodyContent,\n        },\n        ...samples.slice(insertInx),\n      ];\n    }\n\n    return samples;\n  }\n\n  @memoize\n  get parameters() {\n    const _parameters = mergeParams(\n      this.parser,\n      this.operationSpec.pathParameters,\n      this.operationSpec.parameters,\n      // TODO: fix pointer\n    ).map(paramOrRef => new FieldModel(this.parser, paramOrRef, this.pointer, this.options));\n\n    if (this.options.sortPropsAlphabetically) {\n      return sortByField(_parameters, 'name');\n    }\n    if (this.options.requiredPropsFirst) {\n      return sortByRequired(_parameters);\n    }\n\n    return _parameters;\n  }\n\n  @memoize\n  get responses() {\n    let hasSuccessResponses = false;\n    return Object.keys(this.operationSpec.responses || [])\n      .filter(code => {\n        if (code === 'default') {\n          return true;\n        }\n\n        if (getStatusCodeType(code) === 'success') {\n          hasSuccessResponses = true;\n        }\n\n        return isStatusCode(code);\n      }) // filter out other props (e.g. x-props)\n      .map(code => {\n        return new ResponseModel({\n          parser: this.parser,\n          code,\n          defaultAsError: hasSuccessResponses,\n          infoOrRef: this.operationSpec.responses[code],\n          options: this.options,\n          isEvent: this.isEvent,\n        });\n      });\n  }\n\n  @memoize\n  get callbacks() {\n    return Object.keys(this.operationSpec.callbacks || []).map(callbackEventName => {\n      return new CallbackModel(\n        this.parser,\n        callbackEventName,\n        this.operationSpec.callbacks![callbackEventName],\n        this.pointer,\n        this.options,\n      );\n    });\n  }\n}\n","import { OpenAPIPath, Referenced } from '../../types';\nimport { OpenAPIParser } from '../OpenAPIParser';\nimport { OperationModel } from './Operation';\nimport { RedocNormalizedOptions } from '../RedocNormalizedOptions';\nimport { isOperationName } from '../..';\n\nexport class WebhookModel {\n  operations: OperationModel[] = [];\n\n  constructor(\n    parser: OpenAPIParser,\n    options: RedocNormalizedOptions,\n    infoOrRef?: Referenced<OpenAPIPath>,\n  ) {\n    const webhooks = parser.deref<OpenAPIPath>(infoOrRef || {});\n    parser.exitRef(infoOrRef);\n    this.initWebhooks(parser, webhooks, options);\n  }\n\n  initWebhooks(parser: OpenAPIParser, webhooks: OpenAPIPath, options: RedocNormalizedOptions) {\n    for (const webhookName of Object.keys(webhooks)) {\n      const webhook = webhooks[webhookName];\n      const operations = Object.keys(webhook).filter(isOperationName);\n      for (const operationName of operations) {\n        const operationInfo = webhook[operationName];\n        if (webhook.$ref) {\n          const resolvedWebhook = parser.deref<OpenAPIPath>(webhook || {});\n          this.initWebhooks(parser, { [operationName]: resolvedWebhook }, options);\n        }\n\n        if (!operationInfo) continue;\n        const operation = new OperationModel(\n          parser,\n          {\n            ...operationInfo,\n            httpVerb: operationName,\n          },\n          undefined,\n          options,\n          false,\n        );\n\n        this.operations.push(operation);\n      }\n    }\n  }\n}\n","import { OpenAPISecurityScheme, Referenced } from '../../types';\nimport { SECURITY_SCHEMES_SECTION_PREFIX } from '../../utils/openapi';\nimport { OpenAPIParser } from '../OpenAPIParser';\n\nexport class SecuritySchemeModel {\n  id: string;\n  sectionId: string;\n  type: OpenAPISecurityScheme['type'];\n  description: string;\n  displayName: string;\n  apiKey?: {\n    name: string;\n    in: OpenAPISecurityScheme['in'];\n  };\n\n  http?: {\n    scheme: string;\n    bearerFormat?: string;\n  };\n\n  flows: OpenAPISecurityScheme['flows'];\n  openId?: {\n    connectUrl: string;\n  };\n\n  constructor(parser: OpenAPIParser, id: string, scheme: Referenced<OpenAPISecurityScheme>) {\n    const info = parser.deref(scheme);\n    this.id = id;\n    this.sectionId = SECURITY_SCHEMES_SECTION_PREFIX + id;\n    this.type = info.type;\n    this.displayName = info['x-displayName'] || id;\n    this.description = info.description || '';\n    if (info.type === 'apiKey') {\n      this.apiKey = {\n        name: info.name!,\n        in: info.in,\n      };\n    }\n\n    if (info.type === 'http') {\n      this.http = {\n        scheme: info.scheme!,\n        bearerFormat: info.bearerFormat,\n      };\n    }\n\n    if (info.type === 'openIdConnect') {\n      this.openId = {\n        connectUrl: info.openIdConnectUrl!,\n      };\n    }\n\n    if (info.type === 'oauth2' && info.flows) {\n      this.flows = info.flows;\n    }\n  }\n}\n\nexport class SecuritySchemesModel {\n  schemes: SecuritySchemeModel[];\n\n  constructor(parser: OpenAPIParser) {\n    const schemes = (parser.spec.components && parser.spec.components.securitySchemes) || {};\n    this.schemes = Object.keys(schemes).map(\n      name => new SecuritySchemeModel(parser, name, schemes[name]),\n    );\n  }\n}\n","import { resolve as urlResolve } from 'url';\n\nimport { OpenAPIRef, OpenAPISchema, OpenAPISpec, Referenced } from '../types';\n\nimport { appendToMdHeading, IS_BROWSER } from '../utils/';\nimport { JsonPointer } from '../utils/JsonPointer';\nimport {\n  getDefinitionName,\n  isNamedDefinition,\n  SECURITY_DEFINITIONS_COMPONENT_NAME,\n  SECURITY_DEFINITIONS_JSX_NAME,\n} from '../utils/openapi';\nimport { buildComponentComment, MarkdownRenderer } from './MarkdownRenderer';\nimport { RedocNormalizedOptions } from './RedocNormalizedOptions';\n\nexport type MergedOpenAPISchema = OpenAPISchema & { parentRefs?: string[] };\n\n/**\n * Helper class to keep track of visited references to avoid\n * endless recursion because of circular refs\n */\nclass RefCounter {\n  _counter = {};\n\n  reset(): void {\n    this._counter = {};\n  }\n\n  visit(ref: string): void {\n    this._counter[ref] = this._counter[ref] ? this._counter[ref] + 1 : 1;\n  }\n\n  exit(ref: string): void {\n    this._counter[ref] = this._counter[ref] && this._counter[ref] - 1;\n  }\n\n  visited(ref: string): boolean {\n    return !!this._counter[ref];\n  }\n}\n\n/**\n * Loads and keeps spec. Provides raw spec operations\n */\nexport class OpenAPIParser {\n  specUrl?: string;\n  spec: OpenAPISpec;\n\n  private _refCounter: RefCounter = new RefCounter();\n  private allowMergeRefs: boolean = false;\n\n  constructor(\n    spec: OpenAPISpec,\n    specUrl?: string,\n    private options: RedocNormalizedOptions = new RedocNormalizedOptions({}),\n  ) {\n    this.validate(spec);\n    this.preprocess(spec);\n\n    this.spec = spec;\n    this.allowMergeRefs = spec.openapi.startsWith('3.1');\n\n    const href = IS_BROWSER ? window.location.href : '';\n    if (typeof specUrl === 'string') {\n      this.specUrl = urlResolve(href, specUrl);\n    }\n  }\n\n  validate(spec: any) {\n    if (spec.openapi === undefined) {\n      throw new Error('Document must be valid OpenAPI 3.0.0 definition');\n    }\n  }\n\n  preprocess(spec: OpenAPISpec) {\n    if (\n      !this.options.noAutoAuth &&\n      spec.info &&\n      spec.components &&\n      spec.components.securitySchemes\n    ) {\n      // Automatically inject Authentication section with SecurityDefinitions component\n      const description = spec.info.description || '';\n      if (\n        !MarkdownRenderer.containsComponent(description, SECURITY_DEFINITIONS_COMPONENT_NAME) &&\n        !MarkdownRenderer.containsComponent(description, SECURITY_DEFINITIONS_JSX_NAME)\n      ) {\n        const comment = buildComponentComment(SECURITY_DEFINITIONS_COMPONENT_NAME);\n        spec.info.description = appendToMdHeading(description, 'Authentication', comment);\n      }\n    }\n  }\n\n  /**\n   * get spec part by JsonPointer ($ref)\n   */\n  byRef = <T extends any = any>(ref: string): T | undefined => {\n    let res;\n    if (!this.spec) {\n      return;\n    }\n    if (ref.charAt(0) !== '#') {\n      ref = '#' + ref;\n    }\n    ref = decodeURIComponent(ref);\n    try {\n      res = JsonPointer.get(this.spec, ref);\n    } catch (e) {\n      // do nothing\n    }\n    return res || {};\n  };\n\n  /**\n   * checks if the object is OpenAPI reference (contains $ref property)\n   */\n  isRef(obj: any): obj is OpenAPIRef {\n    if (!obj) {\n      return false;\n    }\n    return obj.$ref !== undefined && obj.$ref !== null;\n  }\n\n  /**\n   * resets visited endpoints. should be run after\n   */\n  resetVisited() {\n    if (process.env.NODE_ENV !== 'production') {\n      // check in dev mode\n      for (const k in this._refCounter._counter) {\n        if (this._refCounter._counter[k] > 0) {\n          console.warn('Not exited reference: ' + k);\n        }\n      }\n    }\n    this._refCounter = new RefCounter();\n  }\n\n  exitRef<T>(ref: Referenced<T>) {\n    if (!this.isRef(ref)) {\n      return;\n    }\n    this._refCounter.exit(ref.$ref);\n  }\n\n  /**\n   * Resolve given reference object or return as is if it is not a reference\n   * @param obj object to dereference\n   * @param forceCircular whether to dereference even if it is circular ref\n   */\n  deref<T extends object>(obj: OpenAPIRef | T, forceCircular = false, mergeAsAllOf = false): T {\n    if (this.isRef(obj)) {\n      const schemaName = getDefinitionName(obj.$ref);\n      if (schemaName && this.options.ignoreNamedSchemas.has(schemaName)) {\n        return { type: 'object', title: schemaName } as T;\n      }\n\n      const resolved = this.byRef<T>(obj.$ref)!;\n      const visited = this._refCounter.visited(obj.$ref);\n      this._refCounter.visit(obj.$ref);\n      if (visited && !forceCircular) {\n        // circular reference detected\n        // tslint:disable-next-line\n        return Object.assign({}, resolved, { 'x-circular-ref': true });\n      }\n      // deref again in case one more $ref is here\n      let result = resolved;\n      if (this.isRef(resolved)) {\n        result = this.deref(resolved, false, mergeAsAllOf);\n        this.exitRef(resolved);\n      }\n      return this.allowMergeRefs ? this.mergeRefs(obj, resolved, mergeAsAllOf) : result;\n    }\n    return obj;\n  }\n\n  shallowDeref<T extends unknown>(obj: OpenAPIRef | T): T {\n    if (this.isRef(obj)) {\n      const schemaName = getDefinitionName(obj.$ref);\n      if (schemaName && this.options.ignoreNamedSchemas.has(schemaName)) {\n        return { type: 'object', title: schemaName } as T;\n      }\n      const resolved = this.byRef<T>(obj.$ref);\n      return this.allowMergeRefs ? this.mergeRefs(obj, resolved, false) : (resolved as T);\n    }\n    return obj;\n  }\n\n  mergeRefs(ref, resolved, mergeAsAllOf: boolean) {\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    const { $ref, ...rest } = ref;\n    const keys = Object.keys(rest);\n    if (keys.length === 0) {\n      if (this.isRef(resolved)) {\n        return this.shallowDeref(resolved);\n      }\n      return resolved;\n    }\n    if (\n      mergeAsAllOf &&\n      keys.some(k => k !== 'description' && k !== 'title' && k !== 'externalDocs')\n    ) {\n      return {\n        allOf: [rest, resolved],\n      };\n    } else {\n      // small optimization\n      return {\n        ...resolved,\n        ...rest,\n      };\n    }\n  }\n\n  /**\n   * Merge allOf constraints.\n   * @param schema schema with allOF\n   * @param $ref pointer of the schema\n   * @param forceCircular whether to dereference children even if it is a circular ref\n   */\n  mergeAllOf(\n    schema: OpenAPISchema,\n    $ref?: string,\n    forceCircular: boolean = false,\n    used$Refs = new Set<string>(),\n  ): MergedOpenAPISchema {\n    if ($ref) {\n      used$Refs.add($ref);\n    }\n\n    schema = this.hoistOneOfs(schema);\n\n    if (schema.allOf === undefined) {\n      return schema;\n    }\n\n    let receiver: MergedOpenAPISchema = {\n      ...schema,\n      allOf: undefined,\n      parentRefs: [],\n      title: schema.title || getDefinitionName($ref),\n    };\n\n    // avoid mutating inner objects\n    if (receiver.properties !== undefined && typeof receiver.properties === 'object') {\n      receiver.properties = { ...receiver.properties };\n    }\n    if (receiver.items !== undefined && typeof receiver.items === 'object') {\n      receiver.items = { ...receiver.items };\n    }\n\n    const allOfSchemas = schema.allOf\n      .map(subSchema => {\n        if (subSchema && subSchema.$ref && used$Refs.has(subSchema.$ref)) {\n          return undefined;\n        }\n\n        const resolved = this.deref(subSchema, forceCircular, true);\n        const subRef = subSchema.$ref || undefined;\n        const subMerged = this.mergeAllOf(resolved, subRef, forceCircular, used$Refs);\n        receiver.parentRefs!.push(...(subMerged.parentRefs || []));\n        return {\n          $ref: subRef,\n          schema: subMerged,\n        };\n      })\n      .filter(child => child !== undefined) as Array<{\n      $ref: string | undefined;\n      schema: MergedOpenAPISchema;\n    }>;\n\n    for (const { $ref: subSchemaRef, schema: subSchema } of allOfSchemas) {\n      if (\n        receiver.type !== subSchema.type &&\n        receiver.type !== undefined &&\n        subSchema.type !== undefined\n      ) {\n        console.warn(\n          `Incompatible types in allOf at \"${$ref}\": \"${receiver.type}\" and \"${subSchema.type}\"`,\n        );\n      }\n\n      if (subSchema.type !== undefined) {\n        receiver.type = subSchema.type;\n      }\n\n      if (subSchema.properties !== undefined) {\n        receiver.properties = receiver.properties || {};\n        for (const prop in subSchema.properties) {\n          if (!receiver.properties[prop]) {\n            receiver.properties[prop] = subSchema.properties[prop];\n          } else {\n            // merge inner properties\n            const mergedProp = this.mergeAllOf(\n              { allOf: [receiver.properties[prop], subSchema.properties[prop]] },\n              $ref + '/properties/' + prop,\n            );\n            receiver.properties[prop] = mergedProp;\n            this.exitParents(mergedProp); // every prop resolution should have separate recursive stack\n          }\n        }\n      }\n\n      if (subSchema.items !== undefined) {\n        receiver.items = receiver.items || {};\n        // merge inner properties\n        receiver.items = this.mergeAllOf(\n          { allOf: [receiver.items, subSchema.items] },\n          $ref + '/items',\n        );\n      }\n\n      if (subSchema.required !== undefined) {\n        receiver.required = (receiver.required || []).concat(subSchema.required);\n      }\n\n      // merge rest of constraints\n      // TODO: do more intelligent merge\n      receiver = { ...subSchema, ...receiver };\n\n      if (subSchemaRef) {\n        receiver.parentRefs!.push(subSchemaRef);\n        if (receiver.title === undefined && isNamedDefinition(subSchemaRef)) {\n          // this is not so correct behaviour. commented out for now\n          // ref: https://github.com/Redocly/redoc/issues/601\n          // receiver.title = JsonPointer.baseName(subSchemaRef);\n        }\n      }\n    }\n\n    return receiver;\n  }\n\n  /**\n   * Find all derived definitions among #/components/schemas from any of $refs\n   * returns map of definition pointer to definition name\n   * @param $refs array of references to find derived from\n   */\n  findDerived($refs: string[]): Record<string, string[] | string> {\n    const res: Record<string, string[]> = {};\n    const schemas = (this.spec.components && this.spec.components.schemas) || {};\n    for (const defName in schemas) {\n      const def = this.deref(schemas[defName]);\n      if (\n        def.allOf !== undefined &&\n        def.allOf.find(obj => obj.$ref !== undefined && $refs.indexOf(obj.$ref) > -1)\n      ) {\n        res['#/components/schemas/' + defName] = [def['x-discriminator-value'] || defName];\n      }\n    }\n    return res;\n  }\n\n  exitParents(shema: MergedOpenAPISchema) {\n    for (const parent$ref of shema.parentRefs || []) {\n      this.exitRef({ $ref: parent$ref });\n    }\n  }\n\n  private hoistOneOfs(schema: OpenAPISchema) {\n    if (schema.allOf === undefined) {\n      return schema;\n    }\n\n    const allOf = schema.allOf;\n    for (let i = 0; i < allOf.length; i++) {\n      const sub = allOf[i];\n      if (Array.isArray(sub.oneOf)) {\n        const beforeAllOf = allOf.slice(0, i);\n        const afterAllOf = allOf.slice(i + 1);\n        return {\n          oneOf: sub.oneOf.map(part => {\n            const merged = this.mergeAllOf({\n              allOf: [...beforeAllOf, part, ...afterAllOf],\n            });\n\n            // each oneOf should be independent so exiting all the parent refs\n            // otherwise it will cause false-positive recursive detection\n            this.exitParents(merged);\n            return merged;\n          }),\n        };\n      }\n    }\n\n    return schema;\n  }\n}\n","import { OpenAPIExternalDocumentation, OpenAPIPath, OpenAPISpec, Referenced } from '../types';\n\nimport { ContentItemModel, MenuBuilder } from './MenuBuilder';\nimport { ApiInfoModel } from './models/ApiInfo';\nimport { WebhookModel } from './models/Webhook';\nimport { SecuritySchemesModel } from './models/SecuritySchemes';\nimport { OpenAPIParser } from './OpenAPIParser';\nimport { RedocNormalizedOptions } from './RedocNormalizedOptions';\n/**\n * Store that contains all the specification related information in the form of tree\n */\nexport class SpecStore {\n  parser: OpenAPIParser;\n\n  info: ApiInfoModel;\n  externalDocs?: OpenAPIExternalDocumentation;\n  contentItems: ContentItemModel[];\n  securitySchemes: SecuritySchemesModel;\n  webhooks?: WebhookModel;\n\n  constructor(\n    spec: OpenAPISpec,\n    specUrl: string | undefined,\n    private options: RedocNormalizedOptions,\n  ) {\n    this.parser = new OpenAPIParser(spec, specUrl, options);\n    this.info = new ApiInfoModel(this.parser);\n    this.externalDocs = this.parser.spec.externalDocs;\n    this.contentItems = MenuBuilder.buildStructure(this.parser, this.options);\n    this.securitySchemes = new SecuritySchemesModel(this.parser);\n    const webhookPath: Referenced<OpenAPIPath> = {\n      ...this.parser?.spec?.['x-webhooks'],\n      ...this.parser?.spec.webhooks,\n    };\n    this.webhooks = new WebhookModel(this.parser, options, webhookPath);\n  }\n}\n","import { action, observable, makeObservable } from 'mobx';\n\nimport { OpenAPIExternalDocumentation, OpenAPITag } from '../../types';\nimport { safeSlugify } from '../../utils';\nimport { MarkdownHeading, MarkdownRenderer } from '../MarkdownRenderer';\nimport { ContentItemModel } from '../MenuBuilder';\nimport { IMenuItem, MenuItemGroupType } from '../MenuStore';\n\n/**\n * Operations Group model ready to be used by components\n */\nexport class GroupModel implements IMenuItem {\n  //#region IMenuItem fields\n  id: string;\n  absoluteIdx?: number;\n  name: string;\n  sidebarLabel: string;\n  description?: string;\n  type: MenuItemGroupType;\n\n  items: ContentItemModel[] = [];\n  parent?: GroupModel;\n  externalDocs?: OpenAPIExternalDocumentation;\n\n  @observable\n  active: boolean = false;\n  @observable\n  expanded: boolean = false;\n\n  depth: number;\n  level: number;\n  //#endregion\n\n  constructor(\n    type: MenuItemGroupType,\n    tagOrGroup: OpenAPITag | MarkdownHeading,\n    parent?: GroupModel,\n  ) {\n    makeObservable(this);\n\n    // markdown headings already have ids calculated as they are needed for heading anchors\n    this.id = (tagOrGroup as MarkdownHeading).id || type + '/' + safeSlugify(tagOrGroup.name);\n    this.type = type;\n    this.name = tagOrGroup['x-displayName'] || tagOrGroup.name;\n    this.level = (tagOrGroup as MarkdownHeading).level || 1;\n\n    this.sidebarLabel = this.name;\n\n    // remove sections from markdown, same as in ApiInfo\n    this.description = tagOrGroup.description || '';\n\n    const items = (tagOrGroup as MarkdownHeading).items;\n    if (items && items.length) {\n      this.description = MarkdownRenderer.getTextBeforeHading(this.description, items[0].name);\n    }\n\n    this.parent = parent;\n    this.externalDocs = (tagOrGroup as OpenAPITag).externalDocs;\n\n    // groups are active (expanded) by default\n    if (this.type === 'group') {\n      this.expanded = true;\n    }\n  }\n\n  @action\n  activate() {\n    this.active = true;\n  }\n\n  @action\n  expand() {\n    if (this.parent) {\n      this.parent.expand();\n    }\n    this.expanded = true;\n  }\n\n  @action\n  collapse() {\n    // disallow collapsing groups\n    if (this.type === 'group') {\n      return;\n    }\n    this.expanded = false;\n  }\n\n  @action\n  deactivate() {\n    this.active = false;\n  }\n}\n","import {\n  OpenAPIOperation,\n  OpenAPIParameter,\n  OpenAPISpec,\n  OpenAPITag,\n  Referenced,\n  OpenAPIServer,\n  OpenAPIPaths,\n} from '../types';\nimport {\n  isOperationName,\n  SECURITY_DEFINITIONS_COMPONENT_NAME,\n  setSecuritySchemePrefix,\n  JsonPointer,\n  alphabeticallyByProp,\n} from '../utils';\nimport { MarkdownRenderer } from './MarkdownRenderer';\nimport { GroupModel, OperationModel } from './models';\nimport { OpenAPIParser } from './OpenAPIParser';\nimport { RedocNormalizedOptions } from './RedocNormalizedOptions';\n\nexport type TagInfo = OpenAPITag & {\n  operations: ExtendedOpenAPIOperation[];\n  used?: boolean;\n};\n\nexport type ExtendedOpenAPIOperation = {\n  pointer: string;\n  pathName: string;\n  httpVerb: string;\n  pathParameters: Array<Referenced<OpenAPIParameter>>;\n  pathServers: Array<OpenAPIServer> | undefined;\n  isWebhook: boolean;\n} & OpenAPIOperation;\n\nexport type TagsInfoMap = Record<string, TagInfo>;\n\nexport interface TagGroup {\n  name: string;\n  tags: string[];\n}\n\nexport const GROUP_DEPTH = 0;\nexport type ContentItemModel = GroupModel | OperationModel;\n\nexport class MenuBuilder {\n  /**\n   * Builds page content structure based on tags\n   */\n  static buildStructure(\n    parser: OpenAPIParser,\n    options: RedocNormalizedOptions,\n  ): ContentItemModel[] {\n    const spec = parser.spec;\n\n    const items: ContentItemModel[] = [];\n    const tagsMap = MenuBuilder.getTagsWithOperations(parser, spec);\n    items.push(...MenuBuilder.addMarkdownItems(spec.info.description || '', undefined, 1, options));\n    if (spec['x-tagGroups'] && spec['x-tagGroups'].length > 0) {\n      items.push(\n        ...MenuBuilder.getTagGroupsItems(parser, undefined, spec['x-tagGroups'], tagsMap, options),\n      );\n    } else {\n      items.push(...MenuBuilder.getTagsItems(parser, tagsMap, undefined, undefined, options));\n    }\n    return items;\n  }\n\n  /**\n   * extracts items from markdown description\n   * @param description - markdown source\n   */\n  static addMarkdownItems(\n    description: string,\n    parent: GroupModel | undefined,\n    initialDepth: number,\n    options: RedocNormalizedOptions,\n  ): ContentItemModel[] {\n    const renderer = new MarkdownRenderer(options);\n    const headings = renderer.extractHeadings(description || '');\n\n    if (headings.length && parent && parent.description) {\n      parent.description = MarkdownRenderer.getTextBeforeHading(\n        parent.description,\n        headings[0].name,\n      );\n    }\n\n    const mapHeadingsDeep = (_parent, items, depth = 1) =>\n      items.map(heading => {\n        const group = new GroupModel('section', heading, _parent);\n        group.depth = depth;\n        if (heading.items) {\n          group.items = mapHeadingsDeep(group, heading.items, depth + 1);\n        }\n        if (\n          MarkdownRenderer.containsComponent(\n            group.description || '',\n            SECURITY_DEFINITIONS_COMPONENT_NAME,\n          )\n        ) {\n          setSecuritySchemePrefix(group.id + '/');\n        }\n        return group;\n      });\n\n    return mapHeadingsDeep(parent, headings, initialDepth);\n  }\n\n  /**\n   * Returns array of OperationsGroup items for the tag groups (x-tagGroups vendor extension)\n   * @param tags value of `x-tagGroups` vendor extension\n   */\n  static getTagGroupsItems(\n    parser: OpenAPIParser,\n    parent: GroupModel | undefined,\n    groups: TagGroup[],\n    tags: TagsInfoMap,\n    options: RedocNormalizedOptions,\n  ): GroupModel[] {\n    const res: GroupModel[] = [];\n    for (const group of groups) {\n      const item = new GroupModel('group', group, parent);\n      item.depth = GROUP_DEPTH;\n      item.items = MenuBuilder.getTagsItems(parser, tags, item, group, options);\n      res.push(item);\n    }\n    // TODO checkAllTagsUsedInGroups\n    return res;\n  }\n\n  /**\n   * Returns array of OperationsGroup items for the tags of the group or for all tags\n   * @param parser\n   * @param tagsMap tags info returned from `getTagsWithOperations`\n   * @param parent parent item\n   * @param group group which this tag belongs to. if not provided gets all tags\n   * @param options normalized options\n   */\n  static getTagsItems(\n    parser: OpenAPIParser,\n    tagsMap: TagsInfoMap,\n    parent: GroupModel | undefined,\n    group: TagGroup | undefined,\n    options: RedocNormalizedOptions,\n  ): ContentItemModel[] {\n    let tagNames;\n\n    if (group === undefined) {\n      tagNames = Object.keys(tagsMap); // all tags\n    } else {\n      tagNames = group.tags;\n    }\n\n    const tags = tagNames.map(tagName => {\n      if (!tagsMap[tagName]) {\n        console.warn(`Non-existing tag \"${tagName}\" is added to the group \"${group!.name}\"`);\n        return null;\n      }\n      tagsMap[tagName].used = true;\n      return tagsMap[tagName];\n    });\n\n    const res: Array<GroupModel | OperationModel> = [];\n    for (const tag of tags) {\n      if (!tag) {\n        continue;\n      }\n      const item = new GroupModel('tag', tag, parent);\n      item.depth = GROUP_DEPTH + 1;\n\n      // don't put empty tag into content, instead put its operations\n      if (tag.name === '') {\n        const items = [\n          ...MenuBuilder.addMarkdownItems(tag.description || '', item, item.depth + 1, options),\n          ...this.getOperationsItems(parser, undefined, tag, item.depth + 1, options),\n        ];\n        res.push(...items);\n        continue;\n      }\n\n      item.items = [\n        ...MenuBuilder.addMarkdownItems(tag.description || '', item, item.depth + 1, options),\n        ...this.getOperationsItems(parser, item, tag, item.depth + 1, options),\n      ];\n\n      res.push(item);\n    }\n\n    if (options.sortTagsAlphabetically) {\n      res.sort(alphabeticallyByProp<GroupModel | OperationModel>('name'));\n    }\n\n    return res;\n  }\n\n  /**\n   * Returns array of Operation items for the tag\n   * @param parser\n   * @param parent parent OperationsGroup\n   * @param tag tag info returned from `getTagsWithOperations`\n   * @param depth items depth\n   * @param options - normalized options\n   */\n  static getOperationsItems(\n    parser: OpenAPIParser,\n    parent: GroupModel | undefined,\n    tag: TagInfo,\n    depth: number,\n    options: RedocNormalizedOptions,\n  ): OperationModel[] {\n    if (tag.operations.length === 0) {\n      return [];\n    }\n\n    const res: OperationModel[] = [];\n    for (const operationInfo of tag.operations) {\n      const operation = new OperationModel(parser, operationInfo, parent, options);\n      operation.depth = depth;\n      res.push(operation);\n    }\n\n    if (options.sortOperationsAlphabetically) {\n      res.sort(alphabeticallyByProp<OperationModel>('name'));\n    }\n\n    return res;\n  }\n\n  /**\n   * collects tags and maps each tag to list of operations belonging to this tag\n   */\n  static getTagsWithOperations(parser: OpenAPIParser, spec: OpenAPISpec): TagsInfoMap {\n    const tags: TagsInfoMap = {};\n    const webhooks = spec['x-webhooks'] || spec.webhooks;\n    for (const tag of spec.tags || []) {\n      tags[tag.name] = { ...tag, operations: [] };\n    }\n\n    if (webhooks) {\n      getTags(parser, webhooks, true);\n    }\n\n    if (spec.paths) {\n      getTags(parser, spec.paths);\n    }\n\n    function getTags(parser: OpenAPIParser, paths: OpenAPIPaths, isWebhook?: boolean) {\n      for (const pathName of Object.keys(paths)) {\n        const path = paths[pathName];\n        const operations = Object.keys(path).filter(isOperationName);\n        for (const operationName of operations) {\n          const operationInfo = path[operationName];\n          if (path.$ref) {\n            const resolvedPaths = parser.deref<OpenAPIPaths>(path as OpenAPIPaths);\n            getTags(parser, { [pathName]: resolvedPaths }, isWebhook);\n            continue;\n          }\n          let operationTags = operationInfo?.tags;\n\n          if (!operationTags || !operationTags.length) {\n            // empty tag\n            operationTags = [''];\n          }\n\n          for (const tagName of operationTags) {\n            let tag = tags[tagName];\n            if (tag === undefined) {\n              tag = {\n                name: tagName,\n                operations: [],\n              };\n              tags[tagName] = tag;\n            }\n            if (tag['x-traitTag']) {\n              continue;\n            }\n            tag.operations.push({\n              ...operationInfo,\n              pathName,\n              pointer: JsonPointer.compile(['paths', pathName, operationName]),\n              httpVerb: operationName,\n              pathParameters: path.parameters || [],\n              pathServers: path.servers,\n              isWebhook: !!isWebhook,\n            });\n          }\n        }\n      }\n    }\n    return tags;\n  }\n}\n","import { action, observable, makeObservable } from 'mobx';\nimport { querySelector } from '../utils/dom';\nimport { SpecStore } from './models';\n\nimport { history as historyInst, HistoryService } from './HistoryService';\nimport { ScrollService } from './ScrollService';\n\nimport { flattenByProp, SECURITY_SCHEMES_SECTION_PREFIX } from '../utils';\nimport { GROUP_DEPTH } from './MenuBuilder';\n\nexport type MenuItemGroupType = 'group' | 'tag' | 'section';\nexport type MenuItemType = MenuItemGroupType | 'operation';\n\n/** Generic interface for MenuItems */\nexport interface IMenuItem {\n  id: string;\n  absoluteIdx?: number;\n  name: string;\n  sidebarLabel: string;\n  description?: string;\n  depth: number;\n  active: boolean;\n  expanded: boolean;\n  items: IMenuItem[];\n  parent?: IMenuItem;\n  deprecated?: boolean;\n  type: MenuItemType;\n\n  deactivate(): void;\n  activate(): void;\n\n  collapse(): void;\n  expand(): void;\n}\n\nexport const SECTION_ATTR = 'data-section-id';\n\n/**\n * Stores all side-menu related information\n */\nexport class MenuStore {\n  /**\n   * Statically try update scroll position\n   * Used before hydrating from server-side rendered html to scroll page faster\n   */\n  static updateOnHistory(id: string = historyInst.currentId, scroll: ScrollService) {\n    if (!id) {\n      return;\n    }\n    scroll.scrollIntoViewBySelector(`[${SECTION_ATTR}=\"${id}\"]`);\n  }\n\n  /**\n   * active item absolute index (when flattened). -1 means nothing is selected\n   */\n  @observable\n  activeItemIdx: number = -1;\n\n  /**\n   * whether sidebar with menu is opened or not\n   */\n  @observable\n  sideBarOpened: boolean = false;\n\n  items: IMenuItem[];\n  flatItems: IMenuItem[];\n\n  /**\n   * cached flattened menu items to support absolute indexing\n   */\n  private _unsubscribe: () => void;\n  private _hashUnsubscribe: () => void;\n\n  /**\n   *\n   * @param spec [SpecStore](#SpecStore) which contains page content structure\n   * @param scroll scroll service instance used by this menu\n   */\n  constructor(spec: SpecStore, public scroll: ScrollService, public history: HistoryService) {\n    makeObservable(this);\n\n    this.items = spec.contentItems;\n\n    this.flatItems = flattenByProp(this.items || [], 'items');\n    this.flatItems.forEach((item, idx) => (item.absoluteIdx = idx));\n\n    this.subscribe();\n  }\n\n  subscribe() {\n    this._unsubscribe = this.scroll.subscribe(this.updateOnScroll);\n    this._hashUnsubscribe = this.history.subscribe(this.updateOnHistory);\n  }\n\n  @action\n  toggleSidebar() {\n    this.sideBarOpened = this.sideBarOpened ? false : true;\n  }\n\n  @action\n  closeSidebar() {\n    this.sideBarOpened = false;\n  }\n\n  /**\n   * update active items on scroll\n   * @param isScrolledDown whether last scroll was downside\n   */\n  updateOnScroll = (isScrolledDown: boolean): void => {\n    const step = isScrolledDown ? 1 : -1;\n    let itemIdx = this.activeItemIdx;\n    while (true) {\n      if (itemIdx === -1 && !isScrolledDown) {\n        break;\n      }\n\n      if (itemIdx >= this.flatItems.length - 1 && isScrolledDown) {\n        break;\n      }\n\n      if (isScrolledDown) {\n        const el = this.getElementAtOrFirstChild(itemIdx + 1);\n        if (this.scroll.isElementBellow(el)) {\n          break;\n        }\n      } else {\n        const el = this.getElementAt(itemIdx);\n        if (this.scroll.isElementAbove(el)) {\n          break;\n        }\n      }\n      itemIdx += step;\n    }\n\n    this.activate(this.flatItems[itemIdx], true, true);\n  };\n\n  /**\n   * update active items on hash change\n   * @param id current hash\n   */\n  updateOnHistory = (id: string = this.history.currentId) => {\n    if (!id) {\n      return;\n    }\n    let item: IMenuItem | undefined;\n\n    item = this.flatItems.find(i => i.id === id);\n    if (item) {\n      this.activateAndScroll(item, false);\n    } else {\n      if (id.startsWith(SECURITY_SCHEMES_SECTION_PREFIX)) {\n        item = this.flatItems.find(i => SECURITY_SCHEMES_SECTION_PREFIX.startsWith(i.id));\n        this.activateAndScroll(item, false);\n      }\n      this.scroll.scrollIntoViewBySelector(`[${SECTION_ATTR}=\"${id}\"]`);\n    }\n  };\n\n  /**\n   * get section/operation DOM Node related to the item or null if it doesn't exist\n   * @param idx item absolute index\n   */\n  getElementAt(idx: number): Element | null {\n    const item = this.flatItems[idx];\n    return (item && querySelector(`[${SECTION_ATTR}=\"${item.id}\"]`)) || null;\n  }\n\n  /**\n   * get section/operation DOM Node related to the item or if it is group item, returns first item of the group\n   * @param idx item absolute index\n   */\n  getElementAtOrFirstChild(idx: number): Element | null {\n    let item = this.flatItems[idx];\n    if (item && item.type === 'group') {\n      item = item.items[0];\n    }\n    return (item && querySelector(`[${SECTION_ATTR}=\"${item.id}\"]`)) || null;\n  }\n\n  /**\n   * current active item\n   */\n  get activeItem(): IMenuItem {\n    return this.flatItems[this.activeItemIdx] || undefined;\n  }\n\n  getItemById = (id: string) => {\n    return this.flatItems.find(item => item.id === id);\n  };\n\n  /**\n   * activate menu item\n   * @param item item to activate\n   * @param updateLocation [true] whether to update location\n   * @param rewriteHistory [false] whether to rewrite browser history (do not create new entry)\n   */\n  @action\n  activate(\n    item: IMenuItem | undefined,\n    updateLocation: boolean = true,\n    rewriteHistory: boolean = false,\n  ) {\n    if ((this.activeItem && this.activeItem.id) === (item && item.id)) {\n      return;\n    }\n\n    if (item && item.type === 'group') {\n      return;\n    }\n\n    this.deactivate(this.activeItem);\n    if (!item) {\n      this.activeItemIdx = -1;\n      this.history.replace('', rewriteHistory);\n      return;\n    }\n\n    // do not allow activating group items\n    // TODO: control over options\n    if (item.depth <= GROUP_DEPTH) {\n      return;\n    }\n\n    this.activeItemIdx = item.absoluteIdx!;\n    if (updateLocation) {\n      this.history.replace(item.id, rewriteHistory);\n    }\n\n    item.activate();\n    item.expand();\n  }\n\n  /**\n   * makes item and all the parents not active\n   * @param item item to deactivate\n   */\n  deactivate(item: IMenuItem | undefined) {\n    if (item === undefined) {\n      return;\n    }\n    item.deactivate();\n    while (item !== undefined) {\n      item.collapse();\n      item = item.parent;\n    }\n  }\n\n  /**\n   * activate menu item and scroll to it\n   * @see MenuStore.activate\n   */\n  @action.bound\n  activateAndScroll(\n    item: IMenuItem | undefined,\n    updateLocation?: boolean,\n    rewriteHistory?: boolean,\n  ) {\n    // item here can be a copy from search results so find corresponding item from menu\n    const menuItem = (item && this.getItemById(item.id)) || item;\n    this.activate(menuItem, updateLocation, rewriteHistory);\n    this.scrollToActive();\n    if (!menuItem || !menuItem.items.length) {\n      this.closeSidebar();\n    }\n  }\n\n  /**\n   * scrolls to active section\n   */\n  scrollToActive(): void {\n    this.scroll.scrollIntoView(this.getElementAt(this.activeItemIdx));\n  }\n\n  dispose() {\n    this._unsubscribe();\n    this._hashUnsubscribe();\n  }\n}\n","import { bind } from 'decko';\nimport * as EventEmitter from 'eventemitter3';\n\nimport { IS_BROWSER, querySelector, Throttle } from '../utils';\nimport { RedocNormalizedOptions } from './RedocNormalizedOptions';\n\nconst EVENT = 'scroll';\n\nexport class ScrollService {\n  private _scrollParent: Window | HTMLElement | undefined;\n  private _emiter: EventEmitter;\n  private _prevOffsetY = 0;\n  constructor(private options: RedocNormalizedOptions) {\n    this._scrollParent = IS_BROWSER ? window : undefined;\n    this._emiter = new EventEmitter();\n    this.bind();\n  }\n\n  bind() {\n    this._prevOffsetY = this.scrollY();\n    if (this._scrollParent) {\n      this._scrollParent.addEventListener('scroll', this.handleScroll);\n    }\n  }\n\n  dispose() {\n    if (this._scrollParent) {\n      this._scrollParent.removeEventListener('scroll', this.handleScroll);\n    }\n    this._emiter.removeAllListeners(EVENT);\n  }\n\n  scrollY(): number {\n    if (typeof HTMLElement !== 'undefined' && this._scrollParent instanceof HTMLElement) {\n      return this._scrollParent.scrollTop;\n    } else if (this._scrollParent !== undefined) {\n      return (this._scrollParent as Window).pageYOffset;\n    } else {\n      return 0;\n    }\n  }\n\n  isElementBellow(el: Element | null) {\n    if (el === null) {\n      return;\n    }\n    return el.getBoundingClientRect().top > this.options.scrollYOffset();\n  }\n\n  isElementAbove(el: Element | null) {\n    if (el === null) {\n      return;\n    }\n    const top = el.getBoundingClientRect().top;\n    return (top > 0 ? Math.floor(top) : Math.ceil(top)) <= this.options.scrollYOffset();\n  }\n\n  subscribe(cb): () => void {\n    const emmiter = this._emiter.addListener(EVENT, cb);\n    return () => emmiter.removeListener(EVENT, cb);\n  }\n\n  scrollIntoView(element: Element | null) {\n    if (element === null) {\n      return;\n    }\n    element.scrollIntoView();\n    if (this._scrollParent && this._scrollParent.scrollBy) {\n      // adding 1 account rounding errors in case scrollYOffset is float-number\n      (this._scrollParent.scrollBy as any)(0, -this.options.scrollYOffset() + 1);\n    }\n  }\n\n  scrollIntoViewBySelector(selector: string) {\n    const element = querySelector(selector);\n    this.scrollIntoView(element);\n  }\n\n  @bind\n  @Throttle(100)\n  handleScroll() {\n    const scrollY = this.scrollY();\n    const isScrolledDown = scrollY - this._prevOffsetY > 0;\n    this._prevOffsetY = this.scrollY();\n    this._emiter.emit(EVENT, isScrolledDown);\n  }\n}\n","import { IS_BROWSER } from '../utils/';\nimport { IMenuItem } from './MenuStore';\nimport { OperationModel } from './models';\n\nimport Worker from './SearchWorker.worker';\n\nfunction getWorker() {\n  let worker: new () => Worker;\n  if (IS_BROWSER) {\n    try {\n      // tslint:disable-next-line\n      worker = require('workerize-loader?inline&fallback=false!./SearchWorker.worker');\n    } catch (e) {\n      worker = require('./SearchWorker.worker').default;\n    }\n  } else {\n    worker = require('./SearchWorker.worker').default;\n  }\n  return new worker();\n}\n\nexport class SearchStore<T> {\n  searchWorker = getWorker();\n\n  indexItems(groups: Array<IMenuItem | OperationModel>) {\n    const recurse = items => {\n      items.forEach(group => {\n        if (group.type !== 'group') {\n          this.add(group.name, group.description || '', group.id);\n        }\n        recurse(group.items);\n      });\n    };\n\n    recurse(groups);\n    this.searchWorker.done();\n  }\n\n  add(title: string, body: string, meta?: T) {\n    this.searchWorker.add(title, body, meta);\n  }\n\n  dispose() {\n    (this.searchWorker as any).terminate();\n    (this.searchWorker as any).dispose();\n  }\n\n  search(q: string) {\n    return this.searchWorker.search<T>(q);\n  }\n\n  async toJS() {\n    return this.searchWorker.toJS();\n  }\n\n  load(state: any) {\n    this.searchWorker.load(state);\n  }\n\n  fromExternalJS(path?: string, exportName?: string) {\n    if (path && exportName) {\n      this.searchWorker.fromExternalJS(path, exportName);\n    }\n  }\n}\n","import { SECTION_ATTR } from '../services/MenuStore';\nimport styled, { media } from '../styled-components';\n\nexport const MiddlePanel = styled.div<{ compact?: boolean }>`\n  width: calc(100% - ${props => props.theme.rightPanel.width});\n  padding: 0 ${props => props.theme.spacing.sectionHorizontal}px;\n\n  ${({ compact, theme }) =>\n    media.lessThan('medium', true)`\n    width: 100%;\n    padding: ${`${compact ? 0 : theme.spacing.sectionVertical}px ${\n      theme.spacing.sectionHorizontal\n    }px`};\n  `};\n`;\n\nexport const Section = styled.div.attrs(props => ({\n  [SECTION_ATTR]: props.id,\n}))<{ underlined?: boolean }>`\n  padding: ${props => props.theme.spacing.sectionVertical}px 0;\n\n  &:last-child {\n    min-height: calc(100vh + 1px);\n  }\n\n  & > &:last-child {\n    min-height: initial;\n  }\n\n  ${media.lessThan('medium', true)`\n    padding: 0;\n  `}\n  ${(props: any) =>\n    (props.underlined &&\n      `\n    position: relative;\n\n    &:not(:last-of-type):after {\n      position: absolute;\n      bottom: 0;\n      width: 100%;\n      display: block;\n      content: '';\n      border-bottom: 1px solid rgba(0, 0, 0, 0.2);\n    }\n  `) ||\n    ''}\n`;\n\nexport const RightPanel = styled.div`\n  width: ${props => props.theme.rightPanel.width};\n  color: ${({ theme }) => theme.rightPanel.textColor};\n  background-color: ${props => props.theme.rightPanel.backgroundColor};\n  padding: 0 ${props => props.theme.spacing.sectionHorizontal}px;\n\n  ${media.lessThan('medium', true)`\n    width: 100%;\n    padding: ${props =>\n      `${props.theme.spacing.sectionVertical}px ${props.theme.spacing.sectionHorizontal}px`};\n  `};\n`;\n\nexport const DarkRightPanel = styled(RightPanel)`\n  background-color: ${props => props.theme.rightPanel.backgroundColor};\n`;\n\nexport const Row = styled.div`\n  display: flex;\n  width: 100%;\n  padding: 0;\n\n  ${media.lessThan('medium', true)`\n    flex-direction: column;\n  `};\n`;\n","import styled, { css, extensionsHook } from '../styled-components';\n\nconst headerFontSize = {\n  1: '1.85714em',\n  2: '1.57143em',\n  3: '1.27em',\n};\n\nexport const headerCommonMixin = level => css`\n  font-family: ${({ theme }) => theme.typography.headings.fontFamily};\n  font-weight: ${({ theme }) => theme.typography.headings.fontWeight};\n  font-size: ${headerFontSize[level]};\n  line-height: ${({ theme }) => theme.typography.headings.lineHeight};\n`;\n\nexport const H1 = styled.h1`\n  ${headerCommonMixin(1)};\n  color: ${({ theme }) => theme.colors.primary.main};\n\n  ${extensionsHook('H1')};\n`;\n\nexport const H2 = styled.h2`\n  ${headerCommonMixin(2)};\n  color: black;\n\n  ${extensionsHook('H2')};\n`;\n\nexport const H3 = styled.h2`\n  ${headerCommonMixin(3)};\n  color: black;\n\n  ${extensionsHook('H3')};\n`;\n\nexport const RightPanelHeader = styled.h3`\n  color: ${({ theme }) => theme.rightPanel.textColor};\n\n  ${extensionsHook('RightPanelHeader')};\n`;\n\nexport const UnderlinedHeader = styled.h5`\n  border-bottom: 1px solid rgba(38, 50, 56, 0.3);\n  margin: 1em 0 1em 0;\n  color: rgba(38, 50, 56, 0.5);\n  font-weight: normal;\n  text-transform: uppercase;\n  font-size: 0.929em;\n  line-height: 20px;\n\n  ${extensionsHook('UnderlinedHeader')};\n`;\n","import * as React from 'react';\nimport { createContext } from 'react';\n\nimport { AppStore } from '../services/';\nimport { RedocRawOptions } from '../services/RedocNormalizedOptions';\nimport { loadAndBundleSpec } from '../utils';\n\nexport interface StoreBuilderProps {\n  specUrl?: string;\n  spec?: object;\n  store?: AppStore;\n\n  options?: RedocRawOptions;\n\n  onLoaded?: (e?: Error) => void;\n\n  children: (props: { loading: boolean; store: AppStore | null }) => any;\n}\n\nexport interface StoreBuilderState {\n  error?: Error;\n  loading: boolean;\n  resolvedSpec?: any;\n  prevSpec?: any;\n  prevSpecUrl?: string;\n}\n\nconst StoreContext = createContext<AppStore | undefined>(undefined);\nconst { Provider, Consumer } = StoreContext;\nexport { Provider as StoreProvider, Consumer as StoreConsumer, StoreContext };\n\nexport function StoreBuilder(props: StoreBuilderProps) {\n  const { spec, specUrl, options, onLoaded, children } = props;\n\n  const [resolvedSpec, setResolvedSpec] = React.useState<any>(null);\n\n  React.useEffect(() => {\n    async function load() {\n      if (!spec && !specUrl) {\n        return undefined;\n      }\n      setResolvedSpec(null);\n      const resolved = await loadAndBundleSpec(spec || specUrl!);\n      setResolvedSpec(resolved);\n    }\n    load();\n  }, [spec, specUrl]);\n\n  const store = React.useMemo(() => {\n    if (!resolvedSpec) return null;\n    try {\n      return new AppStore(resolvedSpec, specUrl, options);\n    } catch (e) {\n      if (onLoaded) {\n        onLoaded(e);\n      }\n      throw e;\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [resolvedSpec, specUrl, options]);\n\n  React.useEffect(() => {\n    if (store && onLoaded) {\n      onLoaded();\n    }\n  }, [store, onLoaded]);\n\n  return children({\n    loading: !store,\n    store,\n  });\n}\n","import * as React from 'react';\n\nimport { StoreContext } from '../components/StoreBuilder';\nimport styled, { css } from '../styled-components';\n\nimport { HistoryService } from '../services';\n\n// tslint:disable-next-line\nexport const linkifyMixin = className => css`\n  ${className} {\n    cursor: pointer;\n    margin-left: -20px;\n    padding: 0;\n    line-height: 1;\n    width: 20px;\n    display: inline-block;\n    outline: 0;\n  }\n  ${className}:before {\n    content: '';\n    width: 15px;\n    height: 15px;\n    background-size: contain;\n    background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgeD0iMCIgeT0iMCIgd2lkdGg9IjUxMiIgaGVpZ2h0PSI1MTIiIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MTIgNTEyIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBmaWxsPSIjMDEwMTAxIiBkPSJNNDU5LjcgMjMzLjRsLTkwLjUgOTAuNWMtNTAgNTAtMTMxIDUwLTE4MSAwIC03LjktNy44LTE0LTE2LjctMTkuNC0yNS44bDQyLjEtNDIuMWMyLTIgNC41LTMuMiA2LjgtNC41IDIuOSA5LjkgOCAxOS4zIDE1LjggMjcuMiAyNSAyNSA2NS42IDI0LjkgOTAuNSAwbDkwLjUtOTAuNWMyNS0yNSAyNS02NS42IDAtOTAuNSAtMjQuOS0yNS02NS41LTI1LTkwLjUgMGwtMzIuMiAzMi4yYy0yNi4xLTEwLjItNTQuMi0xMi45LTgxLjYtOC45bDY4LjYtNjguNmM1MC01MCAxMzEtNTAgMTgxIDBDNTA5LjYgMTAyLjMgNTA5LjYgMTgzLjQgNDU5LjcgMjMzLjR6TTIyMC4zIDM4Mi4ybC0zMi4yIDMyLjJjLTI1IDI0LjktNjUuNiAyNC45LTkwLjUgMCAtMjUtMjUtMjUtNjUuNiAwLTkwLjVsOTAuNS05MC41YzI1LTI1IDY1LjUtMjUgOTAuNSAwIDcuOCA3LjggMTIuOSAxNy4yIDE1LjggMjcuMSAyLjQtMS40IDQuOC0yLjUgNi44LTQuNWw0Mi4xLTQyYy01LjQtOS4yLTExLjYtMTgtMTkuNC0yNS44IC01MC01MC0xMzEtNTAtMTgxIDBsLTkwLjUgOTAuNWMtNTAgNTAtNTAgMTMxIDAgMTgxIDUwIDUwIDEzMSA1MCAxODEgMGw2OC42LTY4LjZDMjc0LjYgMzk1LjEgMjQ2LjQgMzkyLjMgMjIwLjMgMzgyLjJ6Ii8+PC9zdmc+Cg==');\n    opacity: 0.5;\n    visibility: hidden;\n    display: inline-block;\n    vertical-align: middle;\n  }\n\n  h1:hover > ${className}::before, h2:hover > ${className}::before, ${className}:hover::before {\n    visibility: visible;\n  }\n`;\n\nconst isModifiedEvent = event =>\n  !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n\nexport function Link(props: { to: string; className?: string; children?: any }) {\n  const store = React.useContext(StoreContext);\n  const clickHandler = React.useCallback(\n    (event: React.MouseEvent<HTMLAnchorElement>) => {\n      if (!store) return;\n      navigate(store.menu.history, event, props.to);\n    },\n    [store, props.to],\n  );\n\n  if (!store) return null;\n\n  return (\n    <a\n      className={props.className}\n      href={store!.menu.history.linkForId(props.to)}\n      onClick={clickHandler}\n      aria-label={props.to}\n    >\n      {props.children}\n    </a>\n  );\n}\n\nfunction navigate(history: HistoryService, event: React.MouseEvent<HTMLAnchorElement>, to: string) {\n  if (\n    !event.defaultPrevented && // onClick prevented default\n    event.button === 0 && // ignore everything but left clicks\n    !isModifiedEvent(event) // ignore clicks with modifier keys\n  ) {\n    event.preventDefault();\n    history.replace(to);\n  }\n}\n\nconst StyledShareLink = styled(Link)`\n  ${linkifyMixin('&')};\n`;\n\nexport function ShareLink(props: { to: string }) {\n  return <StyledShareLink to={props.to} />;\n}\n","import * as React from 'react';\nimport styled from '../styled-components';\n\nconst directionMap = {\n  left: '90deg',\n  right: '-90deg',\n  up: '-180deg',\n  down: '0',\n};\n\nclass IntShelfIcon extends React.PureComponent<{\n  className?: string;\n  float?: 'left' | 'right';\n  size?: string;\n  color?: string;\n  direction: 'left' | 'right' | 'up' | 'down';\n  style?: React.CSSProperties;\n}> {\n  render() {\n    return (\n      <svg\n        className={this.props.className}\n        style={this.props.style}\n        version=\"1.1\"\n        viewBox=\"0 0 24 24\"\n        x=\"0\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        y=\"0\"\n        aria-hidden=\"true\"\n      >\n        <polygon points=\"17.3 8.3 12 13.6 6.7 8.3 5.3 9.7 12 16.4 18.7 9.7 \" />\n      </svg>\n    );\n  }\n}\n\nexport const ShelfIcon = styled(IntShelfIcon)`\n  height: ${props => props.size || '18px'};\n  width: ${props => props.size || '18px'};\n  vertical-align: middle;\n  float: ${props => props.float || ''};\n  transition: transform 0.2s ease-out;\n  transform: rotateZ(${props => directionMap[props.direction || 'down']});\n\n  polygon {\n    fill: ${({ color, theme }) =>\n      (color && theme.colors.responses[color] && theme.colors.responses[color].color) || color};\n  }\n`;\n\nexport const Badge = styled.span<{ type: string }>`\n  display: inline-block;\n  padding: 2px 8px;\n  margin: 0;\n  background-color: ${props => props.theme.colors[props.type].main};\n  color: ${props => props.theme.colors[props.type].contrastText};\n  font-size: ${props => props.theme.typography.code.fontSize};\n  vertical-align: middle;\n  line-height: 1.6;\n  border-radius: 4px;\n  font-weight: ${({ theme }) => theme.typography.fontWeightBold};\n  font-size: 12px;\n  + span[type] {\n    margin-left: 4px;\n  }\n`;\n","import { css } from '../styled-components';\n\nexport const deprecatedCss = css`\n  text-decoration: line-through;\n  color: #707070;\n`;\n","import styled, { extensionsHook, media } from '../styled-components';\nimport { deprecatedCss } from './mixins';\n\nexport const PropertiesTableCaption = styled.caption`\n  text-align: right;\n  font-size: 0.9em;\n  font-weight: normal;\n  color: ${props => props.theme.colors.text.secondary};\n`;\n\nexport const PropertyCell = styled.td<{ kind?: string }>`\n  border-left: 1px solid ${props => props.theme.schema.linesColor};\n  box-sizing: border-box;\n  position: relative;\n  padding: 10px 10px 10px 0;\n\n  ${media.lessThan('small')`\n    display: block;\n    overflow: hidden;\n  `}\n\n  tr:first-of-type > &,\n  tr.last > & {\n    border-left-width: 0;\n    background-position: top left;\n    background-repeat: no-repeat;\n    background-size: 1px 100%;\n  }\n\n  tr:first-of-type > & {\n    background-image: linear-gradient(\n      to bottom,\n      transparent 0%,\n      transparent 22px,\n      ${props => props.theme.schema.linesColor} 22px,\n      ${props => props.theme.schema.linesColor} 100%\n    );\n  }\n\n  tr.last > & {\n    background-image: linear-gradient(\n      to bottom,\n      ${props => props.theme.schema.linesColor} 0%,\n      ${props => props.theme.schema.linesColor} 22px,\n      transparent 22px,\n      transparent 100%\n    );\n  }\n\n  tr.last + tr > & {\n    border-left-color: transparent;\n  }\n\n  tr.last:first-child > & {\n    background: none;\n    border-left-color: transparent;\n  }\n`;\n\nexport const PropertyCellWithInner = styled(PropertyCell)`\n  padding: 0;\n`;\n\nexport const PropertyNameCell = styled(PropertyCell)`\n  vertical-align: top;\n  line-height: 20px;\n  white-space: nowrap;\n  font-size: 13px;\n  font-family: ${props => props.theme.typography.code.fontFamily};\n\n  &.deprecated {\n    ${deprecatedCss};\n  }\n\n  ${({ kind }) => (kind !== 'field' ? 'font-style: italic' : '')};\n\n  ${extensionsHook('PropertyNameCell')};\n`;\n\nexport const PropertyDetailsCell = styled.td`\n  border-bottom: 1px solid #9fb4be;\n  padding: 10px 0;\n  width: ${props => props.theme.schema.defaultDetailsWidth};\n  box-sizing: border-box;\n\n  tr.expanded & {\n    border-bottom: none;\n  }\n\n  ${media.lessThan('small')`\n    padding: 0 20px;\n    border-bottom: none;\n    border-left: 1px solid ${props => props.theme.schema.linesColor};\n\n    tr.last > & {\n      border-left: none;\n    }\n  `}\n\n  ${extensionsHook('PropertyDetailsCell')};\n`;\n\nexport const PropertyBullet = styled.span`\n  color: ${props => props.theme.schema.linesColor};\n  font-family: ${props => props.theme.typography.code.fontFamily};\n  margin-right: 10px;\n\n  &::before {\n    content: '';\n    display: inline-block;\n    vertical-align: middle;\n    width: 10px;\n    height: 1px;\n    background: ${props => props.theme.schema.linesColor};\n  }\n\n  &::after {\n    content: '';\n    display: inline-block;\n    vertical-align: middle;\n    width: 1px;\n    background: ${props => props.theme.schema.linesColor};\n    height: 7px;\n  }\n`;\n\nexport const InnerPropertiesWrap = styled.div`\n  padding: ${({ theme }) => theme.schema.nestingSpacing};\n`;\n\nexport const PropertiesTable = styled.table`\n  border-collapse: separate;\n  border-radius: 3px;\n  font-size: ${props => props.theme.typography.fontSize};\n\n  border-spacing: 0;\n  width: 100%;\n\n  > tr {\n    vertical-align: middle;\n  }\n\n  ${media.lessThan('small')`\n    display: block;\n    > tr, > tbody > tr {\n      display: block;\n    }\n  `}\n\n  ${media.lessThan('small', false, ' and (-ms-high-contrast:none)')`\n    td {\n      float: left;\n      width: 100%;\n    }\n  `}\n\n  &\n    ${InnerPropertiesWrap},\n    &\n    ${InnerPropertiesWrap}\n    ${InnerPropertiesWrap}\n    ${InnerPropertiesWrap},\n    &\n    ${InnerPropertiesWrap}\n    ${InnerPropertiesWrap}\n    ${InnerPropertiesWrap}\n    ${InnerPropertiesWrap}\n    ${InnerPropertiesWrap} {\n    margin: ${({ theme }) => theme.schema.nestingSpacing};\n    margin-right: 0;\n    background: ${({ theme }) => theme.schema.nestedBackground};\n  }\n\n  &\n    ${InnerPropertiesWrap}\n    ${InnerPropertiesWrap},\n    &\n    ${InnerPropertiesWrap}\n    ${InnerPropertiesWrap}\n    ${InnerPropertiesWrap}\n    ${InnerPropertiesWrap},\n    &\n    ${InnerPropertiesWrap}\n    ${InnerPropertiesWrap}\n    ${InnerPropertiesWrap}\n    ${InnerPropertiesWrap}\n    ${InnerPropertiesWrap}\n    ${InnerPropertiesWrap} {\n    background: #ffffff;\n  }\n`;\n","import styled from '../styled-components';\nimport { darken } from 'polished';\nimport { deprecatedCss } from './mixins';\n\nexport const OneOfList = styled.div`\n  margin: 0 0 3px 0;\n  display: inline-block;\n`;\n\nexport const OneOfLabel = styled.span`\n  font-size: 0.9em;\n  margin-right: 10px;\n  color: ${props => props.theme.colors.primary.main};\n  font-family: ${props => props.theme.typography.headings.fontFamily};\n}\n`;\n\nexport const OneOfButton = styled.button<{ active: boolean; deprecated: boolean }>`\n  display: inline-block;\n  margin-right: 10px;\n  margin-bottom: 5px;\n  font-size: 0.8em;\n  cursor: pointer;\n  border: 1px solid ${props => props.theme.colors.primary.main};\n  padding: 2px 10px;\n  line-height: 1.5em;\n  outline: none;\n  &:focus {\n    box-shadow: 0 0 0 1px ${props => props.theme.colors.primary.main};\n  }\n\n  ${({ deprecated }) => (deprecated && deprecatedCss) || ''};\n\n  ${props => {\n    if (props.active) {\n      return `\n      color: white;\n      background-color: ${props.theme.colors.primary.main};\n      &:focus {\n        box-shadow: none;\n        background-color: ${darken(0.15, props.theme.colors.primary.main)};\n      }\n      `;\n    } else {\n      return `\n        color: ${props.theme.colors.primary.main};\n        background-color: white;\n      `;\n    }\n  }}\n`;\n\nexport const ArrayOpenningLabel = styled.div`\n  font-size: 0.9em;\n  font-family: ${props => props.theme.typography.code.fontFamily};\n  &::after {\n    content: ' [';\n  }\n`;\n\nexport const ArrayClosingLabel = styled.div`\n  font-size: 0.9em;\n  font-family: ${props => props.theme.typography.code.fontFamily};\n  &::after {\n    content: ']';\n  }\n`;\n","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"@redocly/react-dropdown-aria\");;","import Dropdown from '@redocly/react-dropdown-aria';\n\nimport styled from '../styled-components';\n\nexport interface DropdownOption {\n  idx: number;\n  value: string;\n}\n\nexport interface DropdownProps {\n  options: DropdownOption[];\n  value: string;\n  onChange: (option: DropdownOption) => void;\n  ariaLabel: string;\n}\n\nexport const StyledDropdown = styled(Dropdown)`\n  && {\n    box-sizing: border-box;\n    min-width: 100px;\n    outline: none;\n    display: inline-block;\n    border-radius: 2px;\n    border: 1px solid rgba(38, 50, 56, 0.5);\n    vertical-align: bottom;\n    padding: 2px 0px 2px 6px;\n    position: relative;\n    width: auto;\n    background: white;\n    color: #263238;\n    font-family: ${props => props.theme.typography.headings.fontFamily};\n    font-size: 0.929em;\n    line-height: 1.5em;\n    cursor: pointer;\n    transition: border 0.25s ease, color 0.25s ease, box-shadow 0.25s ease;\n    &:hover,\n    &:focus-within {\n      border: 1px solid ${props => props.theme.colors.primary.main};\n      color: ${props => props.theme.colors.primary.main};\n      box-shadow: 0px 0px 0px 1px ${props => props.theme.colors.primary.main};\n    }\n    .dropdown-selector {\n      display: inline-flex;\n      padding: 0;\n      height: auto;\n      padding-right: 20px;\n      position: relative;\n      margin-bottom: 5px;\n    }\n    .dropdown-selector-value {\n      font-family: ${props => props.theme.typography.headings.fontFamily};\n      position: relative;\n      font-size: 0.929em;\n      width: 100%;\n      line-height: 1;\n      vertical-align: middle;\n      color: #263238;\n      left: 0;\n      transition: color 0.25s ease, text-shadow 0.25s ease;\n    }\n    .dropdown-arrow {\n      position: absolute;\n      right: 3px;\n      top: 50%;\n      transform: translateY(-50%);\n      border-color: ${props => props.theme.colors.primary.main} transparent transparent;\n      border-style: solid;\n      border-width: 0.35em 0.35em 0;\n      width: 0;\n      svg {\n        display: none;\n      }\n    }\n\n    .dropdown-selector-content {\n      position: absolute;\n      margin-top: 2px;\n      left: -2px;\n      right: 0;\n\n      z-index: 10;\n      min-width: 100px;\n\n      background: white;\n      border: 1px solid rgba(38, 50, 56, 0.2);\n      box-shadow: 0px 2px 4px 0px rgba(34, 36, 38, 0.12), 0px 2px 10px 0px rgba(34, 36, 38, 0.08);\n\n      max-height: 220px;\n      overflow: auto;\n    }\n\n    .dropdown-option {\n      font-size: 0.9em;\n      color: #263238;\n      cursor: pointer;\n      padding: 0.4em;\n      background-color: #ffffff;\n\n      &[aria-selected='true'] {\n        background-color: rgba(0, 0, 0, 0.05);\n      }\n\n      &:hover {\n        background-color: rgba(38, 50, 56, 0.12);\n      }\n    }\n    input {\n      cursor: pointer;\n      height: 1px;\n      background-color: transparent;\n    }\n  }\n`;\n\nexport const SimpleDropdown = styled(StyledDropdown)`\n  && {\n    margin-left: 10px;\n    text-transform: none;\n    font-size: 0.969em;\n\n    font-size: 1em;\n    border: none;\n    padding: 0 1.2em 0 0;\n    background: transparent;\n\n    &:hover,\n    &:focus-within {\n      border: none;\n      box-shadow: none;\n      .dropdown-selector-value {\n        color: ${props => props.theme.colors.primary.main};\n        text-shadow: 0px 0px 0px ${props => props.theme.colors.primary.main};\n      }\n    }\n  }\n`;\n\nexport const MimeLabel = styled.span`\n  margin-left: 10px;\n  text-transform: none;\n  font-size: 0.929em;\n  color: black;\n`;\n","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"react-tabs\");;","import { darken } from 'polished';\nimport { Tabs as ReactTabs } from 'react-tabs';\n\nimport styled from '../styled-components';\n\nexport { Tab, TabList, TabPanel } from 'react-tabs';\n\nexport const Tabs = styled(ReactTabs)`\n  > ul {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n    margin: 0 -5px;\n\n    > li {\n      padding: 5px 10px;\n      display: inline-block;\n\n      background-color: ${({ theme }) => theme.codeBlock.backgroundColor};\n      border-bottom: 1px solid rgba(0, 0, 0, 0.5);\n      cursor: pointer;\n      text-align: center;\n      outline: none;\n      color: ${({ theme }) => darken(theme.colors.tonalOffset, theme.rightPanel.textColor)};\n      margin: 0\n        ${({ theme }) => `${theme.spacing.unit}px ${theme.spacing.unit}px ${theme.spacing.unit}px`};\n      border: 1px solid ${({ theme }) => darken(0.05, theme.codeBlock.backgroundColor)};\n      border-radius: 5px;\n      min-width: 60px;\n      font-size: 0.9em;\n      font-weight: bold;\n\n      &.react-tabs__tab--selected {\n        color: ${props => props.theme.colors.text.primary};\n        background: ${({ theme }) => theme.rightPanel.textColor};\n        &:focus {\n          outline: auto;\n        }\n      }\n\n      &:only-child {\n        flex: none;\n        min-width: 100px;\n      }\n\n      &.tab-success {\n        color: ${props => props.theme.colors.responses.success.tabTextColor};\n      }\n\n      &.tab-redirect {\n        color: ${props => props.theme.colors.responses.redirect.tabTextColor};\n      }\n\n      &.tab-info {\n        color: ${props => props.theme.colors.responses.info.tabTextColor};\n      }\n\n      &.tab-error {\n        color: ${props => props.theme.colors.responses.error.tabTextColor};\n      }\n    }\n  }\n  > .react-tabs__tab-panel {\n    background: ${({ theme }) => theme.codeBlock.backgroundColor};\n    & > div,\n    & > pre {\n      padding: ${props => props.theme.spacing.unit * 4}px;\n      margin: 0;\n    }\n\n    & > div > pre {\n      padding: 0;\n    }\n  }\n`;\n\nexport const SmallTabs = styled(Tabs)`\n  > ul {\n    display: block;\n    > li {\n      padding: 2px 5px;\n      min-width: auto;\n      margin: 0 15px 0 0;\n      font-size: 13px;\n      font-weight: normal;\n      border-bottom: 1px dashed;\n      color: ${({ theme }) => darken(theme.colors.tonalOffset, theme.rightPanel.textColor)};\n      border-radius: 0;\n      background: none;\n\n      &:last-child {\n        margin-right: 0;\n      }\n\n      &.react-tabs__tab--selected {\n        color: ${({ theme }) => theme.rightPanel.textColor};\n        background: none;\n      }\n    }\n  }\n  > .react-tabs__tab-panel {\n    & > div,\n    & > pre {\n      padding: ${props => props.theme.spacing.unit * 2}px 0;\n    }\n  }\n`;\n","import styled, { extensionsHook } from '../styled-components';\n\nexport const PrismDiv = styled.div`\n  /**\n  * Based on prism-dark.css\n  */\n\n  code[class*='language-'],\n  pre[class*='language-'] {\n    /* color: white;\n    background: none; */\n    text-shadow: 0 -0.1em 0.2em black;\n    text-align: left;\n    white-space: pre;\n    word-spacing: normal;\n    word-break: normal;\n    word-wrap: normal;\n    line-height: 1.5;\n\n    -moz-tab-size: 4;\n    -o-tab-size: 4;\n    tab-size: 4;\n\n    -webkit-hyphens: none;\n    -moz-hyphens: none;\n    -ms-hyphens: none;\n    hyphens: none;\n  }\n\n  @media print {\n    code[class*='language-'],\n    pre[class*='language-'] {\n      text-shadow: none;\n    }\n  }\n\n  /* Code blocks */\n  pre[class*='language-'] {\n    padding: 1em;\n    margin: 0.5em 0;\n    overflow: auto;\n  }\n\n  .token.comment,\n  .token.prolog,\n  .token.doctype,\n  .token.cdata {\n    color: hsl(30, 20%, 50%);\n  }\n\n  .token.punctuation {\n    opacity: 0.7;\n  }\n\n  .namespace {\n    opacity: 0.7;\n  }\n\n  .token.property,\n  .token.tag,\n  .token.number,\n  .token.constant,\n  .token.symbol {\n    color: #4a8bb3;\n  }\n\n  .token.boolean {\n    color: #e64441;\n  }\n\n  .token.selector,\n  .token.attr-name,\n  .token.string,\n  .token.char,\n  .token.builtin,\n  .token.inserted {\n    color: #a0fbaa;\n    & + a,\n    & + a:visited {\n      color: #4ed2ba;\n      text-decoration: underline;\n    }\n  }\n\n  .token.property.string {\n    color: white;\n  }\n\n  .token.operator,\n  .token.entity,\n  .token.url,\n  .token.variable {\n    color: hsl(40, 90%, 60%);\n  }\n\n  .token.atrule,\n  .token.attr-value,\n  .token.keyword {\n    color: hsl(350, 40%, 70%);\n  }\n\n  .token.regex,\n  .token.important {\n    color: #e90;\n  }\n\n  .token.important,\n  .token.bold {\n    font-weight: bold;\n  }\n  .token.italic {\n    font-style: italic;\n  }\n\n  .token.entity {\n    cursor: help;\n  }\n\n  .token.deleted {\n    color: red;\n  }\n\n  ${extensionsHook('Prism')};\n`;\n","import styled from '../styled-components';\nimport { PrismDiv } from './PrismDiv';\n\nexport const SampleControls = styled.div`\n  opacity: 0.7;\n  transition: opacity 0.3s ease;\n  text-align: right;\n  &:focus-within {\n    opacity: 1;\n  }\n  > button {\n    background-color: transparent;\n    border: 0;\n    color: inherit;\n    padding: 2px 10px;\n    font-family: ${({ theme }) => theme.typography.fontFamily};\n    font-size: ${({ theme }) => theme.typography.fontSize};\n    line-height: ${({ theme }) => theme.typography.lineHeight};\n    cursor: pointer;\n    outline: 0;\n\n    :hover,\n    :focus {\n      background: rgba(255, 255, 255, 0.1);\n    }\n  }\n`;\n\nexport const SampleControlsWrap = styled.div`\n  &:hover ${SampleControls} {\n    opacity: 1;\n  }\n`;\n\nexport const StyledPre = styled(PrismDiv.withComponent('pre'))`\n  font-family: ${props => props.theme.typography.code.fontFamily};\n  font-size: ${props => props.theme.typography.code.fontSize};\n  overflow-x: auto;\n  margin: 0;\n\n  white-space: ${({ theme }) => (theme.typography.code.wrap ? 'pre-wrap' : 'pre')};\n`;\n","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"perfect-scrollbar\");;","import * as React from 'react';\n\nimport PerfectScrollbarType, * as PerfectScrollbarNamespace from 'perfect-scrollbar';\n\nimport { OptionsContext } from '../components/OptionsProvider';\nimport styled, { createGlobalStyle } from '../styled-components';\nimport { IS_BROWSER } from '../utils';\n\n/*\n * perfect scrollbar umd bundle uses exports assignment while module uses default export\n * so when bundled with webpack default export works but with jest it crashes\n * That's why the following ugly fix is required\n */\nconst PerfectScrollbarConstructor =\n  PerfectScrollbarNamespace.default || (PerfectScrollbarNamespace as any as PerfectScrollbarType);\n\nlet psStyles = '';\nif (IS_BROWSER) {\n  psStyles = require('perfect-scrollbar/css/perfect-scrollbar.css');\n  psStyles = (typeof psStyles.toString === 'function' && psStyles.toString()) || '';\n  psStyles = psStyles === '[object Object]' ? '' : psStyles;\n}\n\nconst PSStyling = createGlobalStyle`${psStyles}`;\n\nconst StyledScrollWrapper = styled.div`\n  position: relative;\n`;\n\nexport interface PerfectScrollbarProps {\n  options?: PerfectScrollbarType.Options;\n  className?: string;\n  updateFn?: (fn) => void;\n}\n\nexport class PerfectScrollbar extends React.Component<PerfectScrollbarProps> {\n  private _container: HTMLElement;\n  private inst: PerfectScrollbarType;\n\n  componentDidMount() {\n    const offset = (this._container.parentElement && this._container.parentElement.scrollTop) || 0;\n    this.inst = new PerfectScrollbarConstructor(this._container, this.props.options || {});\n    if (this._container.scrollTo) {\n      this._container.scrollTo(0, offset);\n    }\n  }\n\n  componentDidUpdate() {\n    this.inst.update();\n  }\n\n  componentWillUnmount() {\n    this.inst.destroy();\n  }\n\n  handleRef = ref => {\n    this._container = ref;\n  };\n\n  render() {\n    const { children, className, updateFn } = this.props;\n\n    if (updateFn) {\n      updateFn(this.componentDidUpdate.bind(this));\n    }\n\n    return (\n      <>\n        {psStyles && <PSStyling />}\n        <StyledScrollWrapper className={`scrollbar-container ${className}`} ref={this.handleRef}>\n          {children}\n        </StyledScrollWrapper>\n      </>\n    );\n  }\n}\n\nexport function PerfectScrollbarWrap(\n  props: PerfectScrollbarProps & { children: JSX.Element[] | JSX.Element },\n) {\n  return (\n    <OptionsContext.Consumer>\n      {options =>\n        !options.nativeScrollbars ? (\n          <PerfectScrollbar {...props}>{props.children}</PerfectScrollbar>\n        ) : (\n          <div\n            style={{\n              overflow: 'auto',\n              overscrollBehavior: 'contain',\n              msOverflowStyle: '-ms-autohiding-scrollbar',\n            }}\n          >\n            {props.children}\n          </div>\n        )\n      }\n    </OptionsContext.Consumer>\n  );\n}\n","import * as React from 'react';\n\nimport { DropdownProps, MimeLabel, SimpleDropdown } from '../../common-elements/dropdown';\n\nexport interface DropdownOrLabelProps extends DropdownProps {\n  Label?: React.ComponentClass;\n  Dropdown?: React.ComponentClass;\n}\n\nexport function DropdownOrLabel(props: DropdownOrLabelProps): JSX.Element {\n  const { Label = MimeLabel, Dropdown = SimpleDropdown } = props;\n  if (props.options.length === 1) {\n    return <Label>{props.options[0].value}</Label>;\n  }\n  return <Dropdown {...props} searchable={false} />;\n}\n","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"dompurify\");;","import { headerCommonMixin, linkifyMixin } from '../../common-elements';\nimport { PrismDiv } from '../../common-elements/PrismDiv';\nimport styled, { css, extensionsHook, ResolvedThemeInterface } from '../../styled-components';\n\nimport { StyledComponent } from 'styled-components';\n\nexport const linksCss = css`\n  a {\n    text-decoration: none;\n    color: ${props => props.theme.typography.links.color};\n\n    &:visited {\n      color: ${props => props.theme.typography.links.visited};\n    }\n\n    &:hover {\n      color: ${props => props.theme.typography.links.hover};\n    }\n  }\n`;\n\nexport const StyledMarkdownBlock = styled(\n  PrismDiv as StyledComponent<\n    'div',\n    ResolvedThemeInterface,\n    { compact?: boolean; inline?: boolean }\n  >,\n)`\n  font-family: ${props => props.theme.typography.fontFamily};\n  font-weight: ${props => props.theme.typography.fontWeightRegular};\n  line-height: ${props => props.theme.typography.lineHeight};\n\n  p {\n    &:last-child {\n      margin-bottom: 0;\n    }\n  }\n\n  ${({ compact }) =>\n    compact &&\n    `\n    p:first-child {\n      margin-top: 0;\n    }\n    p:last-child {\n      margin-bottom: 0;\n    }\n  `}\n\n  ${({ inline }) =>\n    inline &&\n    ` p {\n    display: inline-block;\n  }`}\n\n  h1 {\n    ${headerCommonMixin(1)};\n    color: ${props => props.theme.colors.primary.main};\n    margin-top: 0;\n  }\n\n  h2 {\n    ${headerCommonMixin(2)};\n    color: ${props => props.theme.colors.text.primary};\n  }\n\n  code {\n    color: ${({ theme }) => theme.typography.code.color};\n    background-color: ${({ theme }) => theme.typography.code.backgroundColor};\n\n    font-family: ${props => props.theme.typography.code.fontFamily};\n    border-radius: 2px;\n    border: 1px solid rgba(38, 50, 56, 0.1);\n    padding: 0 ${({ theme }) => theme.spacing.unit}px;\n    font-size: ${props => props.theme.typography.code.fontSize};\n    font-weight: ${({ theme }) => theme.typography.code.fontWeight};\n\n    word-break: break-word;\n  }\n\n  pre {\n    font-family: ${props => props.theme.typography.code.fontFamily};\n    white-space: ${({ theme }) => (theme.typography.code.wrap ? 'pre-wrap' : 'pre')};\n    background-color: ${({ theme }) => theme.codeBlock.backgroundColor};\n    color: white;\n    padding: ${props => props.theme.spacing.unit * 4}px;\n    overflow-x: auto;\n    line-height: normal;\n    border-radius: 0px;\n    border: 1px solid rgba(38, 50, 56, 0.1);\n\n    code {\n      background-color: transparent;\n      color: white;\n      padding: 0;\n\n      &:before,\n      &:after {\n        content: none;\n      }\n    }\n  }\n\n  blockquote {\n    margin: 0;\n    margin-bottom: 1em;\n    padding: 0 15px;\n    color: #777;\n    border-left: 4px solid #ddd;\n  }\n\n  img {\n    max-width: 100%;\n    box-sizing: content-box;\n  }\n\n  ul,\n  ol {\n    padding-left: 2em;\n    margin: 0;\n    margin-bottom: 1em;\n\n    ul,\n    ol {\n      margin-bottom: 0;\n      margin-top: 0;\n    }\n  }\n\n  table {\n    display: block;\n    width: 100%;\n    overflow: auto;\n    word-break: normal;\n    word-break: keep-all;\n    border-collapse: collapse;\n    border-spacing: 0;\n    margin-top: 1.5em;\n    margin-bottom: 1.5em;\n  }\n\n  table tr {\n    background-color: #fff;\n    border-top: 1px solid #ccc;\n\n    &:nth-child(2n) {\n      background-color: ${({ theme }) => theme.schema.nestedBackground};\n    }\n  }\n\n  table th,\n  table td {\n    padding: 6px 13px;\n    border: 1px solid #ddd;\n  }\n\n  table th {\n    text-align: left;\n    font-weight: bold;\n  }\n\n  ${linkifyMixin('.share-link')};\n\n  ${linksCss}\n\n  ${extensionsHook('Markdown')};\n`;\n","import * as DOMPurify from 'dompurify';\nimport * as React from 'react';\n\nimport { OptionsConsumer } from '../OptionsProvider';\nimport { StylingMarkdownProps } from './Markdown';\nimport { StyledMarkdownBlock } from './styled.elements';\n\nconst StyledMarkdownSpan = StyledMarkdownBlock.withComponent('span');\n\nconst sanitize = (untrustedSpec, html) => (untrustedSpec ? DOMPurify.sanitize(html) : html);\n\nexport function SanitizedMarkdownHTML(\n  props: StylingMarkdownProps & { html: string; className?: string; 'data-role'?: string },\n) {\n  const Wrap = props.inline ? StyledMarkdownSpan : StyledMarkdownBlock;\n\n  return (\n    <OptionsConsumer>\n      {options => (\n        <Wrap\n          className={'redoc-markdown ' + (props.className || '')}\n          dangerouslySetInnerHTML={{\n            __html: sanitize(options.untrustedSpec, props.html),\n          }}\n          data-role={props['data-role']}\n          {...props}\n        />\n      )}\n    </OptionsConsumer>\n  );\n}\n","import * as React from 'react';\n\nimport { MarkdownRenderer } from '../../services';\nimport { SanitizedMarkdownHTML } from './SanitizedMdBlock';\n\nexport interface StylingMarkdownProps {\n  compact?: boolean;\n  inline?: boolean;\n}\n\nexport interface BaseMarkdownProps {\n  sanitize?: boolean;\n  source: string;\n}\n\nexport type MarkdownProps = BaseMarkdownProps &\n  StylingMarkdownProps & {\n    source: string;\n    className?: string;\n    'data-role'?: string;\n  };\n\nexport class Markdown extends React.Component<MarkdownProps> {\n  render() {\n    const { source, inline, compact, className, 'data-role': dataRole } = this.props;\n    const renderer = new MarkdownRenderer();\n    return (\n      <SanitizedMarkdownHTML\n        html={renderer.renderMd(source)}\n        inline={inline}\n        compact={compact}\n        className={className}\n        data-role={dataRole}\n      />\n    );\n  }\n}\n","import * as React from 'react';\n\nimport styled from '../styled-components';\n\nconst Wrapper = styled.div`\n  position: relative;\n`;\n\nconst Tip = styled.div`\n  position: absolute;\n  min-width: 80px;\n  max-width: 500px;\n  background: #fff;\n  bottom: 100%;\n  left: 50%;\n  margin-bottom: 10px;\n  transform: translateX(-50%);\n\n  border-radius: 4px;\n  padding: 0.3em 0.6em;\n  text-align: center;\n  box-shadow: 0px 0px 5px 0px rgba(204, 204, 204, 1);\n`;\n\nconst Content = styled.div`\n  background: #fff;\n  color: #000;\n  display: inline;\n  font-size: 0.85em;\n  white-space: nowrap;\n`;\n\nconst Arrow = styled.div`\n  position: absolute;\n  width: 0;\n  height: 0;\n  bottom: -5px;\n  left: 50%;\n  margin-left: -5px;\n  border-left: solid transparent 5px;\n  border-right: solid transparent 5px;\n  border-top: solid #fff 5px;\n`;\n\nconst Gap = styled.div`\n  position: absolute;\n  width: 100%;\n  height: 20px;\n  bottom: -20px;\n`;\n\nexport interface TooltipProps {\n  open: boolean;\n  title: string;\n}\n\nexport class Tooltip extends React.Component<TooltipProps> {\n  render() {\n    const { open, title, children } = this.props;\n    return (\n      <Wrapper>\n        {children}\n        {open && (\n          <Tip>\n            <Content>{title}</Content>\n            <Arrow />\n            <Gap />\n          </Tip>\n        )}\n      </Wrapper>\n    );\n  }\n}\n","const isSupported =\n  typeof document !== 'undefined' &&\n  document.queryCommandSupported &&\n  document.queryCommandSupported('copy');\n\nexport class ClipboardService {\n  static isSupported(): boolean {\n    return isSupported;\n  }\n\n  static selectElement(element: any): void {\n    let range;\n    let selection;\n    if ((document.body as any).createTextRange) {\n      range = (document.body as any).createTextRange();\n      range.moveToElementText(element);\n      range.select();\n    } else if (document.createRange && window.getSelection) {\n      selection = window.getSelection();\n      range = document.createRange();\n      range.selectNodeContents(element);\n      selection.removeAllRanges();\n      selection.addRange(range);\n    }\n  }\n\n  static deselect(): void {\n    if ((document as any).selection) {\n      (document as any).selection.empty();\n    } else if (window.getSelection) {\n      const selection = window.getSelection();\n      if (selection) {\n        selection.removeAllRanges();\n      }\n    }\n  }\n\n  static copySelected(): boolean {\n    let result;\n    try {\n      result = document.execCommand('copy');\n    } catch (err) {\n      result = false;\n    }\n    return result;\n  }\n\n  static copyElement(element: any): boolean {\n    ClipboardService.selectElement(element);\n    const res = ClipboardService.copySelected();\n    if (res) {\n      ClipboardService.deselect();\n    }\n    return res;\n  }\n\n  static copyCustom(text: string): boolean {\n    const textArea = document.createElement('textarea');\n    textArea.style.position = 'fixed';\n    textArea.style.top = '0';\n    textArea.style.left = '0';\n\n    // Ensure it has a small width and height. Setting to 1px / 1em\n    // doesn't work as this gives a negative w/h on some browsers.\n    textArea.style.width = '2em';\n    textArea.style.height = '2em';\n\n    // We don't need padding, reducing the size if it does flash render.\n    textArea.style.padding = '0';\n\n    // Clean up any borders.\n    textArea.style.border = 'none';\n    textArea.style.outline = 'none';\n    textArea.style.boxShadow = 'none';\n\n    // Avoid flash of white box if rendered for any reason.\n    textArea.style.background = 'transparent';\n\n    textArea.value = text;\n\n    document.body.appendChild(textArea);\n\n    textArea.select();\n\n    const res = ClipboardService.copySelected();\n\n    document.body.removeChild(textArea);\n    return res;\n  }\n}\n","import * as React from 'react';\nimport { Tooltip } from '../common-elements/Tooltip';\n\nimport { ClipboardService } from '../services/ClipboardService';\n\nexport interface CopyButtonWrapperProps {\n  data: any;\n  children: (props: { renderCopyButton: () => React.ReactNode }) => React.ReactNode;\n}\n\nexport class CopyButtonWrapper extends React.PureComponent<\n  CopyButtonWrapperProps,\n  { tooltipShown: boolean }\n> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      tooltipShown: false,\n    };\n  }\n\n  render() {\n    return this.props.children({ renderCopyButton: this.renderCopyButton });\n  }\n\n  copy = () => {\n    const content =\n      typeof this.props.data === 'string'\n        ? this.props.data\n        : JSON.stringify(this.props.data, null, 2);\n    ClipboardService.copyCustom(content);\n    this.showTooltip();\n  };\n\n  renderCopyButton = () => {\n    return (\n      <button onClick={this.copy}>\n        <Tooltip\n          title={ClipboardService.isSupported() ? 'Copied' : 'Not supported in your browser'}\n          open={this.state.tooltipShown}\n        >\n          Copy\n        </Tooltip>\n      </button>\n    );\n  };\n\n  showTooltip() {\n    this.setState({\n      tooltipShown: true,\n    });\n\n    setTimeout(() => {\n      this.setState({\n        tooltipShown: false,\n      });\n    }, 1500);\n  }\n}\n","let level = 1;\n\nexport function jsonToHTML(json, maxExpandLevel) {\n  level = 1;\n  let output = '';\n  output += '<div class=\"redoc-json\">';\n  output += '<code>';\n  output += valueToHTML(json, maxExpandLevel);\n  output += '</code>';\n  output += '</div>';\n  return output;\n}\n\nfunction htmlEncode(t) {\n  return t !== undefined\n    ? t\n        .toString()\n        .replace(/&/g, '&amp;')\n        .replace(/\"/g, '&quot;')\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;')\n    : '';\n}\n\nfunction stringifyStringLiteral(str: string) {\n  return JSON.stringify(str).slice(1, -1);\n}\n\nfunction decorateWithSpan(value, className) {\n  return '<span class=\"' + className + '\">' + htmlEncode(value) + '</span>';\n}\n\nfunction punctuation(val) {\n  return '<span class=\"token punctuation\">' + val + '</span>';\n}\n\nfunction valueToHTML(value, maxExpandLevel: number) {\n  const valueType = typeof value;\n  let output = '';\n  if (value === undefined || value === null) {\n    output += decorateWithSpan('null', 'token keyword');\n  } else if (value && value.constructor === Array) {\n    level++;\n    output += arrayToHTML(value, maxExpandLevel);\n    level--;\n  } else if (value && value.constructor === Date) {\n    output += decorateWithSpan('\"' + value.toISOString() + '\"', 'token string');\n  } else if (valueType === 'object') {\n    level++;\n    output += objectToHTML(value, maxExpandLevel);\n    level--;\n  } else if (valueType === 'number') {\n    output += decorateWithSpan(value, 'token number');\n  } else if (valueType === 'string') {\n    if (/^(http|https):\\/\\/[^\\s]+$/.test(value)) {\n      output +=\n        decorateWithSpan('\"', 'token string') +\n        '<a href=\"' +\n        encodeURI(value) +\n        '\">' +\n        htmlEncode(stringifyStringLiteral(value)) +\n        '</a>' +\n        decorateWithSpan('\"', 'token string');\n    } else {\n      output += decorateWithSpan('\"' + stringifyStringLiteral(value) + '\"', 'token string');\n    }\n  } else if (valueType === 'boolean') {\n    output += decorateWithSpan(value, 'token boolean');\n  }\n\n  return output;\n}\n\nfunction arrayToHTML(json, maxExpandLevel: number) {\n  const collapsed = level > maxExpandLevel ? 'collapsed' : '';\n  let output = `<button class=\"collapser\" aria-label=\"${\n    level > maxExpandLevel + 1 ? 'expand' : 'collapse'\n  }\"></button>${punctuation('[')}<span class=\"ellipsis\"></span><ul class=\"array collapsible\">`;\n  let hasContents = false;\n  const length = json.length;\n  for (let i = 0; i < length; i++) {\n    hasContents = true;\n    output += '<li><div class=\"hoverable ' + collapsed + '\">';\n    output += valueToHTML(json[i], maxExpandLevel);\n    if (i < length - 1) {\n      output += ',';\n    }\n    output += '</div></li>';\n  }\n  output += `</ul>${punctuation(']')}`;\n  if (!hasContents) {\n    output = punctuation('[ ]');\n  }\n  return output;\n}\n\nfunction objectToHTML(json, maxExpandLevel: number) {\n  const collapsed = level > maxExpandLevel ? 'collapsed' : '';\n  const keys = Object.keys(json);\n  const length = keys.length;\n  let output = `<button class=\"collapser\" aria-label=\"${\n    level > maxExpandLevel + 1 ? 'expand' : 'collapse'\n  }\"></button>${punctuation('{')}<span class=\"ellipsis\"></span><ul class=\"obj collapsible\">`;\n  let hasContents = false;\n  for (let i = 0; i < length; i++) {\n    const key = keys[i];\n    hasContents = true;\n    output += '<li><div class=\"hoverable ' + collapsed + '\">';\n    output += '<span class=\"property token string\">\"' + htmlEncode(key) + '\"</span>: ';\n    output += valueToHTML(json[key], maxExpandLevel);\n    if (i < length - 1) {\n      output += punctuation(',');\n    }\n    output += '</div></li>';\n  }\n  output += `</ul>${punctuation('}')}`;\n  if (!hasContents) {\n    output = punctuation('{ }');\n  }\n  return output;\n}\n","import { css } from '../../styled-components';\n\nexport const jsonStyles = css`\n  .redoc-json code > .collapser {\n    display: none;\n    pointer-events: none;\n  }\n\n  font-family: ${props => props.theme.typography.code.fontFamily};\n  font-size: ${props => props.theme.typography.code.fontSize};\n\n  white-space: ${({ theme }) => (theme.typography.code.wrap ? 'pre-wrap' : 'pre')};\n  contain: content;\n  overflow-x: auto;\n\n  .callback-function {\n    color: gray;\n  }\n\n  .collapser:after {\n    content: '-';\n    cursor: pointer;\n  }\n\n  .collapsed > .collapser:after {\n    content: '+';\n    cursor: pointer;\n  }\n\n  .ellipsis:after {\n    content: ' … ';\n  }\n\n  .collapsible {\n    margin-left: 2em;\n  }\n\n  .hoverable {\n    padding-top: 1px;\n    padding-bottom: 1px;\n    padding-left: 2px;\n    padding-right: 2px;\n    border-radius: 2px;\n  }\n\n  .hovered {\n    background-color: rgba(235, 238, 249, 1);\n  }\n\n  .collapser {\n    background-color: transparent;\n    border: 0;\n    color: #fff;\n    font-family: ${props => props.theme.typography.code.fontFamily};\n    font-size: ${props => props.theme.typography.code.fontSize};\n    padding-right: 6px;\n    padding-left: 6px;\n    padding-top: 0;\n    padding-bottom: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 15px;\n    height: 15px;\n    position: absolute;\n    top: 4px;\n    left: -1.5em;\n    cursor: default;\n    user-select: none;\n    -webkit-user-select: none;\n    padding: 2px;\n    &:focus {\n      outline-color: #fff;\n      outline-style: dotted;\n      outline-width: 1px;\n    }\n  }\n\n  ul {\n    list-style-type: none;\n    padding: 0px;\n    margin: 0px 0px 0px 26px;\n  }\n\n  li {\n    position: relative;\n    display: block;\n  }\n\n  .hoverable {\n    display: inline-block;\n  }\n\n  .selected {\n    outline-style: solid;\n    outline-width: 1px;\n    outline-style: dotted;\n  }\n\n  .collapsed > .collapsible {\n    display: none;\n  }\n\n  .ellipsis {\n    display: none;\n  }\n\n  .collapsed > .ellipsis {\n    display: inherit;\n  }\n`;\n","import * as React from 'react';\nimport styled from '../../styled-components';\n\nimport { SampleControls } from '../../common-elements';\nimport { CopyButtonWrapper } from '../../common-elements/CopyButtonWrapper';\nimport { PrismDiv } from '../../common-elements/PrismDiv';\nimport { jsonToHTML } from '../../utils/jsonToHtml';\nimport { OptionsContext } from '../OptionsProvider';\nimport { jsonStyles } from './style';\n\nexport interface JsonProps {\n  data: any;\n  className?: string;\n}\n\nconst JsonViewerWrap = styled.div`\n  &:hover > ${SampleControls} {\n    opacity: 1;\n  }\n`;\n\nclass Json extends React.PureComponent<JsonProps> {\n  node: HTMLDivElement;\n\n  render() {\n    return <CopyButtonWrapper data={this.props.data}>{this.renderInner}</CopyButtonWrapper>;\n  }\n\n  renderInner = ({ renderCopyButton }) => (\n    <JsonViewerWrap>\n      <SampleControls>\n        {renderCopyButton()}\n        <button onClick={this.expandAll}> Expand all </button>\n        <button onClick={this.collapseAll}> Collapse all </button>\n      </SampleControls>\n      <OptionsContext.Consumer>\n        {options => (\n          <PrismDiv\n            className={this.props.className}\n            // tslint:disable-next-line\n            ref={node => (this.node = node!)}\n            dangerouslySetInnerHTML={{\n              __html: jsonToHTML(this.props.data, options.jsonSampleExpandLevel),\n            }}\n          />\n        )}\n      </OptionsContext.Consumer>\n    </JsonViewerWrap>\n  );\n\n  expandAll = () => {\n    const elements = this.node.getElementsByClassName('collapsible');\n    for (const collapsed of Array.prototype.slice.call(elements)) {\n      const parentNode = collapsed.parentNode as Element;\n      parentNode.classList.remove('collapsed');\n      parentNode.querySelector('.collapser')!.setAttribute('aria-label', 'collapse');\n    }\n  };\n\n  collapseAll = () => {\n    const elements = this.node.getElementsByClassName('collapsible');\n    // skip first item to avoid collapsing whole object/array\n    const elementsArr = Array.prototype.slice.call(elements, 1);\n\n    for (const expanded of elementsArr) {\n      const parentNode = expanded.parentNode as Element;\n      parentNode.classList.add('collapsed');\n      parentNode.querySelector('.collapser')!.setAttribute('aria-label', 'expand');\n    }\n  };\n\n  collapseElement = (target: HTMLElement) => {\n    let collapsed;\n    if (target.className === 'collapser') {\n      collapsed = target.parentElement!.getElementsByClassName('collapsible')[0];\n      if (collapsed.parentElement.classList.contains('collapsed')) {\n        collapsed.parentElement.classList.remove('collapsed');\n        target.setAttribute('aria-label', 'collapse');\n      } else {\n        collapsed.parentElement.classList.add('collapsed');\n        target.setAttribute('aria-label', 'expand');\n      }\n    }\n  };\n\n  clickListener = (event: MouseEvent) => {\n    this.collapseElement(event.target as HTMLElement);\n  };\n\n  focusListener = (event: KeyboardEvent) => {\n    if (event.key === 'Enter') {\n      this.collapseElement(event.target as HTMLElement);\n    }\n  };\n\n  componentDidMount() {\n    this.node!.addEventListener('click', this.clickListener);\n    this.node!.addEventListener('focus', this.focusListener);\n  }\n\n  componentWillUnmount() {\n    this.node!.removeEventListener('click', this.clickListener);\n    this.node!.removeEventListener('focus', this.focusListener);\n  }\n}\n\nexport const JsonViewer = styled(Json)`\n  ${jsonStyles};\n`;\n","import * as React from 'react';\nimport { highlight } from '../../utils';\n\nimport { SampleControls, SampleControlsWrap, StyledPre } from '../../common-elements';\nimport { CopyButtonWrapper } from '../../common-elements/CopyButtonWrapper';\n\nexport interface SourceCodeProps {\n  source: string;\n  lang: string;\n}\n\nexport class SourceCode extends React.PureComponent<SourceCodeProps> {\n  render() {\n    const { source, lang } = this.props;\n    return <StyledPre dangerouslySetInnerHTML={{ __html: highlight(source, lang) }} />;\n  }\n}\n\nexport class SourceCodeWithCopy extends React.Component<SourceCodeProps> {\n  render() {\n    return (\n      <CopyButtonWrapper data={this.props.source}>\n        {({ renderCopyButton }) => (\n          <SampleControlsWrap>\n            <SampleControls>{renderCopyButton()}</SampleControls>\n            <SourceCode lang={this.props.lang} source={this.props.source} />\n          </SampleControlsWrap>\n        )}\n      </CopyButtonWrapper>\n    );\n  }\n}\n","import * as React from 'react';\n\nimport { isJsonLike, langFromMime } from '../../utils/openapi';\nimport { JsonViewer } from '../JsonViewer/JsonViewer';\nimport { SourceCodeWithCopy } from '../SourceCode/SourceCode';\n\nexport interface ExampleValueProps {\n  value: any;\n  mimeType: string;\n}\n\nexport function ExampleValue({ value, mimeType }: ExampleValueProps) {\n  if (isJsonLike(mimeType)) {\n    return <JsonViewer data={value} />;\n  } else {\n    if (typeof value === 'object') {\n      // just in case example was cached as json but used as non-json\n      value = JSON.stringify(value, null, 2);\n    }\n    return <SourceCodeWithCopy lang={langFromMime(mimeType)} source={value} />;\n  }\n}\n","import * as React from 'react';\n\nimport { StyledPre } from '../../common-elements/samples';\nimport { ExampleModel } from '../../services/models';\nimport { ExampleValue } from './ExampleValue';\nimport { useExternalExample } from './exernalExampleHook';\n\nexport interface ExampleProps {\n  example: ExampleModel;\n  mimeType: string;\n}\n\nexport function Example({ example, mimeType }: ExampleProps) {\n  if (example.value === undefined && example.externalValueUrl) {\n    return <ExternalExample example={example} mimeType={mimeType} />;\n  } else {\n    return <ExampleValue value={example.value} mimeType={mimeType} />;\n  }\n}\n\nexport function ExternalExample({ example, mimeType }: ExampleProps) {\n  const value = useExternalExample(example, mimeType);\n\n  if (value === undefined) {\n    return <span>Loading...</span>;\n  }\n\n  if (value instanceof Error) {\n    return (\n      <StyledPre>\n        Error loading external example: <br />\n        <a\n          className={'token string'}\n          href={example.externalValueUrl}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          {example.externalValueUrl}\n        </a>\n      </StyledPre>\n    );\n  }\n\n  return <ExampleValue value={value} mimeType={mimeType} />;\n}\n","import { useEffect, useRef, useState } from 'react';\nimport { ExampleModel } from '../../services/models/Example';\n\nexport function useExternalExample(example: ExampleModel, mimeType: string) {\n  const [, setIsLoading] = useState(true); // to trigger component reload\n\n  const value = useRef<any>(undefined);\n  const prevRef = useRef<ExampleModel | undefined>(undefined);\n\n  if (prevRef.current !== example) {\n    value.current = undefined;\n  }\n\n  prevRef.current = example;\n\n  useEffect(() => {\n    const load = async () => {\n      setIsLoading(true);\n      try {\n        value.current = await example.getExternalValue(mimeType);\n      } catch (e) {\n        value.current = e;\n      }\n      setIsLoading(false);\n    };\n\n    load();\n  }, [example, mimeType]);\n\n  return value.current;\n}\n","import { transparentize } from 'polished';\nimport styled from '../../styled-components';\nimport { StyledDropdown } from '../../common-elements';\n\nexport const MimeLabel = styled.div`\n  padding: 0.9em;\n  background-color: ${({ theme }) => transparentize(0.6, theme.rightPanel.backgroundColor)};\n  margin: 0 0 10px 0;\n  display: block;\n  font-family: ${({ theme }) => theme.typography.headings.fontFamily};\n  font-size: 0.929em;\n  line-height: 1.5em;\n`;\n\nexport const DropdownLabel = styled.span`\n  font-family: ${({ theme }) => theme.typography.headings.fontFamily};\n  font-size: 12px;\n  position: absolute;\n  z-index: 1;\n  top: -11px;\n  left: 12px;\n  font-weight: ${({ theme }) => theme.typography.fontWeightBold};\n  color: ${({ theme }) => transparentize(0.3, theme.rightPanel.textColor)};\n`;\n\nexport const DropdownWrapper = styled.div`\n  position: relative;\n`;\n\nexport const InvertedSimpleDropdown = styled(StyledDropdown)`\n  && {\n    margin-left: 10px;\n    text-transform: none;\n    font-size: 0.929em;\n    margin: 0 0 10px 0;\n    display: block;\n    background-color: ${({ theme }) => transparentize(0.6, theme.rightPanel.backgroundColor)};\n    font-size: 1em;\n    border: none;\n    padding: 0.9em 1.6em 0.9em 0.9em;\n    box-shadow: none;\n    &:hover,\n    &:focus-within {\n      border: none;\n      box-shadow: none;\n    }\n    &:focus-within {\n      background-color: ${({ theme }) => transparentize(0.3, theme.rightPanel.backgroundColor)};\n    }\n\n    .dropdown-arrow {\n      border-top-color: ${({ theme }) => theme.rightPanel.textColor};\n    }\n    .dropdown-selector-value {\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      overflow: hidden;\n      color: ${({ theme }) => theme.rightPanel.textColor};\n    }\n\n    .dropdown-selector-content {\n      margin: 0;\n      margin-top: 2px;\n      .dropdown-option {\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        overflow: hidden;\n      }\n    }\n  }\n`;\n\nexport const NoSampleLabel = styled.div`\n  font-family: ${props => props.theme.typography.code.fontFamily};\n  font-size: 12px;\n  color: #ee807f;\n`;\n","import * as React from 'react';\n\nimport styled from '../../styled-components';\n\nimport { DropdownProps } from '../../common-elements';\nimport { MediaTypeModel } from '../../services/models';\nimport { Markdown } from '../Markdown/Markdown';\nimport { Example } from './Example';\nimport { DropdownLabel, DropdownWrapper, NoSampleLabel } from './styled.elements';\n\nexport interface PayloadSamplesProps {\n  mediaType: MediaTypeModel;\n  renderDropdown: (props: DropdownProps) => JSX.Element;\n}\n\ninterface MediaTypeSamplesState {\n  activeIdx: number;\n}\n\nexport class MediaTypeSamples extends React.Component<PayloadSamplesProps, MediaTypeSamplesState> {\n  state = {\n    activeIdx: 0,\n  };\n  switchMedia = ({ idx }) => {\n    this.setState({\n      activeIdx: idx,\n    });\n  };\n  render() {\n    const { activeIdx } = this.state;\n    const examples = this.props.mediaType.examples || {};\n    const mimeType = this.props.mediaType.name;\n\n    const noSample = <NoSampleLabel>No sample</NoSampleLabel>;\n\n    const examplesNames = Object.keys(examples);\n    if (examplesNames.length === 0) {\n      return noSample;\n    }\n\n    if (examplesNames.length > 1) {\n      const options = examplesNames.map((name, idx) => {\n        return {\n          value: examples[name].summary || name,\n          idx,\n        };\n      });\n\n      const example = examples[examplesNames[activeIdx]];\n      const description = example.description;\n\n      return (\n        <SamplesWrapper>\n          <DropdownWrapper>\n            <DropdownLabel>Example</DropdownLabel>\n            {this.props.renderDropdown({\n              value: options[activeIdx].value,\n              options,\n              onChange: this.switchMedia,\n              ariaLabel: 'Example',\n            })}\n          </DropdownWrapper>\n          <div>\n            {description && <Markdown source={description} />}\n            <Example example={example} mimeType={mimeType} />\n          </div>\n        </SamplesWrapper>\n      );\n    } else {\n      const example = examples[examplesNames[0]];\n      return (\n        <SamplesWrapper>\n          {example.description && <Markdown source={example.description} />}\n          <Example example={example} mimeType={mimeType} />\n        </SamplesWrapper>\n      );\n    }\n  }\n}\n\nconst SamplesWrapper = styled.div`\n  margin-top: 15px;\n`;\n","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"mobx-react\");;","import { transparentize } from 'polished';\n\nimport styled, { extensionsHook } from '../styled-components';\nimport { PropertyNameCell } from './fields-layout';\nimport { ShelfIcon } from './shelfs';\n\nexport const ClickablePropertyNameCell = styled(PropertyNameCell)`\n  button {\n    background-color: transparent;\n    border: 0;\n    outline: 0;\n    font-size: 13px;\n    font-family: ${props => props.theme.typography.code.fontFamily};\n    cursor: pointer;\n    padding: 0;\n    color: ${props => props.theme.colors.text.primary};\n    &:focus {\n      font-weight: ${({ theme }) => theme.typography.fontWeightBold};\n    }\n  }\n  ${ShelfIcon} {\n    height: ${({ theme }) => theme.schema.arrow.size};\n    width: ${({ theme }) => theme.schema.arrow.size};\n    polygon {\n      fill: ${({ theme }) => theme.schema.arrow.color};\n    }\n  }\n`;\n\nexport const FieldLabel = styled.span`\n  vertical-align: middle;\n  font-size: ${({ theme }) => theme.typography.code.fontSize};\n  line-height: 20px;\n`;\n\nexport const TypePrefix = styled(FieldLabel)`\n  color: ${props => transparentize(0.1, props.theme.schema.typeNameColor)};\n`;\n\nexport const TypeName = styled(FieldLabel)`\n  color: ${props => props.theme.schema.typeNameColor};\n`;\n\nexport const TypeTitle = styled(FieldLabel)`\n  color: ${props => props.theme.schema.typeTitleColor};\n  word-break: break-word;\n`;\n\nexport const TypeFormat = TypeName;\n\nexport const RequiredLabel = styled(FieldLabel.withComponent('div'))`\n  color: ${props => props.theme.schema.requireLabelColor};\n  font-size: ${props => props.theme.schema.labelsTextSize};\n  font-weight: normal;\n  margin-left: 20px;\n  line-height: 1;\n`;\n\nexport const RecursiveLabel = styled(FieldLabel)`\n  color: ${({ theme }) => theme.colors.warning.main};\n  font-size: 13px;\n`;\n\nexport const PatternLabel = styled(FieldLabel)`\n  color: #0e7c86;\n  &::before,\n  &::after {\n    font-weight: bold;\n  }\n`;\n\nexport const ExampleValue = styled(FieldLabel)`\n  border-radius: 2px;\n  ${({ theme }) => `\n    background-color: ${transparentize(0.95, theme.colors.text.primary)};\n    color: ${transparentize(0.1, theme.colors.text.primary)};\n\n    padding: 0 ${theme.spacing.unit}px;\n    border: 1px solid ${transparentize(0.9, theme.colors.text.primary)};\n    font-family: ${theme.typography.code.fontFamily};\n}`};\n  & + & {\n    margin-left: 0;\n  }\n  ${extensionsHook('ExampleValue')};\n`;\n\nexport const ExtensionValue = styled(ExampleValue)``;\n\nexport const ConstraintItem = styled(FieldLabel)`\n  border-radius: 2px;\n  ${({ theme }) => `\n    background-color: ${transparentize(0.95, theme.colors.primary.light)};\n    color: ${transparentize(0.1, theme.colors.primary.main)};\n\n    margin: 0 ${theme.spacing.unit}px;\n    padding: 0 ${theme.spacing.unit}px;\n    border: 1px solid ${transparentize(0.9, theme.colors.primary.main)};\n}`};\n  & + & {\n    margin-left: 0;\n  }\n  ${extensionsHook('ConstraintItem')};\n`;\n\nexport const ToggleButton = styled.button`\n  background-color: transparent;\n  border: 0;\n  color: ${({ theme }) => theme.colors.text.secondary};\n  margin-left: ${({ theme }) => theme.spacing.unit}px;\n  border-radius: 2px;\n  cursor: pointer;\n  outline-color: ${({ theme }) => theme.colors.text.secondary};\n  font-size: 12px;\n`;\n","import { observer } from 'mobx-react';\nimport * as React from 'react';\nimport styled from '../../styled-components';\nimport { OpenAPIExternalDocumentation } from '../../types';\nimport { linksCss } from '../Markdown/styled.elements';\n\nconst LinkWrap = styled.div<{ compact?: boolean }>`\n  ${linksCss};\n  ${({ compact }) => (!compact ? 'margin: 1em 0' : '')}\n`;\n\n@observer\nexport class ExternalDocumentation extends React.Component<{\n  externalDocs: OpenAPIExternalDocumentation;\n  compact?: boolean;\n}> {\n  render() {\n    const { externalDocs } = this.props;\n    if (!externalDocs || !externalDocs.url) {\n      return null;\n    }\n\n    return (\n      <LinkWrap compact={this.props.compact}>\n        <a href={externalDocs.url}>{externalDocs.description || externalDocs.url}</a>\n      </LinkWrap>\n    );\n  }\n}\n","import * as React from 'react';\nimport { ExampleValue, FieldLabel } from '../../common-elements/fields';\n\nimport { l } from '../../services/Labels';\nimport { OptionsContext } from '../OptionsProvider';\nimport styled from '../../styled-components';\nimport { RedocRawOptions } from '../../services/RedocNormalizedOptions';\n\nexport interface EnumValuesProps {\n  values: string[];\n  isArrayType: boolean;\n}\n\nexport interface EnumValuesState {\n  collapsed: boolean;\n}\n\nexport class EnumValues extends React.PureComponent<EnumValuesProps, EnumValuesState> {\n  state: EnumValuesState = {\n    collapsed: true,\n  };\n\n  static contextType = OptionsContext;\n\n  private toggle() {\n    this.setState({ collapsed: !this.state.collapsed });\n  }\n\n  render() {\n    const { values, isArrayType } = this.props;\n    const { collapsed } = this.state;\n\n    // TODO: provide context interface in more elegant way\n    const { enumSkipQuotes, maxDisplayedEnumValues } = this.context as RedocRawOptions;\n\n    if (!values.length) {\n      return null;\n    }\n\n    const displayedItems =\n      this.state.collapsed && maxDisplayedEnumValues\n        ? values.slice(0, maxDisplayedEnumValues)\n        : values;\n\n    const showToggleButton = maxDisplayedEnumValues\n      ? values.length > maxDisplayedEnumValues\n      : false;\n\n    const toggleButtonText = maxDisplayedEnumValues\n      ? collapsed\n        ? `… ${values.length - maxDisplayedEnumValues} more`\n        : 'Hide'\n      : '';\n\n    return (\n      <div>\n        <FieldLabel>\n          {isArrayType ? l('enumArray') : ''}{' '}\n          {values.length === 1 ? l('enumSingleValue') : l('enum')}:\n        </FieldLabel>{' '}\n        {displayedItems.map((value, idx) => {\n          const exampleValue = enumSkipQuotes ? String(value) : JSON.stringify(value);\n          return (\n            <React.Fragment key={idx}>\n              <ExampleValue>{exampleValue}</ExampleValue>{' '}\n            </React.Fragment>\n          );\n        })}\n        {showToggleButton ? (\n          <ToggleButton\n            onClick={() => {\n              this.toggle();\n            }}\n          >\n            {toggleButtonText}\n          </ToggleButton>\n        ) : null}\n      </div>\n    );\n  }\n}\n\nconst ToggleButton = styled.span`\n  color: ${props => props.theme.colors.primary.main};\n  vertical-align: middle;\n  font-size: 13px;\n  line-height: 20px;\n  padding: 0 5px;\n  cursor: pointer;\n`;\n","import * as React from 'react';\n\nimport { ExtensionValue, FieldLabel } from '../../common-elements/fields';\n\nimport styled from '../../styled-components';\n\nimport { OptionsContext } from '../OptionsProvider';\n\nimport { StyledMarkdownBlock } from '../Markdown/styled.elements';\n\nconst Extension = styled(StyledMarkdownBlock)`\n  margin: 2px 0;\n`;\n\nexport interface ExtensionsProps {\n  extensions: {\n    [k: string]: any;\n  };\n}\n\nexport class Extensions extends React.PureComponent<ExtensionsProps> {\n  render() {\n    const exts = this.props.extensions;\n    return (\n      <OptionsContext.Consumer>\n        {options => (\n          <>\n            {options.showExtensions &&\n              Object.keys(exts).map(key => (\n                <Extension key={key}>\n                  <FieldLabel> {key.substring(2)}: </FieldLabel>{' '}\n                  <ExtensionValue>\n                    {typeof exts[key] === 'string' ? exts[key] : JSON.stringify(exts[key])}\n                  </ExtensionValue>\n                </Extension>\n              ))}\n          </>\n        )}\n      </OptionsContext.Consumer>\n    );\n  }\n}\n","import * as React from 'react';\n\nimport { FieldLabel, ExampleValue } from '../../common-elements/fields';\nimport { getSerializedValue } from '../../utils';\n\nimport { l } from '../../services/Labels';\nimport { FieldModel } from '../../services';\nimport styled from '../../styled-components';\n\nexport function Examples({ field }: { field: FieldModel }) {\n  if (!field.examples) {\n    return null;\n  }\n\n  return (\n    <>\n      <FieldLabel> {l('examples')}: </FieldLabel>\n      <ExamplesList>\n        {Object.values(field.examples).map((example, idx) => {\n          return (\n            <li key={idx}>\n              <ExampleValue>{getSerializedValue(field, example.value)}</ExampleValue> -{' '}\n              {example.summary || example.description}\n            </li>\n          );\n        })}\n      </ExamplesList>\n    </>\n  );\n}\n\nconst ExamplesList = styled.ul`\n  margin-top: 1em;\n  padding-left: 0;\n  list-style-position: inside;\n`;\n","import * as React from 'react';\nimport { ConstraintItem } from '../../common-elements/fields';\n\nexport interface ConstraintsViewProps {\n  constraints: string[];\n}\n\nexport class ConstraintsView extends React.PureComponent<ConstraintsViewProps> {\n  render() {\n    if (this.props.constraints.length === 0) {\n      return null;\n    }\n    return (\n      <span>\n        {' '}\n        {this.props.constraints.map(constraint => (\n          <ConstraintItem key={constraint}> {constraint} </ConstraintItem>\n        ))}\n      </span>\n    );\n  }\n}\n","import * as React from 'react';\nimport { ExampleValue, FieldLabel } from '../../common-elements/fields';\n\nexport interface FieldDetailProps {\n  value?: any;\n  label: string;\n  raw?: boolean;\n}\n\nfunction FieldDetailComponent({ value, label, raw }: FieldDetailProps) {\n  if (value === undefined) {\n    return null;\n  }\n\n  const stringifyValue = raw ? String(value) : JSON.stringify(value);\n\n  return (\n    <div>\n      <FieldLabel> {label} </FieldLabel> <ExampleValue>{stringifyValue}</ExampleValue>\n    </div>\n  );\n}\n\nexport const FieldDetail = React.memo<FieldDetailProps>(FieldDetailComponent);\n","import * as React from 'react';\nimport { PatternLabel, ToggleButton } from '../../common-elements/fields';\nimport { OptionsContext } from '../OptionsProvider';\nimport { SchemaModel } from '../../services';\n\nconst MAX_PATTERN_LENGTH = 45;\n\nexport function Pattern(props: { schema: SchemaModel }) {\n  const pattern = props.schema.pattern;\n  const { hideSchemaPattern } = React.useContext(OptionsContext);\n  const [isPatternShown, setIsPatternShown] = React.useState(false);\n  const togglePattern = React.useCallback(\n    () => setIsPatternShown(!isPatternShown),\n    [isPatternShown],\n  );\n\n  if (!pattern || hideSchemaPattern) return null;\n\n  return (\n    <>\n      <PatternLabel>\n        {isPatternShown || pattern.length < MAX_PATTERN_LENGTH\n          ? pattern\n          : `${pattern.substr(0, MAX_PATTERN_LENGTH)}...`}\n      </PatternLabel>\n      {pattern.length > MAX_PATTERN_LENGTH && (\n        <ToggleButton onClick={togglePattern}>\n          {isPatternShown ? 'Hide pattern' : 'Show pattern'}\n        </ToggleButton>\n      )}\n    </>\n  );\n}\n","import * as React from 'react';\nimport { TypeFormat, TypePrefix } from '../../common-elements/fields';\nimport { ConstraintsView } from './FieldContstraints';\nimport { Pattern } from './Pattern';\nimport { SchemaModel } from '../../services';\nimport styled from '../../styled-components';\n\nexport function ArrayItemDetails({ schema }: { schema: SchemaModel }) {\n  if (!schema || (schema.type === 'string' && !schema.constraints.length)) return null;\n\n  return (\n    <Wrapper>\n      [ items\n      {schema.displayFormat && <TypeFormat> &lt;{schema.displayFormat} &gt;</TypeFormat>}\n      <ConstraintsView constraints={schema.constraints} />\n      <Pattern schema={schema} />\n      {schema.items && <ArrayItemDetails schema={schema.items} />} ]\n    </Wrapper>\n  );\n}\n\nconst Wrapper = styled(TypePrefix)`\n  margin: 0 5px;\n  vertical-align: text-top;\n`;\n","import * as React from 'react';\n\nimport {\n  RecursiveLabel,\n  TypeFormat,\n  TypeName,\n  TypePrefix,\n  TypeTitle,\n} from '../../common-elements/fields';\nimport { getSerializedValue } from '../../utils';\nimport { ExternalDocumentation } from '../ExternalDocumentation/ExternalDocumentation';\nimport { Markdown } from '../Markdown/Markdown';\nimport { EnumValues } from './EnumValues';\nimport { Extensions } from './Extensions';\nimport { FieldProps } from './Field';\nimport { Examples } from './Examples';\nimport { ConstraintsView } from './FieldContstraints';\nimport { FieldDetail } from './FieldDetail';\n\nimport { Badge } from '../../common-elements/';\n\nimport { l } from '../../services/Labels';\nimport { OptionsContext } from '../OptionsProvider';\nimport { Pattern } from './Pattern';\nimport { ArrayItemDetails } from './ArrayItemDetails';\n\nfunction FieldDetailsComponent(props: FieldProps) {\n  const { enumSkipQuotes, hideSchemaTitles } = React.useContext(OptionsContext);\n\n  const { showExamples, field, renderDiscriminatorSwitch } = props;\n  const { schema, description, deprecated, extensions, in: _in, const: _const } = field;\n  const isArrayType = schema.type === 'array';\n\n  const rawDefault = enumSkipQuotes || _in === 'header'; // having quotes around header field default values is confusing and inappropriate\n\n  const renderedExamples = React.useMemo<JSX.Element | null>(() => {\n    if (showExamples && (field.example !== undefined || field.examples !== undefined)) {\n      if (field.examples !== undefined) {\n        return <Examples field={field} />;\n      } else {\n        return (\n          <FieldDetail\n            label={l('example') + ':'}\n            value={getSerializedValue(field, field.example)}\n            raw={Boolean(field.in)}\n          />\n        );\n      }\n    }\n\n    return null;\n  }, [field, showExamples]);\n\n  return (\n    <div>\n      <div>\n        <TypePrefix>{schema.typePrefix}</TypePrefix>\n        <TypeName>{schema.displayType}</TypeName>\n        {schema.displayFormat && (\n          <TypeFormat>\n            {' '}\n            &lt;\n            {schema.displayFormat}\n            &gt;{' '}\n          </TypeFormat>\n        )}\n        {schema.contentEncoding && (\n          <TypeFormat>\n            {' '}\n            &lt;\n            {schema.contentEncoding}\n            &gt;{' '}\n          </TypeFormat>\n        )}\n        {schema.contentMediaType && (\n          <TypeFormat>\n            {' '}\n            &lt;\n            {schema.contentMediaType}\n            &gt;{' '}\n          </TypeFormat>\n        )}\n        {schema.title && !hideSchemaTitles && <TypeTitle> ({schema.title}) </TypeTitle>}\n        <ConstraintsView constraints={schema.constraints} />\n        <Pattern schema={schema} />\n        {schema.isCircular && <RecursiveLabel> {l('recursive')} </RecursiveLabel>}\n        {isArrayType && schema.items && <ArrayItemDetails schema={schema.items} />}\n      </div>\n      {deprecated && (\n        <div>\n          <Badge type=\"warning\"> {l('deprecated')} </Badge>\n        </div>\n      )}\n      <FieldDetail raw={rawDefault} label={l('default') + ':'} value={schema.default} />\n      {!renderDiscriminatorSwitch && (\n        <EnumValues isArrayType={isArrayType} values={schema.enum} />\n      )}{' '}\n      {renderedExamples}\n      <Extensions extensions={{ ...extensions, ...schema.extensions }} />\n      <div>\n        <Markdown compact={true} source={description} />\n      </div>\n      {schema.externalDocs && (\n        <ExternalDocumentation externalDocs={schema.externalDocs} compact={true} />\n      )}\n      {(renderDiscriminatorSwitch && renderDiscriminatorSwitch(props)) || null}\n      {(_const && <FieldDetail label={l('const') + ':'} value={_const} />) || null}\n    </div>\n  );\n}\n\nexport const FieldDetails = React.memo<FieldProps>(FieldDetailsComponent);\n","import * as React from 'react';\n\nimport { Schema, SchemaProps } from './Schema';\n\nimport { ArrayClosingLabel, ArrayOpenningLabel } from '../../common-elements';\nimport styled from '../../styled-components';\nimport { humanizeConstraints } from '../../utils';\nimport { TypeName } from '../../common-elements/fields';\n\nconst PaddedSchema = styled.div`\n  padding-left: ${({ theme }) => theme.spacing.unit * 2}px;\n`;\n\nexport class ArraySchema extends React.PureComponent<SchemaProps> {\n  render() {\n    const schema = this.props.schema;\n    const itemsSchema = schema.items;\n\n    const minMaxItems =\n      schema.minItems === undefined && schema.maxItems === undefined\n        ? ''\n        : `(${humanizeConstraints(schema)})`;\n\n    if (schema.displayType && !itemsSchema && !minMaxItems.length) {\n      return (\n        <div>\n          <TypeName>{schema.displayType}</TypeName>\n        </div>\n      );\n    }\n\n    return (\n      <div>\n        <ArrayOpenningLabel> Array {minMaxItems}</ArrayOpenningLabel>\n        <PaddedSchema>\n          <Schema {...this.props} schema={itemsSchema} />\n        </PaddedSchema>\n        <ArrayClosingLabel />\n      </div>\n    );\n  }\n}\n","import { observer } from 'mobx-react';\nimport * as React from 'react';\n\nimport { ClickablePropertyNameCell, RequiredLabel } from '../../common-elements/fields';\nimport { FieldDetails } from './FieldDetails';\n\nimport {\n  InnerPropertiesWrap,\n  PropertyBullet,\n  PropertyCellWithInner,\n  PropertyDetailsCell,\n  PropertyNameCell,\n} from '../../common-elements/fields-layout';\n\nimport { ShelfIcon } from '../../common-elements/';\n\nimport { FieldModel } from '../../services/models';\nimport { Schema, SchemaOptions } from '../Schema/Schema';\n\nexport interface FieldProps extends SchemaOptions {\n  className?: string;\n  isLast?: boolean;\n  showExamples?: boolean;\n\n  field: FieldModel;\n  expandByDefault?: boolean;\n\n  renderDiscriminatorSwitch?: (opts: FieldProps) => JSX.Element;\n}\n\n@observer\nexport class Field extends React.Component<FieldProps> {\n  toggle = () => {\n    if (this.props.field.expanded === undefined && this.props.expandByDefault) {\n      this.props.field.collapse();\n    } else {\n      this.props.field.toggle();\n    }\n  };\n\n  handleKeyPress = e => {\n    if (e.key === 'Enter') {\n      e.preventDefault();\n      this.toggle();\n    }\n  };\n\n  render() {\n    const { className, field, isLast, expandByDefault } = this.props;\n    const { name, deprecated, required, kind } = field;\n    const withSubSchema = !field.schema.isPrimitive && !field.schema.isCircular;\n\n    const expanded = field.expanded === undefined ? expandByDefault : field.expanded;\n\n    const paramName = withSubSchema ? (\n      <ClickablePropertyNameCell\n        className={deprecated ? 'deprecated' : ''}\n        kind={kind}\n        title={name}\n      >\n        <PropertyBullet />\n        <button\n          onClick={this.toggle}\n          onKeyPress={this.handleKeyPress}\n          aria-label=\"expand properties\"\n        >\n          <span>{name}</span>\n          <ShelfIcon direction={expanded ? 'down' : 'right'} />\n        </button>\n        {required && <RequiredLabel> required </RequiredLabel>}\n      </ClickablePropertyNameCell>\n    ) : (\n      <PropertyNameCell className={deprecated ? 'deprecated' : undefined} kind={kind} title={name}>\n        <PropertyBullet />\n        <span>{name}</span>\n        {required && <RequiredLabel> required </RequiredLabel>}\n      </PropertyNameCell>\n    );\n\n    return (\n      <>\n        <tr className={isLast ? 'last ' + className : className}>\n          {paramName}\n          <PropertyDetailsCell>\n            <FieldDetails {...this.props} />\n          </PropertyDetailsCell>\n        </tr>\n        {expanded && withSubSchema && (\n          <tr key={field.name + 'inner'}>\n            <PropertyCellWithInner colSpan={2}>\n              <InnerPropertiesWrap>\n                <Schema\n                  schema={field.schema}\n                  skipReadOnly={this.props.skipReadOnly}\n                  skipWriteOnly={this.props.skipWriteOnly}\n                  showTitle={this.props.showTitle}\n                  level={this.props.level}\n                />\n              </InnerPropertiesWrap>\n            </PropertyCellWithInner>\n          </tr>\n        )}\n      </>\n    );\n  }\n}\n","import { observer } from 'mobx-react';\nimport * as React from 'react';\n\nimport { DropdownOption, StyledDropdown } from '../../common-elements/dropdown';\nimport { SchemaModel } from '../../services/models';\n\n@observer\nexport class DiscriminatorDropdown extends React.Component<{\n  parent: SchemaModel;\n  enumValues: string[];\n}> {\n  sortOptions(options: DropdownOption[], enumValues: string[]): void {\n    if (enumValues.length === 0) {\n      return;\n    }\n\n    const enumOrder = {};\n\n    enumValues.forEach((enumItem, idx) => {\n      enumOrder[enumItem] = idx;\n    });\n\n    options.sort((a, b) => {\n      return enumOrder[a.value] > enumOrder[b.value] ? 1 : -1;\n    });\n  }\n\n  render() {\n    const { parent, enumValues } = this.props;\n    if (parent.oneOf === undefined) {\n      return null;\n    }\n\n    const options = parent.oneOf.map((subSchema, idx) => {\n      return {\n        value: subSchema.title,\n        idx,\n      };\n    });\n\n    const activeValue = options[parent.activeOneOf].value;\n\n    this.sortOptions(options, enumValues);\n\n    return (\n      <StyledDropdown\n        value={activeValue}\n        options={options}\n        onChange={this.changeActiveChild}\n        ariaLabel=\"Example\"\n      />\n    );\n  }\n\n  changeActiveChild = (option: DropdownOption) => {\n    this.props.parent.activateOneOf(option.idx);\n  };\n}\n","import { observer } from 'mobx-react';\nimport * as React from 'react';\n\nimport { SchemaModel } from '../../services/models';\n\nimport { PropertiesTable, PropertiesTableCaption } from '../../common-elements/fields-layout';\nimport { Field } from '../Fields/Field';\nimport { DiscriminatorDropdown } from './DiscriminatorDropdown';\nimport { SchemaProps } from './Schema';\n\nimport { mapWithLast } from '../../utils';\nimport { OptionsContext } from '../OptionsProvider';\n\nexport interface ObjectSchemaProps extends SchemaProps {\n  discriminator?: {\n    fieldName: string;\n    parentSchema: SchemaModel;\n  };\n}\n\nexport const ObjectSchema = observer(\n  ({\n    schema: { fields = [], title },\n    showTitle,\n    discriminator,\n    skipReadOnly,\n    skipWriteOnly,\n    level,\n  }: ObjectSchemaProps) => {\n    const { expandSingleSchemaField, showObjectSchemaExamples, schemaExpansionLevel } =\n      React.useContext(OptionsContext);\n\n    const filteredFields = React.useMemo(\n      () =>\n        skipReadOnly || skipWriteOnly\n          ? fields.filter(\n              item =>\n                !(\n                  (skipReadOnly && item.schema.readOnly) ||\n                  (skipWriteOnly && item.schema.writeOnly)\n                ),\n            )\n          : fields,\n      [skipReadOnly, skipWriteOnly, fields],\n    );\n\n    const expandByDefault =\n      (expandSingleSchemaField && filteredFields.length === 1) || schemaExpansionLevel >= level!;\n\n    return (\n      <PropertiesTable>\n        {showTitle && <PropertiesTableCaption>{title}</PropertiesTableCaption>}\n        <tbody>\n          {mapWithLast(filteredFields, (field, isLast) => {\n            return (\n              <Field\n                key={field.name}\n                isLast={isLast}\n                field={field}\n                expandByDefault={expandByDefault}\n                renderDiscriminatorSwitch={\n                  discriminator?.fieldName === field.name\n                    ? () => (\n                        <DiscriminatorDropdown\n                          parent={discriminator!.parentSchema}\n                          enumValues={field.schema.enum}\n                        />\n                      )\n                    : undefined\n                }\n                className={field.expanded ? 'expanded' : undefined}\n                showExamples={showObjectSchemaExamples}\n                skipReadOnly={skipReadOnly}\n                skipWriteOnly={skipWriteOnly}\n                showTitle={showTitle}\n                level={level}\n              />\n            );\n          })}\n        </tbody>\n      </PropertiesTable>\n    );\n  },\n);\n","import { observer } from 'mobx-react';\nimport * as React from 'react';\n\nimport {\n  OneOfButton as StyledOneOfButton,\n  OneOfLabel,\n  OneOfList,\n} from '../../common-elements/schema';\nimport { Badge } from '../../common-elements/shelfs';\nimport { SchemaModel } from '../../services/models';\nimport { Schema, SchemaProps } from './Schema';\n\nexport interface OneOfButtonProps {\n  subSchema: SchemaModel;\n  idx: number;\n  schema: SchemaModel;\n}\n\n@observer\nexport class OneOfButton extends React.Component<OneOfButtonProps> {\n  render() {\n    const { idx, schema, subSchema } = this.props;\n    return (\n      <StyledOneOfButton\n        deprecated={subSchema.deprecated}\n        active={idx === schema.activeOneOf}\n        onClick={this.activateOneOf}\n      >\n        {subSchema.title || subSchema.typePrefix + subSchema.displayType}\n      </StyledOneOfButton>\n    );\n  }\n\n  activateOneOf = () => {\n    this.props.schema.activateOneOf(this.props.idx);\n  };\n}\n\n@observer\nexport class OneOfSchema extends React.Component<SchemaProps> {\n  render() {\n    const {\n      schema: { oneOf },\n      schema,\n    } = this.props;\n\n    if (oneOf === undefined) {\n      return null;\n    }\n    return (\n      <div>\n        <OneOfLabel> {schema.oneOfType} </OneOfLabel>\n        <OneOfList>\n          {oneOf.map((subSchema, idx) => (\n            <OneOfButton key={subSchema.pointer} schema={schema} subSchema={subSchema} idx={idx} />\n          ))}\n        </OneOfList>\n        <div>\n          {oneOf[schema.activeOneOf].deprecated && <Badge type=\"warning\">Deprecated</Badge>}\n        </div>\n        <Schema {...this.props} schema={oneOf[schema.activeOneOf]} />\n      </div>\n    );\n  }\n}\n","import { observer } from 'mobx-react';\nimport * as React from 'react';\n\nimport { RecursiveLabel, TypeName, TypeTitle } from '../../common-elements/fields';\nimport { FieldDetails } from '../Fields/FieldDetails';\n\nimport { FieldModel, SchemaModel } from '../../services/models';\n\nimport { ArraySchema } from './ArraySchema';\nimport { ObjectSchema } from './ObjectSchema';\nimport { OneOfSchema } from './OneOfSchema';\n\nimport { l } from '../../services/Labels';\n\nexport interface SchemaOptions {\n  showTitle?: boolean;\n  skipReadOnly?: boolean;\n  skipWriteOnly?: boolean;\n  level?: number;\n}\n\nexport interface SchemaProps extends SchemaOptions {\n  schema: SchemaModel;\n}\n\n@observer\nexport class Schema extends React.Component<Partial<SchemaProps>> {\n  render() {\n    const { schema, ...rest } = this.props;\n    const level = (rest.level || 0) + 1;\n\n    if (!schema) {\n      return <em> Schema not provided </em>;\n    }\n    const { type, oneOf, discriminatorProp, isCircular } = schema;\n\n    if (isCircular) {\n      return (\n        <div>\n          <TypeName>{schema.displayType}</TypeName>\n          {schema.title && <TypeTitle> {schema.title} </TypeTitle>}\n          <RecursiveLabel> {l('recursive')} </RecursiveLabel>\n        </div>\n      );\n    }\n\n    if (discriminatorProp !== undefined) {\n      if (!oneOf || !oneOf.length) {\n        console.warn(\n          `Looks like you are using discriminator wrong: you don't have any definition inherited from the ${schema.title}`,\n        );\n        return null;\n      }\n      return (\n        <ObjectSchema\n          {...rest}\n          level={level}\n          schema={oneOf![schema.activeOneOf]}\n          discriminator={{\n            fieldName: discriminatorProp,\n            parentSchema: schema,\n          }}\n        />\n      );\n    }\n\n    if (oneOf !== undefined) {\n      return <OneOfSchema schema={schema} {...rest} />;\n    }\n\n    const types = Array.isArray(type) ? type : [type];\n    if (types.includes('object')) {\n      if (schema.fields?.length) {\n        return <ObjectSchema {...(this.props as any)} level={level} />;\n      }\n    } else if (types.includes('array')) {\n      return <ArraySchema {...(this.props as any)} level={level} />;\n    }\n\n    // TODO: maybe adjust FieldDetails to accept schema\n    const field = {\n      schema,\n      name: '',\n      required: false,\n      description: schema.description,\n      externalDocs: schema.externalDocs,\n      deprecated: false,\n      toggle: () => null,\n      expanded: false,\n    } as any as FieldModel; // cast needed for hot-loader to not fail\n\n    return (\n      <div>\n        <FieldDetails field={field} />\n      </div>\n    );\n  }\n}\n","import * as React from 'react';\n\nimport { DarkRightPanel, MiddlePanel, MimeLabel, Row, Section } from '../../common-elements';\nimport { MediaTypeModel, OpenAPIParser, RedocNormalizedOptions } from '../../services';\nimport styled from '../../styled-components';\nimport { OpenAPIMediaType } from '../../types';\nimport { DropdownOrLabel } from '../DropdownOrLabel/DropdownOrLabel';\nimport { MediaTypeSamples } from '../PayloadSamples/MediaTypeSamples';\nimport { InvertedSimpleDropdown } from '../PayloadSamples/styled.elements';\nimport { Schema } from '../Schema';\n\nexport interface ObjectDescriptionProps {\n  schemaRef: string;\n  exampleRef?: string;\n  showReadOnly?: boolean;\n  showWriteOnly?: boolean;\n  parser: OpenAPIParser;\n  options: RedocNormalizedOptions;\n}\n\nexport class SchemaDefinition extends React.PureComponent<ObjectDescriptionProps> {\n  private static getMediaType(schemaRef: string, exampleRef?: string): OpenAPIMediaType {\n    if (!schemaRef) {\n      return {};\n    }\n\n    const info: OpenAPIMediaType = {\n      schema: { $ref: schemaRef },\n    };\n\n    if (exampleRef) {\n      info.examples = { example: { $ref: exampleRef } };\n    }\n\n    return info;\n  }\n\n  private _mediaModel: MediaTypeModel;\n\n  private get mediaModel() {\n    const { parser, schemaRef, exampleRef, options } = this.props;\n    if (!this._mediaModel) {\n      this._mediaModel = new MediaTypeModel(\n        parser,\n        'json',\n        false,\n        SchemaDefinition.getMediaType(schemaRef, exampleRef),\n        options,\n      );\n    }\n\n    return this._mediaModel;\n  }\n\n  render() {\n    const { showReadOnly = true, showWriteOnly = false } = this.props;\n    return (\n      <Section>\n        <Row>\n          <MiddlePanel>\n            <Schema\n              skipWriteOnly={!showWriteOnly}\n              skipReadOnly={!showReadOnly}\n              schema={this.mediaModel.schema}\n            />\n          </MiddlePanel>\n          <DarkRightPanel>\n            <MediaSamplesWrap>\n              <MediaTypeSamples renderDropdown={this.renderDropdown} mediaType={this.mediaModel} />\n            </MediaSamplesWrap>\n          </DarkRightPanel>\n        </Row>\n      </Section>\n    );\n  }\n\n  private renderDropdown = props => {\n    return <DropdownOrLabel Label={MimeLabel} Dropdown={InvertedSimpleDropdown} {...props} />;\n  };\n}\n\nconst MediaSamplesWrap = styled.div`\n  background: ${({ theme }) => theme.codeBlock.backgroundColor};\n  & > div,\n  & > pre {\n    padding: ${props => props.theme.spacing.unit * 4}px;\n    margin: 0;\n  }\n\n  & > div > pre {\n    padding: 0;\n  }\n`;\n","import * as React from 'react';\n\nimport { SecuritySchemesModel } from '../../services/models';\n\nimport { H2, MiddlePanel, Row, Section, ShareLink } from '../../common-elements';\nimport { OpenAPISecurityScheme } from '../../types';\nimport { titleize } from '../../utils/helpers';\nimport { Markdown } from '../Markdown/Markdown';\nimport { StyledMarkdownBlock } from '../Markdown/styled.elements';\n\nconst AUTH_TYPES = {\n  oauth2: 'OAuth2',\n  apiKey: 'API Key',\n  http: 'HTTP',\n  openIdConnect: 'OpenID Connect',\n};\n\nexport interface OAuthFlowProps {\n  type: string;\n  flow: OpenAPISecurityScheme['flows'][keyof OpenAPISecurityScheme['flows']];\n}\n\nexport class OAuthFlow extends React.PureComponent<OAuthFlowProps> {\n  render() {\n    const { type, flow } = this.props;\n    return (\n      <tr>\n        <th> {type} OAuth Flow </th>\n        <td>\n          {type === 'implicit' || type === 'authorizationCode' ? (\n            <div>\n              <strong> Authorization URL: </strong>\n              {(flow as any).authorizationUrl}\n            </div>\n          ) : null}\n          {type === 'password' || type === 'clientCredentials' || type === 'authorizationCode' ? (\n            <div>\n              <strong> Token URL: </strong>\n              {(flow as any).tokenUrl}\n            </div>\n          ) : null}\n          {flow!.refreshUrl && (\n            <div>\n              <strong> Refresh URL: </strong>\n              {flow!.refreshUrl}\n            </div>\n          )}\n          <div>\n            <strong> Scopes: </strong>\n          </div>\n          <ul>\n            {Object.keys(flow!.scopes || {}).map(scope => (\n              <li key={scope}>\n                <code>{scope}</code> - <Markdown inline={true} source={flow!.scopes[scope] || ''} />\n              </li>\n            ))}\n          </ul>\n        </td>\n      </tr>\n    );\n  }\n}\n\nexport interface SecurityDefsProps {\n  securitySchemes: SecuritySchemesModel;\n}\n\nexport class SecurityDefs extends React.PureComponent<SecurityDefsProps> {\n  render() {\n    return this.props.securitySchemes.schemes.map(scheme => (\n      <Section id={scheme.sectionId} key={scheme.id}>\n        <Row>\n          <MiddlePanel>\n            <H2>\n              <ShareLink to={scheme.sectionId} />\n              {scheme.displayName}\n            </H2>\n            <Markdown source={scheme.description || ''} />\n            <StyledMarkdownBlock>\n              <table className=\"security-details\">\n                <tbody>\n                  <tr>\n                    <th> Security Scheme Type </th>\n                    <td> {AUTH_TYPES[scheme.type] || scheme.type} </td>\n                  </tr>\n                  {scheme.apiKey ? (\n                    <tr>\n                      <th> {titleize(scheme.apiKey.in || '')} parameter name:</th>\n                      <td> {scheme.apiKey.name} </td>\n                    </tr>\n                  ) : scheme.http ? (\n                    [\n                      <tr key=\"scheme\">\n                        <th> HTTP Authorization Scheme </th>\n                        <td> {scheme.http.scheme} </td>\n                      </tr>,\n                      scheme.http.scheme === 'bearer' && scheme.http.bearerFormat && (\n                        <tr key=\"bearer\">\n                          <th> Bearer format </th>\n                          <td> &quot;{scheme.http.bearerFormat}&quot; </td>\n                        </tr>\n                      ),\n                    ]\n                  ) : scheme.openId ? (\n                    <tr>\n                      <th> Connect URL </th>\n                      <td>\n                        <a\n                          target=\"_blank\"\n                          rel=\"noopener noreferrer\"\n                          href={scheme.openId.connectUrl}\n                        >\n                          {scheme.openId.connectUrl}\n                        </a>\n                      </td>\n                    </tr>\n                  ) : scheme.flows ? (\n                    Object.keys(scheme.flows).map(type => (\n                      <OAuthFlow key={type} type={type} flow={scheme.flows[type]} />\n                    ))\n                  ) : null}\n                </tbody>\n              </table>\n            </StyledMarkdownBlock>\n          </MiddlePanel>\n        </Row>\n      </Section>\n    ));\n  }\n}\n","import { Lambda, observe } from 'mobx';\n\nimport { OpenAPISpec } from '../types';\nimport { loadAndBundleSpec } from '../utils/loadAndBundleSpec';\nimport { history } from './HistoryService';\nimport { MarkerService } from './MarkerService';\nimport { MenuStore } from './MenuStore';\nimport { SpecStore } from './models';\nimport { RedocNormalizedOptions, RedocRawOptions } from './RedocNormalizedOptions';\nimport { ScrollService } from './ScrollService';\nimport { SearchStore } from './SearchStore';\n\nimport { SchemaDefinition } from '../components/SchemaDefinition/SchemaDefinition';\nimport { SecurityDefs } from '../components/SecuritySchemes/SecuritySchemes';\nimport {\n  SCHEMA_DEFINITION_JSX_NAME,\n  SECURITY_DEFINITIONS_COMPONENT_NAME,\n  SECURITY_DEFINITIONS_JSX_NAME,\n} from '../utils/openapi';\n\nimport { IS_BROWSER } from '../utils';\n\nexport interface StoreState {\n  menu: {\n    activeItemIdx: number;\n  };\n  spec: {\n    url?: string;\n    data: any;\n  };\n  searchIndex: any;\n  options: RedocRawOptions;\n}\n\nexport async function createStore(\n  spec: object,\n  specUrl: string | undefined,\n  options: RedocRawOptions = {},\n) {\n  const resolvedSpec = await loadAndBundleSpec(spec || specUrl);\n  return new AppStore(resolvedSpec, specUrl, options);\n}\n\nexport class AppStore {\n  /**\n   * deserialize store\n   * **SUPER HACKY AND NOT OPTIMAL IMPLEMENTATION**\n   */\n  // TODO:\n  static fromJS(state: StoreState): AppStore {\n    const inst = new AppStore(state.spec.data, state.spec.url, state.options, false);\n    inst.menu.activeItemIdx = state.menu.activeItemIdx || 0;\n    inst.menu.activate(inst.menu.flatItems[inst.menu.activeItemIdx]);\n    if (!inst.options.disableSearch) {\n      inst.search!.load(state.searchIndex);\n    }\n    return inst;\n  }\n\n  menu: MenuStore;\n  spec: SpecStore;\n  rawOptions: RedocRawOptions;\n  options: RedocNormalizedOptions;\n  search?: SearchStore<string>;\n  marker = new MarkerService();\n\n  private scroll: ScrollService;\n  private disposer: Lambda | null = null;\n\n  constructor(\n    spec: OpenAPISpec,\n    specUrl?: string,\n    options: RedocRawOptions = {},\n    createSearchIndex: boolean = true,\n  ) {\n    this.rawOptions = options;\n    this.options = new RedocNormalizedOptions(options, DEFAULT_OPTIONS);\n    this.scroll = new ScrollService(this.options);\n\n    // update position statically based on hash (in case of SSR)\n    MenuStore.updateOnHistory(history.currentId, this.scroll);\n\n    this.spec = new SpecStore(spec, specUrl, this.options);\n    this.menu = new MenuStore(this.spec, this.scroll, history);\n\n    if (!this.options.disableSearch) {\n      this.search = new SearchStore();\n      if (createSearchIndex) {\n        this.search.indexItems(this.menu.items);\n      }\n\n      this.disposer = observe(this.menu, 'activeItemIdx', change => {\n        this.updateMarkOnMenu(change.newValue as number);\n      });\n    }\n  }\n\n  onDidMount() {\n    this.menu.updateOnHistory();\n    this.updateMarkOnMenu(this.menu.activeItemIdx);\n  }\n\n  dispose() {\n    this.scroll.dispose();\n    this.menu.dispose();\n    if (this.search) {\n      this.search.dispose();\n    }\n    if (this.disposer != null) {\n      this.disposer();\n    }\n  }\n\n  /**\n   * serializes store\n   * **SUPER HACKY AND NOT OPTIMAL IMPLEMENTATION**\n   */\n  // TODO: improve\n  async toJS(): Promise<StoreState> {\n    return {\n      menu: {\n        activeItemIdx: this.menu.activeItemIdx,\n      },\n      spec: {\n        url: this.spec.parser.specUrl,\n        data: this.spec.parser.spec,\n      },\n      searchIndex: this.search ? await this.search.toJS() : undefined,\n      options: this.rawOptions,\n    };\n  }\n\n  private updateMarkOnMenu(idx: number) {\n    const start = Math.max(0, idx);\n    const end = Math.min(this.menu.flatItems.length, start + 5);\n\n    const elements: Element[] = [];\n    for (let i = start; i < end; i++) {\n      const elem = this.menu.getElementAt(i);\n      if (!elem) {\n        continue;\n      }\n      elements.push(elem);\n    }\n\n    if (idx === -1 && IS_BROWSER) {\n      const $description = document.querySelector('[data-role=\"redoc-description\"]');\n      const $summary = document.querySelector('[data-role=\"redoc-summary\"]');\n\n      if ($description) elements.push($description);\n      if ($summary) elements.push($summary);\n    }\n\n    this.marker.addOnly(elements);\n    this.marker.mark();\n  }\n}\n\nconst DEFAULT_OPTIONS: RedocRawOptions = {\n  allowedMdComponents: {\n    [SECURITY_DEFINITIONS_COMPONENT_NAME]: {\n      component: SecurityDefs,\n      propsSelector: (store: AppStore) => ({\n        securitySchemes: store.spec.securitySchemes,\n      }),\n    },\n    [SECURITY_DEFINITIONS_JSX_NAME]: {\n      component: SecurityDefs,\n      propsSelector: (store: AppStore) => ({\n        securitySchemes: store.spec.securitySchemes,\n      }),\n    },\n    [SCHEMA_DEFINITION_JSX_NAME]: {\n      component: SchemaDefinition,\n      propsSelector: (store: AppStore) => ({\n        parser: store.spec.parser,\n        options: store.options,\n      }),\n    },\n  },\n};\n","import { H1, MiddlePanel } from '../../common-elements';\nimport styled, { extensionsHook } from '../../styled-components';\n\nconst delimiterWidth = 15;\n\nexport const ApiInfoWrap = MiddlePanel;\n\nexport const ApiHeader = styled(H1)`\n  margin-top: 0;\n  margin-bottom: 0.5em;\n\n  ${extensionsHook('ApiHeader')};\n`;\n\nexport const DownloadButton = styled.a`\n  border: 1px solid ${props => props.theme.colors.primary.main};\n  color: ${props => props.theme.colors.primary.main};\n  font-weight: normal;\n  margin-left: 0.5em;\n  padding: 4px 8px 4px;\n  display: inline-block;\n  text-decoration: none;\n  cursor: pointer;\n\n  ${extensionsHook('DownloadButton')};\n`;\n\nexport const InfoSpan = styled.span`\n  &::before {\n    content: '|';\n    display: inline-block;\n    opacity: 0.5;\n    width: ${delimiterWidth}px;\n    text-align: center;\n  }\n\n  &:last-child::after {\n    display: none;\n  }\n`;\n\nexport const InfoSpanBoxWrap = styled.div`\n  overflow: hidden;\n`;\n\nexport const InfoSpanBox = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  // hide separator on new lines: idea from https://stackoverflow.com/a/31732902/1749888\n  margin-left: -${delimiterWidth}px;\n`;\n","import { observer } from 'mobx-react';\nimport * as React from 'react';\n\nimport { AppStore } from '../../services/AppStore';\n\nimport { MiddlePanel, Row, Section } from '../../common-elements/';\nimport { ExternalDocumentation } from '../ExternalDocumentation/ExternalDocumentation';\nimport { Markdown } from '../Markdown/Markdown';\nimport { StyledMarkdownBlock } from '../Markdown/styled.elements';\nimport {\n  ApiHeader,\n  DownloadButton,\n  InfoSpan,\n  InfoSpanBox,\n  InfoSpanBoxWrap,\n} from './styled.elements';\nimport { l } from '../../services/Labels';\n\nexport interface ApiInfoProps {\n  store: AppStore;\n}\n\n@observer\nexport class ApiInfo extends React.Component<ApiInfoProps> {\n  handleDownloadClick = e => {\n    if (!e.target.href) {\n      e.target.href = this.props.store.spec.info.downloadLink;\n    }\n  };\n\n  render() {\n    const { store } = this.props;\n    const { info, externalDocs } = store.spec;\n    const hideDownloadButton = store.options.hideDownloadButton;\n\n    const downloadFilename = info.downloadFileName;\n    const downloadLink = info.downloadLink;\n\n    const license =\n      (info.license && (\n        <InfoSpan>\n          License:{' '}\n          {info.license.identifier ? (\n            info.license.identifier\n          ) : (\n            <a href={info.license.url}>{info.license.name}</a>\n          )}\n        </InfoSpan>\n      )) ||\n      null;\n\n    const website =\n      (info.contact && info.contact.url && (\n        <InfoSpan>\n          URL: <a href={info.contact.url}>{info.contact.url}</a>\n        </InfoSpan>\n      )) ||\n      null;\n\n    const email =\n      (info.contact && info.contact.email && (\n        <InfoSpan>\n          {info.contact.name || 'E-mail'}:{' '}\n          <a href={'mailto:' + info.contact.email}>{info.contact.email}</a>\n        </InfoSpan>\n      )) ||\n      null;\n\n    const terms =\n      (info.termsOfService && (\n        <InfoSpan>\n          <a href={info.termsOfService}>Terms of Service</a>\n        </InfoSpan>\n      )) ||\n      null;\n\n    const version = (info.version && <span>({info.version})</span>) || null;\n\n    return (\n      <Section>\n        <Row>\n          <MiddlePanel className=\"api-info\">\n            <ApiHeader>\n              {info.title} {version}\n            </ApiHeader>\n            {!hideDownloadButton && (\n              <p>\n                {l('downloadSpecification')}:\n                <DownloadButton\n                  download={downloadFilename || true}\n                  target=\"_blank\"\n                  href={downloadLink}\n                  onClick={this.handleDownloadClick}\n                >\n                  {l('download')}\n                </DownloadButton>\n              </p>\n            )}\n            <StyledMarkdownBlock>\n              {((info.license || info.contact || info.termsOfService) && (\n                <InfoSpanBoxWrap>\n                  <InfoSpanBox>\n                    {email} {website} {license} {terms}\n                  </InfoSpanBox>\n                </InfoSpanBoxWrap>\n              )) ||\n                null}\n            </StyledMarkdownBlock>\n            <Markdown source={store.spec.info.summary} data-role=\"redoc-summary\" />\n            <Markdown source={store.spec.info.description} data-role=\"redoc-description\" />\n            {externalDocs && <ExternalDocumentation externalDocs={externalDocs} />}\n          </MiddlePanel>\n        </Row>\n      </Section>\n    );\n  }\n}\n","import * as React from 'react';\nimport styled from '../../styled-components';\n\nexport const LogoImgEl = styled.img`\n  max-height: ${props => props.theme.logo.maxHeight};\n  max-width: ${props => props.theme.logo.maxWidth};\n  padding: ${props => props.theme.logo.gutter};\n  width: 100%;\n  display: block;\n`;\n\nexport const LogoWrap = styled.div`\n  text-align: center;\n`;\n\nconst Link = styled.a`\n  display: inline-block;\n`;\n\n// eslint-disable-next-line react/display-name\nexport const LinkWrap = url => Component => <Link href={url}>{Component}</Link>;\n","import { observer } from 'mobx-react';\nimport * as React from 'react';\nimport { OpenAPIInfo } from '../../types';\nimport { LinkWrap, LogoImgEl, LogoWrap } from './styled.elements';\n\n@observer\nexport class ApiLogo extends React.Component<{ info: OpenAPIInfo }> {\n  render() {\n    const { info } = this.props;\n    const logoInfo = info['x-logo'];\n    if (!logoInfo || !logoInfo.url) {\n      return null;\n    }\n\n    const logoHref = logoInfo.href || (info.contact && info.contact.url);\n\n    // Use the english word logo if no alt text is provided\n    const altText = logoInfo.altText ? logoInfo.altText : 'logo';\n\n    const logo = <LogoImgEl src={logoInfo.url} alt={altText} />;\n    return (\n      <LogoWrap style={{ backgroundColor: logoInfo.backgroundColor }}>\n        {logoHref ? LinkWrap(logoHref)(logo) : logo}\n      </LogoWrap>\n    );\n  }\n}\n","import * as React from 'react';\n\nimport { AppStore, MarkdownRenderer, RedocNormalizedOptions } from '../../services';\nimport { BaseMarkdownProps } from './Markdown';\nimport { SanitizedMarkdownHTML } from './SanitizedMdBlock';\n\nimport { OptionsConsumer } from '../OptionsProvider';\nimport { StoreConsumer } from '../StoreBuilder';\n\nexport interface AdvancedMarkdownProps extends BaseMarkdownProps {\n  htmlWrap?: (part: JSX.Element) => JSX.Element;\n}\n\nexport class AdvancedMarkdown extends React.Component<AdvancedMarkdownProps> {\n  render() {\n    return (\n      <OptionsConsumer>\n        {options => (\n          <StoreConsumer>{store => this.renderWithOptionsAndStore(options, store)}</StoreConsumer>\n        )}\n      </OptionsConsumer>\n    );\n  }\n\n  renderWithOptionsAndStore(options: RedocNormalizedOptions, store?: AppStore) {\n    const { source, htmlWrap = i => i } = this.props;\n    if (!store) {\n      throw new Error('When using components in markdown, store prop must be provided');\n    }\n\n    const renderer = new MarkdownRenderer(options);\n    const parts = renderer.renderMdWithComponents(source);\n\n    if (!parts.length) {\n      return null;\n    }\n\n    return parts.map((part, idx) => {\n      if (typeof part === 'string') {\n        return React.cloneElement(\n          htmlWrap(<SanitizedMarkdownHTML html={part} inline={false} compact={false} />),\n          { key: idx },\n        );\n      }\n      return <part.component key={idx} {...{ ...part.props, ...part.propsSelector(store) }} />;\n    });\n  }\n}\n","var __WEBPACK_NAMESPACE_OBJECT__ = require(\"classnames\");;","import { default as classnames } from 'classnames';\nimport { darken } from 'polished';\n\nimport { deprecatedCss, ShelfIcon } from '../../common-elements';\nimport styled, { css, ResolvedThemeInterface } from '../../styled-components';\n\nexport const OperationBadge = styled.span.attrs((props: { type: string }) => ({\n  className: `operation-type ${props.type}`,\n}))<{ type: string }>`\n  width: 9ex;\n  display: inline-block;\n  height: ${props => props.theme.typography.code.fontSize};\n  line-height: ${props => props.theme.typography.code.fontSize};\n  background-color: #333;\n  border-radius: 3px;\n  background-repeat: no-repeat;\n  background-position: 6px 4px;\n  font-size: 7px;\n  font-family: Verdana, sans-serif; // web-safe\n  color: white;\n  text-transform: uppercase;\n  text-align: center;\n  font-weight: bold;\n  vertical-align: middle;\n  margin-right: 6px;\n  margin-top: 2px;\n\n  &.get {\n    background-color: ${props => props.theme.colors.http.get};\n  }\n\n  &.post {\n    background-color: ${props => props.theme.colors.http.post};\n  }\n\n  &.put {\n    background-color: ${props => props.theme.colors.http.put};\n  }\n\n  &.options {\n    background-color: ${props => props.theme.colors.http.options};\n  }\n\n  &.patch {\n    background-color: ${props => props.theme.colors.http.patch};\n  }\n\n  &.delete {\n    background-color: ${props => props.theme.colors.http.delete};\n  }\n\n  &.basic {\n    background-color: ${props => props.theme.colors.http.basic};\n  }\n\n  &.link {\n    background-color: ${props => props.theme.colors.http.link};\n  }\n\n  &.head {\n    background-color: ${props => props.theme.colors.http.head};\n  }\n\n  &.hook {\n    background-color: ${props => props.theme.colors.primary.main};\n  }\n`;\n\nfunction menuItemActiveBg(depth, { theme }: { theme: ResolvedThemeInterface }): string {\n  if (depth > 1) {\n    return darken(0.1, theme.sidebar.backgroundColor);\n  } else if (depth === 1) {\n    return darken(0.05, theme.sidebar.backgroundColor);\n  } else {\n    return '';\n  }\n}\n\nexport const MenuItemUl = styled.ul<{ expanded: boolean }>`\n  margin: 0;\n  padding: 0;\n\n  & & {\n    font-size: 0.929em;\n  }\n\n  ${props => (props.expanded ? '' : 'display: none;')};\n`;\n\nexport const MenuItemLi = styled.li<{ depth: number }>`\n  list-style: none inside none;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding: 0;\n  ${props => (props.depth === 0 ? 'margin-top: 15px' : '')};\n`;\n\nexport const menuItemDepth = {\n  0: css`\n    opacity: 0.7;\n    text-transform: ${({ theme }) => theme.sidebar.groupItems.textTransform};\n    font-size: 0.8em;\n    padding-bottom: 0;\n    cursor: default;\n    color: ${props => props.theme.sidebar.textColor};\n  `,\n  1: css`\n    font-size: 0.929em;\n    text-transform: ${({ theme }) => theme.sidebar.level1Items.textTransform};\n    &:hover {\n      color: ${props => props.theme.sidebar.activeTextColor};\n    }\n  `,\n  2: css`\n    color: ${props => props.theme.sidebar.textColor};\n  `,\n};\n\nexport interface MenuItemLabelType {\n  depth: number;\n  active: boolean;\n  deprecated?: boolean;\n  type?: string;\n}\n\nexport const MenuItemLabel = styled.label.attrs((props: MenuItemLabelType) => ({\n  role: 'menuitem',\n  className: classnames('-depth' + props.depth, {\n    active: props.active,\n  }),\n}))<MenuItemLabelType>`\n  cursor: pointer;\n  color: ${props =>\n    props.active ? props.theme.sidebar.activeTextColor : props.theme.sidebar.textColor};\n  margin: 0;\n  padding: 12.5px ${props => props.theme.spacing.unit * 4}px;\n  ${({ depth, type, theme }) =>\n    (type === 'section' && depth > 1 && 'padding-left: ' + theme.spacing.unit * 8 + 'px;') || ''}\n  display: flex;\n  justify-content: space-between;\n  font-family: ${props => props.theme.typography.headings.fontFamily};\n  ${props => menuItemDepth[props.depth]};\n  background-color: ${props => (props.active ? menuItemActiveBg(props.depth, props) : '')};\n\n  ${props => (props.deprecated && deprecatedCss) || ''};\n\n  &:hover {\n    background-color: ${props => menuItemActiveBg(props.depth, props)};\n  }\n\n  ${ShelfIcon} {\n    height: ${({ theme }) => theme.sidebar.arrow.size};\n    width: ${({ theme }) => theme.sidebar.arrow.size};\n    polygon {\n      fill: ${({ theme }) => theme.sidebar.arrow.color};\n    }\n  }\n`;\n\nexport const MenuItemTitle = styled.span<{ width?: string }>`\n  display: inline-block;\n  vertical-align: middle;\n  width: ${props => (props.width ? props.width : 'auto')};\n  overflow: hidden;\n  text-overflow: ellipsis;\n`;\n\nexport const RedocAttribution = styled.div`\n  ${({ theme }) => `\n  font-size: 0.8em;\n  margin-top: ${theme.spacing.unit * 2}px;\n  padding: 0 ${theme.spacing.unit * 4}px;\n  text-align: left;\n\n  opacity: 0.7;\n\n  a,\n  a:visited,\n  a:hover {\n    color: ${theme.sidebar.textColor} !important;\n    border-top: 1px solid ${darken(0.1, theme.sidebar.backgroundColor)};\n    padding: ${theme.spacing.unit}px 0;\n    display: block;\n  }\n`};\n`;\n","import * as React from 'react';\n\nimport { darken } from 'polished';\nimport { ShelfIcon } from '../../common-elements';\nimport { OperationBadge } from '../SideMenu/styled.elements';\nimport { shortenHTTPVerb } from '../../utils/openapi';\nimport styled from '../../styled-components';\nimport { Badge } from '../../common-elements/';\nimport { l } from '../../services/Labels';\n\nexport interface CallbackTitleProps {\n  name: string;\n  opened?: boolean;\n  httpVerb: string;\n  deprecated?: boolean;\n  className?: string;\n  onClick?: () => void;\n}\n\nexport class CallbackTitle extends React.PureComponent<CallbackTitleProps> {\n  render() {\n    const { name, opened, className, onClick, httpVerb, deprecated } = this.props;\n\n    return (\n      <CallbackTitleWrapper className={className} onClick={onClick || undefined}>\n        <OperationBadgeStyled type={httpVerb}>{shortenHTTPVerb(httpVerb)}</OperationBadgeStyled>\n        <ShelfIcon size={'1.5em'} direction={opened ? 'down' : 'right'} float={'left'} />\n        <CallbackName deprecated={deprecated}>{name}</CallbackName>\n        {deprecated ? <Badge type=\"warning\"> {l('deprecated')} </Badge> : null}\n      </CallbackTitleWrapper>\n    );\n  }\n}\n\nconst CallbackTitleWrapper = styled.button`\n  border: 0;\n  width: 100%;\n  text-align: left;\n  & > * {\n    vertical-align: middle;\n  }\n\n  ${ShelfIcon} {\n    polygon {\n      fill: ${({ theme }) => darken(theme.colors.tonalOffset, theme.colors.gray[100])};\n    }\n  }\n`;\n\nconst CallbackName = styled.span<{ deprecated?: boolean }>`\n  text-decoration: ${props => (props.deprecated ? 'line-through' : 'none')};\n  margin-right: 8px;\n`;\n\nconst OperationBadgeStyled = styled(OperationBadge)`\n  margin: 0 5px 0 0;\n`;\n","import styled from '../../styled-components';\nimport { CallbackTitle } from './CallbackTitle';\nimport { darken } from 'polished';\n\nexport const StyledCallbackTitle = styled(CallbackTitle)`\n  padding: 10px;\n  border-radius: 2px;\n  margin-bottom: 4px;\n  line-height: 1.5em;\n  background-color: ${({ theme }) => theme.colors.gray[100]};\n  cursor: pointer;\n  outline-color: ${({ theme }) => darken(theme.colors.tonalOffset, theme.colors.gray[100])};\n`;\n\nexport const CallbackDetailsWrap = styled.div`\n  padding: 10px 25px;\n  background-color: ${({ theme }) => theme.colors.gray[50]};\n  margin-bottom: 5px;\n  margin-top: 5px;\n`;\n","import * as React from 'react';\n\nimport { ClipboardService } from '../../services';\n\nexport class SelectOnClick extends React.PureComponent {\n  private child: HTMLDivElement | null;\n  selectElement = () => {\n    ClipboardService.selectElement(this.child);\n  };\n\n  render() {\n    const { children } = this.props;\n    return (\n      <div\n        ref={el => (this.child = el)}\n        onClick={this.selectElement}\n        onFocus={this.selectElement}\n        tabIndex={0}\n        role=\"button\"\n      >\n        {children}\n      </div>\n    );\n  }\n}\n","import styled from '../../styled-components';\n\nexport const OperationEndpointWrap = styled.div`\n  cursor: pointer;\n  position: relative;\n  margin-bottom: 5px;\n`;\n\nexport const ServerRelativeURL = styled.span`\n  font-family: ${props => props.theme.typography.code.fontFamily};\n  margin-left: 10px;\n  flex: 1;\n  overflow-x: hidden;\n  text-overflow: ellipsis;\n`;\n\nexport const EndpointInfo = styled.button<{ expanded?: boolean; inverted?: boolean }>`\n  outline: 0;\n  color: inherit;\n  width: 100%;\n  text-align: left;\n  cursor: pointer;\n  padding: 10px 30px 10px ${props => (props.inverted ? '10px' : '20px')};\n  border-radius: ${props => (props.inverted ? '0' : '4px 4px 0 0')};\n  background-color: ${props =>\n    props.inverted ? 'transparent' : props.theme.codeBlock.backgroundColor};\n  display: flex;\n  white-space: nowrap;\n  align-items: center;\n  border: ${props => (props.inverted ? '0' : '1px solid transparent')};\n  border-bottom: ${props => (props.inverted ? '1px solid #ccc' : '0')};\n  transition: border-color 0.25s ease;\n\n  ${props =>\n    (props.expanded && !props.inverted && `border-color: ${props.theme.colors.border.dark};`) || ''}\n\n  .${ServerRelativeURL} {\n    color: ${props => (props.inverted ? props.theme.colors.text.primary : '#ffffff')};\n  }\n  &:focus {\n    box-shadow: inset 0 2px 2px rgba(0, 0, 0, 0.45), 0 2px 0 rgba(128, 128, 128, 0.25);\n  }\n`;\n\nexport const HttpVerb = styled.span.attrs((props: { type: string; compact?: boolean }) => ({\n  className: `http-verb ${props.type}`,\n}))<{ type: string; compact?: boolean }>`\n  font-size: ${props => (props.compact ? '0.8em' : '0.929em')};\n  line-height: ${props => (props.compact ? '18px' : '20px')};\n  background-color: ${props => props.theme.colors.http[props.type] || '#999999'};\n  color: #ffffff;\n  padding: ${props => (props.compact ? '2px 8px' : '3px 10px')};\n  text-transform: uppercase;\n  font-family: ${props => props.theme.typography.headings.fontFamily};\n  margin: 0;\n`;\n\nexport const ServersOverlay = styled.div<{ expanded: boolean }>`\n  position: absolute;\n  width: 100%;\n  z-index: 100;\n  background: #fafafa;\n  color: #263238;\n  box-sizing: border-box;\n  box-shadow: 0px 0px 6px rgba(0, 0, 0, 0.33);\n  overflow: hidden;\n  border-bottom-left-radius: 4px;\n  border-bottom-right-radius: 4px;\n  transition: all 0.25s ease;\n  visibility: hidden;\n  ${props => (props.expanded ? 'visibility: visible;' : 'transform: translateY(-50%) scaleY(0);')}\n`;\n\nexport const ServerItem = styled.div`\n  padding: 10px;\n`;\n\nexport const ServerUrl = styled.div`\n  padding: 5px;\n  border: 1px solid #ccc;\n  background: #fff;\n  word-break: break-all;\n  color: ${props => props.theme.colors.primary.main};\n  > span {\n    color: ${props => props.theme.colors.text.primary};\n  }\n`;\n","import * as React from 'react';\nimport { ShelfIcon } from '../../common-elements';\nimport { OperationModel } from '../../services';\nimport { Markdown } from '../Markdown/Markdown';\nimport { OptionsContext } from '../OptionsProvider';\nimport { SelectOnClick } from '../SelectOnClick/SelectOnClick';\n\nimport { expandDefaultServerVariables, getBasePath } from '../../utils';\nimport {\n  EndpointInfo,\n  HttpVerb,\n  OperationEndpointWrap,\n  ServerItem,\n  ServerRelativeURL,\n  ServersOverlay,\n  ServerUrl,\n} from './styled.elements';\n\nexport interface EndpointProps {\n  operation: OperationModel;\n\n  hideHostname?: boolean;\n  inverted?: boolean;\n  compact?: boolean;\n}\n\nexport interface EndpointState {\n  expanded: boolean;\n}\n\nexport class Endpoint extends React.Component<EndpointProps, EndpointState> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      expanded: false,\n    };\n  }\n\n  toggle = () => {\n    this.setState({ expanded: !this.state.expanded });\n  };\n\n  render() {\n    const { operation, inverted, hideHostname } = this.props;\n    const { expanded } = this.state;\n\n    // TODO: highlight server variables, e.g. https://{user}.test.com\n    return (\n      <OptionsContext.Consumer>\n        {options => (\n          <OperationEndpointWrap>\n            <EndpointInfo onClick={this.toggle} expanded={expanded} inverted={inverted}>\n              <HttpVerb type={operation.httpVerb} compact={this.props.compact}>\n                {operation.httpVerb}\n              </HttpVerb>\n              <ServerRelativeURL>{operation.path}</ServerRelativeURL>\n              <ShelfIcon\n                float={'right'}\n                color={inverted ? 'black' : 'white'}\n                size={'20px'}\n                direction={expanded ? 'up' : 'down'}\n                style={{ marginRight: '-25px' }}\n              />\n            </EndpointInfo>\n            <ServersOverlay expanded={expanded} aria-hidden={!expanded}>\n              {operation.servers.map(server => {\n                const normalizedUrl = options.expandDefaultServerVariables\n                  ? expandDefaultServerVariables(server.url, server.variables)\n                  : server.url;\n                const basePath = getBasePath(normalizedUrl);\n                return (\n                  <ServerItem key={normalizedUrl}>\n                    <Markdown source={server.description || ''} compact={true} />\n                    <SelectOnClick>\n                      <ServerUrl>\n                        <span>\n                          {hideHostname || options.hideHostname\n                            ? basePath === '/'\n                              ? ''\n                              : basePath\n                            : normalizedUrl}\n                        </span>\n                        {operation.path}\n                      </ServerUrl>\n                    </SelectOnClick>\n                  </ServerItem>\n                );\n              })}\n            </ServersOverlay>\n          </OperationEndpointWrap>\n        )}\n      </OptionsContext.Consumer>\n    );\n  }\n}\n","import * as React from 'react';\n\nimport { UnderlinedHeader } from '../../common-elements';\nimport { PropertiesTable } from '../../common-elements/fields-layout';\n\nimport { FieldModel } from '../../services/models';\nimport { Field } from '../Fields/Field';\n\nimport { mapWithLast } from '../../utils';\n\nexport interface ParametersGroupProps {\n  place: string;\n  parameters: FieldModel[];\n}\n\nexport class ParametersGroup extends React.PureComponent<ParametersGroupProps, any> {\n  render() {\n    const { place, parameters } = this.props;\n    if (!parameters || !parameters.length) {\n      return null;\n    }\n\n    return (\n      <div key={place}>\n        <UnderlinedHeader>{place} Parameters</UnderlinedHeader>\n        <PropertiesTable>\n          <tbody>\n            {mapWithLast(parameters, (field, isLast) => (\n              <Field key={field.name} isLast={isLast} field={field} showExamples={true} />\n            ))}\n          </tbody>\n        </PropertiesTable>\n      </div>\n    );\n  }\n}\n","import { observer } from 'mobx-react';\nimport * as React from 'react';\n\nimport { DropdownProps } from '../../common-elements/dropdown';\nimport { MediaContentModel, MediaTypeModel, SchemaModel } from '../../services/models';\nimport { DropdownLabel, DropdownWrapper } from '../PayloadSamples/styled.elements';\n\nexport interface MediaTypeChildProps {\n  schema: SchemaModel;\n  mime?: string;\n}\n\nexport interface MediaTypesSwitchProps {\n  content?: MediaContentModel;\n  withLabel?: boolean;\n\n  renderDropdown: (props: DropdownProps) => JSX.Element;\n  children: (activeMime: MediaTypeModel) => JSX.Element;\n}\n\n@observer\nexport class MediaTypesSwitch extends React.Component<MediaTypesSwitchProps> {\n  switchMedia = ({ idx }) => {\n    if (this.props.content) {\n      this.props.content.activate(idx);\n    }\n  };\n\n  render() {\n    const { content } = this.props;\n    if (!content || !content.mediaTypes || !content.mediaTypes.length) {\n      return null;\n    }\n    const activeMimeIdx = content.activeMimeIdx;\n\n    const options = content.mediaTypes.map((mime, idx) => {\n      return {\n        value: mime.name,\n        idx,\n      };\n    });\n\n    const Wrapper = ({ children }) =>\n      this.props.withLabel ? (\n        <DropdownWrapper>\n          <DropdownLabel>Content type</DropdownLabel>\n          {children}\n        </DropdownWrapper>\n      ) : (\n        children\n      );\n\n    return (\n      <>\n        <Wrapper>\n          {this.props.renderDropdown({\n            value: options[activeMimeIdx].value,\n            options,\n            onChange: this.switchMedia,\n            ariaLabel: 'Content type',\n          })}\n        </Wrapper>\n        {this.props.children(content.active)}\n      </>\n    );\n  }\n}\n","import * as React from 'react';\nimport { DropdownOrLabel } from '../DropdownOrLabel/DropdownOrLabel';\nimport { ParametersGroup } from './ParametersGroup';\n\nimport { UnderlinedHeader } from '../../common-elements';\n\nimport { MediaContentModel } from '../../services';\nimport { FieldModel, RequestBodyModel } from '../../services/models';\nimport { MediaTypesSwitch } from '../MediaTypeSwitch/MediaTypesSwitch';\nimport { Schema } from '../Schema';\n\nimport { Markdown } from '../Markdown/Markdown';\n\nfunction safePush(obj, prop, item) {\n  if (!obj[prop]) {\n    obj[prop] = [];\n  }\n  obj[prop].push(item);\n}\n\nexport interface ParametersProps {\n  parameters?: FieldModel[];\n  body?: RequestBodyModel;\n}\n\nconst PARAM_PLACES = ['path', 'query', 'cookie', 'header'];\n\nexport class Parameters extends React.PureComponent<ParametersProps> {\n  orderParams(params: FieldModel[]): Record<string, FieldModel[]> {\n    const res = {};\n    params.forEach(param => {\n      safePush(res, param.in, param);\n    });\n    return res;\n  }\n\n  render() {\n    const { body, parameters = [] } = this.props;\n    if (body === undefined && parameters === undefined) {\n      return null;\n    }\n\n    const paramsMap = this.orderParams(parameters);\n\n    const paramsPlaces = parameters.length > 0 ? PARAM_PLACES : [];\n\n    const bodyContent = body && body.content;\n\n    const bodyDescription = body && body.description;\n\n    return (\n      <>\n        {paramsPlaces.map(place => (\n          <ParametersGroup key={place} place={place} parameters={paramsMap[place]} />\n        ))}\n        {bodyContent && <BodyContent content={bodyContent} description={bodyDescription} />}\n      </>\n    );\n  }\n}\n\nfunction DropdownWithinHeader(props) {\n  return (\n    <UnderlinedHeader key=\"header\">\n      Request Body schema: <DropdownOrLabel {...props} />\n    </UnderlinedHeader>\n  );\n}\n\nexport function BodyContent(props: {\n  content: MediaContentModel;\n  description?: string;\n}): JSX.Element {\n  const { content, description } = props;\n  const { isRequestType } = content;\n  return (\n    <MediaTypesSwitch content={content} renderDropdown={DropdownWithinHeader}>\n      {({ schema }) => {\n        return (\n          <>\n            {description !== undefined && <Markdown source={description} />}\n            <Schema\n              skipReadOnly={isRequestType}\n              skipWriteOnly={!isRequestType}\n              key=\"schema\"\n              schema={schema}\n            />\n          </>\n        );\n      }}\n    </MediaTypesSwitch>\n  );\n}\n","import * as React from 'react';\n\nimport { Code } from './styled.elements';\nimport { ShelfIcon } from '../../common-elements';\nimport { Markdown } from '../Markdown/Markdown';\n\nexport interface ResponseTitleProps {\n  code: string;\n  title: string;\n  type: string;\n  empty?: boolean;\n  opened?: boolean;\n  className?: string;\n  onClick?: () => void;\n}\n\nfunction ResponseTitleComponent({\n  title,\n  type,\n  empty,\n  code,\n  opened,\n  className,\n  onClick,\n}: ResponseTitleProps): React.ReactElement {\n  return (\n    <button\n      className={className}\n      onClick={(!empty && onClick) || undefined}\n      aria-expanded={opened}\n      disabled={empty}\n    >\n      {!empty && (\n        <ShelfIcon\n          size={'1.5em'}\n          color={type}\n          direction={opened ? 'down' : 'right'}\n          float={'left'}\n        />\n      )}\n      <Code>{code} </Code>\n      <Markdown compact={true} inline={true} source={title} />\n    </button>\n  );\n}\n\nexport const ResponseTitle = React.memo<ResponseTitleProps>(ResponseTitleComponent);\n","import { UnderlinedHeader } from '../../common-elements';\nimport styled from '../../styled-components';\nimport { ResponseTitle } from './ResponseTitle';\n\nexport const StyledResponseTitle = styled(ResponseTitle)`\n  display: block;\n  border: 0;\n  width: 100%;\n  text-align: left;\n  padding: 10px;\n  border-radius: 2px;\n  margin-bottom: 4px;\n  line-height: 1.5em;\n  cursor: pointer;\n\n  color: ${props => props.theme.colors.responses[props.type].color};\n  background-color: ${props => props.theme.colors.responses[props.type].backgroundColor};\n  &:focus {\n    outline: auto ${props => props.theme.colors.responses[props.type].color};\n  }\n  ${props =>\n    (props.empty &&\n      `\ncursor: default;\n&::before {\n  content: \"—\";\n  font-weight: bold;\n  width: 1.5em;\n  text-align: center;\n  display: inline-block;\n  vertical-align: top;\n}\n&:focus {\n  outline: 0;\n}\n`) ||\n    ''};\n`;\n\nexport const ResponseDetailsWrap = styled.div`\n  padding: 10px;\n`;\n\nexport const HeadersCaption = styled(UnderlinedHeader.withComponent('caption'))`\n  text-align: left;\n  margin-top: 1em;\n  caption-side: top;\n`;\n\nexport const Code = styled.strong`\n  vertical-align: top;\n`;\n","import * as React from 'react';\nimport { PropertiesTable } from '../../common-elements/fields-layout';\n\nimport { FieldModel } from '../../services/models';\nimport { mapWithLast } from '../../utils';\nimport { Field } from '../Fields/Field';\nimport { HeadersCaption } from './styled.elements';\n\nexport interface ResponseHeadersProps {\n  headers?: FieldModel[];\n}\n\nexport class ResponseHeaders extends React.PureComponent<ResponseHeadersProps> {\n  render() {\n    const { headers } = this.props;\n    if (headers === undefined || headers.length === 0) {\n      return null;\n    }\n    return (\n      <PropertiesTable>\n        <HeadersCaption> Response Headers </HeadersCaption>\n        <tbody>\n          {mapWithLast(headers, (header, isLast) => (\n            <Field isLast={isLast} key={header.name} field={header} showExamples={true} />\n          ))}\n        </tbody>\n      </PropertiesTable>\n    );\n  }\n}\n","import * as React from 'react';\n\nimport { ResponseModel } from '../../services/models';\n\nimport { UnderlinedHeader } from '../../common-elements';\nimport { DropdownOrLabel } from '../DropdownOrLabel/DropdownOrLabel';\nimport { MediaTypesSwitch } from '../MediaTypeSwitch/MediaTypesSwitch';\nimport { Schema } from '../Schema';\n\nimport { Extensions } from '../Fields/Extensions';\nimport { Markdown } from '../Markdown/Markdown';\nimport { ResponseHeaders } from './ResponseHeaders';\n\nexport class ResponseDetails extends React.PureComponent<{ response: ResponseModel }> {\n  render() {\n    const { description, extensions, headers, content } = this.props.response;\n    return (\n      <>\n        {description && <Markdown source={description} />}\n        <Extensions extensions={extensions} />\n        <ResponseHeaders headers={headers} />\n        <MediaTypesSwitch content={content} renderDropdown={this.renderDropdown}>\n          {({ schema }) => {\n            return <Schema skipWriteOnly={true} key=\"schema\" schema={schema} />;\n          }}\n        </MediaTypesSwitch>\n      </>\n    );\n  }\n\n  private renderDropdown = props => {\n    return (\n      <UnderlinedHeader key=\"header\">\n        Response Schema: <DropdownOrLabel {...props} />\n      </UnderlinedHeader>\n    );\n  };\n}\n","import * as React from 'react';\nimport { observer } from 'mobx-react';\n\nimport type { ResponseModel, MediaTypeModel } from '../../services/models';\nimport { ResponseDetails } from './ResponseDetails';\nimport { ResponseDetailsWrap, StyledResponseTitle } from './styled.elements';\n\nexport interface ResponseViewProps {\n  response: ResponseModel;\n}\n\nexport const ResponseView = observer(({ response }: ResponseViewProps): React.ReactElement => {\n  const { extensions, headers, type, summary, description, code, expanded, content } = response;\n\n  const mimes = React.useMemo<MediaTypeModel[]>(\n    () =>\n      content === undefined ? [] : content.mediaTypes.filter(mime => mime.schema !== undefined),\n    [content],\n  );\n\n  const empty = React.useMemo<boolean>(\n    () =>\n      (!extensions || Object.keys(extensions).length === 0) &&\n      headers.length === 0 &&\n      mimes.length === 0 &&\n      !description,\n    [extensions, headers, mimes, description],\n  );\n\n  return (\n    <div>\n      <StyledResponseTitle\n        onClick={() => response.toggle()}\n        type={type}\n        empty={empty}\n        title={summary || ''}\n        code={code}\n        opened={expanded}\n      />\n      {expanded && !empty && (\n        <ResponseDetailsWrap>\n          <ResponseDetails response={response} />\n        </ResponseDetailsWrap>\n      )}\n    </div>\n  );\n});\n","import * as React from 'react';\nimport { l } from '../../services/Labels';\nimport { ResponseModel } from '../../services/models';\nimport styled from '../../styled-components';\nimport { ResponseView } from './Response';\n\nconst ResponsesHeader = styled.h3`\n  font-size: 1.3em;\n  padding: 0.2em 0;\n  margin: 3em 0 1.1em;\n  color: ${({ theme }) => theme.colors.text.primary};\n  font-weight: normal;\n`;\n\nexport interface ResponseListProps {\n  responses: ResponseModel[];\n  isCallback?: boolean;\n}\n\nexport class ResponsesList extends React.PureComponent<ResponseListProps> {\n  render() {\n    const { responses, isCallback } = this.props;\n\n    if (!responses || responses.length === 0) {\n      return null;\n    }\n\n    return (\n      <div>\n        <ResponsesHeader>{isCallback ? l('callbackResponses') : l('responses')}</ResponsesHeader>\n        {responses.map(response => {\n          return <ResponseView key={response.code} response={response} />;\n        })}\n      </div>\n    );\n  }\n}\n","import * as React from 'react';\n\nimport styled, { media } from '../../styled-components';\n\nimport { Link, UnderlinedHeader } from '../../common-elements/';\nimport { SecurityRequirementModel } from '../../services/models/SecurityRequirement';\nimport { linksCss } from '../Markdown/styled.elements';\n\nconst ScopeName = styled.code`\n  font-size: ${props => props.theme.typography.code.fontSize};\n  font-family: ${props => props.theme.typography.code.fontFamily};\n  border: 1px solid ${({ theme }) => theme.colors.border.dark};\n  margin: 0 3px;\n  padding: 0.2em;\n  display: inline-block;\n  line-height: 1;\n\n  &:after {\n    content: ',';\n  }\n  &:last-child:after {\n    content: none;\n  }\n`;\n\nconst SecurityRequirementAndWrap = styled.span`\n  &:after {\n    content: ' AND ';\n    font-weight: bold;\n  }\n\n  &:last-child:after {\n    content: none;\n  }\n\n  ${linksCss};\n`;\n\nconst SecurityRequirementOrWrap = styled.span`\n  &:before {\n    content: '( ';\n    font-weight: bold;\n  }\n  &:after {\n    content: ' ) OR ';\n    font-weight: bold;\n  }\n  &:last-child:after {\n    content: ' )';\n  }\n\n  &:only-child:before,\n  &:only-child:after {\n    content: none;\n  }\n\n  ${linksCss};\n`;\n\nexport interface SecurityRequirementProps {\n  security: SecurityRequirementModel;\n}\n\nexport class SecurityRequirement extends React.PureComponent<SecurityRequirementProps> {\n  render() {\n    const security = this.props.security;\n    return (\n      <SecurityRequirementOrWrap>\n        {security.schemes.length ? (\n          security.schemes.map(scheme => {\n            return (\n              <SecurityRequirementAndWrap key={scheme.id}>\n                <Link to={scheme.sectionId}>{scheme.displayName}</Link>\n                {scheme.scopes.length > 0 && ' ('}\n                {scheme.scopes.map(scope => (\n                  <ScopeName key={scope}>{scope}</ScopeName>\n                ))}\n                {scheme.scopes.length > 0 && ') '}\n              </SecurityRequirementAndWrap>\n            );\n          })\n        ) : (\n          <SecurityRequirementAndWrap>None</SecurityRequirementAndWrap>\n        )}\n      </SecurityRequirementOrWrap>\n    );\n  }\n}\n\nconst AuthHeaderColumn = styled.div`\n  flex: 1 1 auto;\n`;\n\nconst SecuritiesColumn = styled.div`\n  width: ${props => props.theme.schema.defaultDetailsWidth};\n  ${media.lessThan('small')`\n    margin-top: 10px;\n  `}\n`;\n\nconst AuthHeader = styled(UnderlinedHeader)`\n  display: inline-block;\n  margin: 0;\n`;\n\nconst Wrap = styled.div`\n  width: 100%;\n  display: flex;\n  margin: 1em 0;\n\n  ${media.lessThan('small')`\n    flex-direction: column;\n  `}\n`;\n\nexport interface SecurityRequirementsProps {\n  securities: SecurityRequirementModel[];\n}\n\nexport class SecurityRequirements extends React.PureComponent<SecurityRequirementsProps> {\n  render() {\n    const securities = this.props.securities;\n    if (!securities.length) {\n      return null;\n    }\n    return (\n      <Wrap>\n        <AuthHeaderColumn>\n          <AuthHeader>Authorizations: </AuthHeader>\n        </AuthHeaderColumn>\n        <SecuritiesColumn>\n          {securities.map((security, idx) => (\n            <SecurityRequirement key={idx} security={security} />\n          ))}\n        </SecuritiesColumn>\n      </Wrap>\n    );\n  }\n}\n","import { observer } from 'mobx-react';\nimport * as React from 'react';\n\nimport { OperationModel } from '../../services/models';\nimport styled from '../../styled-components';\nimport { Endpoint } from '../Endpoint/Endpoint';\nimport { ExternalDocumentation } from '../ExternalDocumentation/ExternalDocumentation';\nimport { Extensions } from '../Fields/Extensions';\nimport { Markdown } from '../Markdown/Markdown';\nimport { Parameters } from '../Parameters/Parameters';\nimport { ResponsesList } from '../Responses/ResponsesList';\nimport { SecurityRequirements } from '../SecurityRequirement/SecurityRequirement';\nimport { CallbackDetailsWrap } from './styled.elements';\n\nexport interface CallbackDetailsProps {\n  operation: OperationModel;\n}\n\n@observer\nexport class CallbackDetails extends React.Component<CallbackDetailsProps> {\n  render() {\n    const { operation } = this.props;\n    const { description, externalDocs } = operation;\n    const hasDescription = !!(description || externalDocs);\n\n    return (\n      <CallbackDetailsWrap>\n        {hasDescription && (\n          <Description>\n            {description !== undefined && <Markdown source={description} />}\n            {externalDocs && <ExternalDocumentation externalDocs={externalDocs} />}\n          </Description>\n        )}\n        <Endpoint operation={this.props.operation} inverted={true} compact={true} />\n        <Extensions extensions={operation.extensions} />\n        <SecurityRequirements securities={operation.security} />\n        <Parameters parameters={operation.parameters} body={operation.requestBody} />\n        <ResponsesList responses={operation.responses} isCallback={operation.isCallback} />\n      </CallbackDetailsWrap>\n    );\n  }\n}\n\nconst Description = styled.div`\n  margin-bottom: ${({ theme }) => theme.spacing.unit * 3}px;\n`;\n","import { observer } from 'mobx-react';\nimport * as React from 'react';\n\nimport { OperationModel } from '../../services/models';\nimport { StyledCallbackTitle } from './styled.elements';\nimport { CallbackDetails } from './CallbackDetails';\n\n@observer\nexport class CallbackOperation extends React.Component<{ callbackOperation: OperationModel }> {\n  toggle = () => {\n    this.props.callbackOperation.toggle();\n  };\n\n  render() {\n    const { name, expanded, httpVerb, deprecated } = this.props.callbackOperation;\n\n    return (\n      <>\n        <StyledCallbackTitle\n          onClick={this.toggle}\n          name={name}\n          opened={expanded}\n          httpVerb={httpVerb}\n          deprecated={deprecated}\n        />\n        {expanded && <CallbackDetails operation={this.props.callbackOperation} />}\n      </>\n    );\n  }\n}\n","import * as React from 'react';\n\nimport { CallbackModel } from '../../services/models';\nimport styled from '../../styled-components';\nimport { CallbackOperation } from './CallbackOperation';\n\nexport interface CallbacksListProps {\n  callbacks: CallbackModel[];\n}\n\nexport class CallbacksList extends React.PureComponent<CallbacksListProps> {\n  render() {\n    const { callbacks } = this.props;\n\n    if (!callbacks || callbacks.length === 0) {\n      return null;\n    }\n\n    return (\n      <div>\n        <CallbacksHeader> Callbacks </CallbacksHeader>\n        {callbacks.map(callback => {\n          return callback.operations.map((operation, index) => {\n            return (\n              <CallbackOperation key={`${callback.name}_${index}`} callbackOperation={operation} />\n            );\n          });\n        })}\n      </div>\n    );\n  }\n}\n\nconst CallbacksHeader = styled.h3`\n  font-size: 1.3em;\n  padding: 0.2em 0;\n  margin: 3em 0 1.1em;\n  color: ${({ theme }) => theme.colors.text.primary};\n  font-weight: normal;\n`;\n","import { observer } from 'mobx-react';\nimport * as React from 'react';\n\nimport { DropdownProps, DropdownOption } from '../../common-elements/dropdown';\nimport { DropdownLabel, DropdownWrapper } from '../PayloadSamples/styled.elements';\n\nexport interface GenericChildrenSwitcherProps<T> {\n  items?: T[];\n  options: DropdownOption[];\n  label?: string;\n  renderDropdown: (props: DropdownProps) => JSX.Element;\n  children: (activeItem: T) => JSX.Element;\n}\n\nexport interface GenericChildrenSwitcherState {\n  activeItemIdx: number;\n}\n/**\n * TODO: Refactor this component:\n * Implement rendering dropdown/label directly in this component\n * Accept as a parameter mapper-function for building dropdown option labels\n */\n@observer\nexport class GenericChildrenSwitcher<T> extends React.Component<\n  GenericChildrenSwitcherProps<T>,\n  GenericChildrenSwitcherState\n> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      activeItemIdx: 0,\n    };\n  }\n\n  switchItem = ({ idx }) => {\n    if (this.props.items) {\n      this.setState({\n        activeItemIdx: idx,\n      });\n    }\n  };\n\n  render() {\n    const { items } = this.props;\n\n    if (!items || !items.length) {\n      return null;\n    }\n\n    const Wrapper = ({ children }) =>\n      this.props.label ? (\n        <DropdownWrapper>\n          <DropdownLabel>{this.props.label}</DropdownLabel>\n          {children}\n        </DropdownWrapper>\n      ) : (\n        children\n      );\n\n    return (\n      <>\n        <Wrapper>\n          {this.props.renderDropdown({\n            value: this.props.options[this.state.activeItemIdx].value,\n            options: this.props.options,\n            onChange: this.switchItem,\n            ariaLabel: this.props.label || 'Callback',\n          })}\n        </Wrapper>\n\n        {this.props.children(items[this.state.activeItemIdx])}\n      </>\n    );\n  }\n}\n","import { observer } from 'mobx-react';\nimport * as React from 'react';\nimport { MediaTypeSamples } from './MediaTypeSamples';\n\nimport { MediaContentModel } from '../../services/models';\nimport { DropdownOrLabel } from '../DropdownOrLabel/DropdownOrLabel';\nimport { MediaTypesSwitch } from '../MediaTypeSwitch/MediaTypesSwitch';\nimport { InvertedSimpleDropdown, MimeLabel } from './styled.elements';\n\nexport interface PayloadSamplesProps {\n  content: MediaContentModel;\n}\n\n@observer\nexport class PayloadSamples extends React.Component<PayloadSamplesProps> {\n  render() {\n    const mimeContent = this.props.content;\n    if (mimeContent === undefined) {\n      return null;\n    }\n\n    return (\n      <MediaTypesSwitch content={mimeContent} renderDropdown={this.renderDropdown} withLabel={true}>\n        {mediaType => (\n          <MediaTypeSamples\n            key=\"samples\"\n            mediaType={mediaType}\n            renderDropdown={this.renderDropdown}\n          />\n        )}\n      </MediaTypesSwitch>\n    );\n  }\n\n  private renderDropdown = props => {\n    return <DropdownOrLabel Label={MimeLabel} Dropdown={InvertedSimpleDropdown} {...props} />;\n  };\n}\n","import * as React from 'react';\n\nimport styled from '../../styled-components';\nimport { DropdownProps } from '../../common-elements';\nimport { PayloadSamples } from '../PayloadSamples/PayloadSamples';\nimport { OperationModel } from '../../services/models';\nimport { XPayloadSample } from '../../services/models/Operation';\nimport { isPayloadSample } from '../../services';\n\nexport interface PayloadSampleProps {\n  callback: OperationModel;\n  renderDropdown: (props: DropdownProps) => JSX.Element;\n}\n\nexport class CallbackPayloadSample extends React.Component<PayloadSampleProps> {\n  render() {\n    const payloadSample = this.props.callback.codeSamples.find(sample =>\n      isPayloadSample(sample),\n    ) as XPayloadSample | undefined;\n\n    if (!payloadSample) {\n      return null;\n    }\n\n    return (\n      <PayloadSampleWrapper>\n        <PayloadSamples content={payloadSample.requestBodyContent} />\n      </PayloadSampleWrapper>\n    );\n  }\n}\n\nexport const PayloadSampleWrapper = styled.div`\n  margin-top: 15px;\n`;\n","import { observer } from 'mobx-react';\nimport * as React from 'react';\n\nimport styled from '../../styled-components';\nimport { RightPanelHeader } from '../../common-elements';\nimport { RedocNormalizedOptions } from '../../services';\nimport { CallbackModel } from '../../services/models';\nimport { OptionsContext } from '../OptionsProvider';\nimport { GenericChildrenSwitcher } from '../GenericChildrenSwitcher/GenericChildrenSwitcher';\nimport { DropdownOrLabel } from '../DropdownOrLabel/DropdownOrLabel';\nimport { InvertedSimpleDropdown, MimeLabel } from '../PayloadSamples/styled.elements';\nimport { CallbackPayloadSample } from './CallbackReqSamples';\n\nexport interface CallbackSamplesProps {\n  callbacks: CallbackModel[];\n}\n\n@observer\nexport class CallbackSamples extends React.Component<CallbackSamplesProps> {\n  static contextType = OptionsContext;\n  context: RedocNormalizedOptions;\n\n  private renderDropdown = props => {\n    return <DropdownOrLabel Label={MimeLabel} Dropdown={InvertedSimpleDropdown} {...props} />;\n  };\n\n  render() {\n    const { callbacks } = this.props;\n\n    if (!callbacks || callbacks.length === 0) {\n      return null;\n    }\n\n    const operations = callbacks\n      .map(callback => callback.operations.map(operation => operation))\n      .reduce((a, b) => a.concat(b), []);\n\n    const hasSamples = operations.some(operation => operation.codeSamples.length > 0);\n\n    if (!hasSamples) {\n      return null;\n    }\n\n    const dropdownOptions = operations.map((callback, idx) => {\n      return {\n        value: `${callback.httpVerb.toUpperCase()}: ${callback.name}`,\n        idx,\n      };\n    });\n\n    return (\n      <div>\n        <RightPanelHeader> Callback payload samples </RightPanelHeader>\n\n        <SamplesWrapper>\n          <GenericChildrenSwitcher\n            items={operations}\n            renderDropdown={this.renderDropdown}\n            label={'Callback'}\n            options={dropdownOptions}\n          >\n            {callback => (\n              <CallbackPayloadSample\n                key=\"callbackPayloadSample\"\n                callback={callback}\n                renderDropdown={this.renderDropdown}\n              />\n            )}\n          </GenericChildrenSwitcher>\n        </SamplesWrapper>\n      </div>\n    );\n  }\n}\n\nexport const SamplesWrapper = styled.div`\n  background: ${({ theme }) => theme.codeBlock.backgroundColor};\n  padding: ${props => props.theme.spacing.unit * 4}px;\n`;\n","import { observer } from 'mobx-react';\nimport * as React from 'react';\nimport { isPayloadSample, OperationModel, RedocNormalizedOptions } from '../../services';\nimport { PayloadSamples } from '../PayloadSamples/PayloadSamples';\nimport { SourceCodeWithCopy } from '../SourceCode/SourceCode';\n\nimport { RightPanelHeader, Tab, TabList, TabPanel, Tabs } from '../../common-elements';\nimport { OptionsContext } from '../OptionsProvider';\nimport { l } from '../../services/Labels';\n\nexport interface RequestSamplesProps {\n  operation: OperationModel;\n}\n\n@observer\nexport class RequestSamples extends React.Component<RequestSamplesProps> {\n  static contextType = OptionsContext;\n  context: RedocNormalizedOptions;\n  operation: OperationModel;\n\n  render() {\n    const { operation } = this.props;\n    const samples = operation.codeSamples;\n\n    const hasSamples = samples.length > 0;\n    const hideTabList = samples.length === 1 ? this.context.hideSingleRequestSampleTab : false;\n    return (\n      (hasSamples && (\n        <div>\n          <RightPanelHeader> {l('requestSamples')} </RightPanelHeader>\n\n          <Tabs defaultIndex={0}>\n            <TabList hidden={hideTabList}>\n              {samples.map(sample => (\n                <Tab key={sample.lang + '_' + (sample.label || '')}>\n                  {sample.label !== undefined ? sample.label : sample.lang}\n                </Tab>\n              ))}\n            </TabList>\n            {samples.map(sample => (\n              <TabPanel key={sample.lang + '_' + (sample.label || '')}>\n                {isPayloadSample(sample) ? (\n                  <div>\n                    <PayloadSamples content={sample.requestBodyContent} />\n                  </div>\n                ) : (\n                  <SourceCodeWithCopy lang={sample.lang} source={sample.source} />\n                )}\n              </TabPanel>\n            ))}\n          </Tabs>\n        </div>\n      )) ||\n      null\n    );\n  }\n}\n","import { observer } from 'mobx-react';\nimport * as React from 'react';\n\nimport { OperationModel } from '../../services/models';\n\nimport { RightPanelHeader, Tab, TabList, TabPanel, Tabs } from '../../common-elements';\nimport { PayloadSamples } from '../PayloadSamples/PayloadSamples';\nimport { l } from '../../services/Labels';\n\nexport interface ResponseSamplesProps {\n  operation: OperationModel;\n}\n\n@observer\nexport class ResponseSamples extends React.Component<ResponseSamplesProps> {\n  operation: OperationModel;\n\n  render() {\n    const { operation } = this.props;\n    const responses = operation.responses.filter(response => {\n      return response.content && response.content.hasSample;\n    });\n\n    return (\n      (responses.length > 0 && (\n        <div>\n          <RightPanelHeader> {l('responseSamples')} </RightPanelHeader>\n\n          <Tabs defaultIndex={0}>\n            <TabList>\n              {responses.map(response => (\n                <Tab className={'tab-' + response.type} key={response.code}>\n                  {response.code}\n                </Tab>\n              ))}\n            </TabList>\n            {responses.map(response => (\n              <TabPanel key={response.code}>\n                <div>\n                  <PayloadSamples content={response.content!} />\n                </div>\n              </TabPanel>\n            ))}\n          </Tabs>\n        </div>\n      )) ||\n      null\n    );\n  }\n}\n","import { observer } from 'mobx-react';\nimport * as React from 'react';\n\nimport { Badge, DarkRightPanel, H2, MiddlePanel, Row } from '../../common-elements';\nimport { ShareLink } from '../../common-elements/linkify';\nimport { OperationModel } from '../../services/models';\nimport styled from '../../styled-components';\nimport { CallbacksList } from '../Callbacks';\nimport { CallbackSamples } from '../CallbackSamples/CallbackSamples';\nimport { Endpoint } from '../Endpoint/Endpoint';\nimport { ExternalDocumentation } from '../ExternalDocumentation/ExternalDocumentation';\nimport { Extensions } from '../Fields/Extensions';\nimport { Markdown } from '../Markdown/Markdown';\nimport { OptionsContext } from '../OptionsProvider';\nimport { Parameters } from '../Parameters/Parameters';\nimport { RequestSamples } from '../RequestSamples/RequestSamples';\nimport { ResponsesList } from '../Responses/ResponsesList';\nimport { ResponseSamples } from '../ResponseSamples/ResponseSamples';\nimport { SecurityRequirements } from '../SecurityRequirement/SecurityRequirement';\n\nconst Description = styled.div`\n  margin-bottom: ${({ theme }) => theme.spacing.unit * 6}px;\n`;\n\nexport interface OperationProps {\n  operation: OperationModel;\n}\n\n@observer\nexport class Operation extends React.Component<OperationProps> {\n  render() {\n    const { operation } = this.props;\n\n    const { name: summary, description, deprecated, externalDocs, isWebhook } = operation;\n    const hasDescription = !!(description || externalDocs);\n\n    return (\n      <OptionsContext.Consumer>\n        {options => (\n          <Row>\n            <MiddlePanel>\n              <H2>\n                <ShareLink to={operation.id} />\n                {summary} {deprecated && <Badge type=\"warning\"> Deprecated </Badge>}\n                {isWebhook && <Badge type=\"primary\"> Webhook </Badge>}\n              </H2>\n              {options.pathInMiddlePanel && !isWebhook && (\n                <Endpoint operation={operation} inverted={true} />\n              )}\n              {hasDescription && (\n                <Description>\n                  {description !== undefined && <Markdown source={description} />}\n                  {externalDocs && <ExternalDocumentation externalDocs={externalDocs} />}\n                </Description>\n              )}\n              <Extensions extensions={operation.extensions} />\n              <SecurityRequirements securities={operation.security} />\n              <Parameters parameters={operation.parameters} body={operation.requestBody} />\n              <ResponsesList responses={operation.responses} />\n              <CallbacksList callbacks={operation.callbacks} />\n            </MiddlePanel>\n            <DarkRightPanel>\n              {!options.pathInMiddlePanel && !isWebhook && <Endpoint operation={operation} />}\n              <RequestSamples operation={operation} />\n              <ResponseSamples operation={operation} />\n              <CallbackSamples callbacks={operation.callbacks} />\n            </DarkRightPanel>\n          </Row>\n        )}\n      </OptionsContext.Consumer>\n    );\n  }\n}\n","import { observer } from 'mobx-react';\nimport * as React from 'react';\n\nimport { ExternalDocumentation } from '../ExternalDocumentation/ExternalDocumentation';\nimport { AdvancedMarkdown } from '../Markdown/AdvancedMarkdown';\nimport { H1, H2, MiddlePanel, Row, Section, ShareLink } from '../../common-elements';\nimport { ContentItemModel } from '../../services/MenuBuilder';\nimport { GroupModel, OperationModel } from '../../services/models';\nimport { Operation } from '../Operation/Operation';\n\n@observer\nexport class ContentItems extends React.Component<{\n  items: ContentItemModel[];\n}> {\n  render() {\n    const items = this.props.items;\n    if (items.length === 0) {\n      return null;\n    }\n    return items.map(item => {\n      return <ContentItem key={item.id} item={item} />;\n    });\n  }\n}\n\nexport interface ContentItemProps {\n  item: ContentItemModel;\n}\n\n@observer\nexport class ContentItem extends React.Component<ContentItemProps> {\n  render() {\n    const item = this.props.item;\n    let content;\n    const { type } = item;\n    switch (type) {\n      case 'group':\n        content = null;\n        break;\n      case 'tag':\n      case 'section':\n        content = <SectionItem {...this.props} />;\n        break;\n      case 'operation':\n        content = <OperationItem item={item as any} />;\n        break;\n      default:\n        content = <SectionItem {...this.props} />;\n    }\n\n    return (\n      <>\n        {content && (\n          <Section id={item.id} underlined={item.type === 'operation'}>\n            {content}\n          </Section>\n        )}\n        {item.items && <ContentItems items={item.items} />}\n      </>\n    );\n  }\n}\n\nconst middlePanelWrap = component => <MiddlePanel compact={true}>{component}</MiddlePanel>;\n\n@observer\nexport class SectionItem extends React.Component<ContentItemProps> {\n  render() {\n    const { name, description, externalDocs, level } = this.props.item as GroupModel;\n\n    const Header = level === 2 ? H2 : H1;\n    return (\n      <>\n        <Row>\n          <MiddlePanel compact={false}>\n            <Header>\n              <ShareLink to={this.props.item.id} />\n              {name}\n            </Header>\n          </MiddlePanel>\n        </Row>\n        <AdvancedMarkdown source={description || ''} htmlWrap={middlePanelWrap} />\n        {externalDocs && (\n          <Row>\n            <MiddlePanel>\n              <ExternalDocumentation externalDocs={externalDocs} />\n            </MiddlePanel>\n          </Row>\n        )}\n      </>\n    );\n  }\n}\n\n@observer\nexport class OperationItem extends React.Component<{\n  item: OperationModel;\n}> {\n  render() {\n    return <Operation operation={this.props.item} />;\n  }\n}\n","import { observer } from 'mobx-react';\nimport * as React from 'react';\n\nimport { ShelfIcon } from '../../common-elements/shelfs';\nimport { IMenuItem, OperationModel } from '../../services';\nimport { shortenHTTPVerb } from '../../utils/openapi';\nimport { MenuItems } from './MenuItems';\nimport { MenuItemLabel, MenuItemLi, MenuItemTitle, OperationBadge } from './styled.elements';\nimport { l } from '../../services/Labels';\nimport { scrollIntoViewIfNeeded } from '../../utils';\n\nexport interface MenuItemProps {\n  item: IMenuItem;\n  onActivate?: (item: IMenuItem) => void;\n  withoutChildren?: boolean;\n}\n\n@observer\nexport class MenuItem extends React.Component<MenuItemProps> {\n  ref = React.createRef<HTMLLabelElement>();\n\n  activate = (evt: React.MouseEvent<HTMLElement>) => {\n    this.props.onActivate!(this.props.item);\n    evt.stopPropagation();\n  };\n\n  componentDidMount() {\n    this.scrollIntoViewIfActive();\n  }\n\n  componentDidUpdate() {\n    this.scrollIntoViewIfActive();\n  }\n\n  scrollIntoViewIfActive() {\n    if (this.props.item.active && this.ref.current) {\n      scrollIntoViewIfNeeded(this.ref.current);\n    }\n  }\n\n  render() {\n    const { item, withoutChildren } = this.props;\n    return (\n      <MenuItemLi onClick={this.activate} depth={item.depth} data-item-id={item.id}>\n        {item.type === 'operation' ? (\n          <OperationMenuItemContent {...this.props} item={item as OperationModel} />\n        ) : (\n          <MenuItemLabel depth={item.depth} active={item.active} type={item.type} ref={this.ref}>\n            <MenuItemTitle title={item.sidebarLabel}>\n              {item.sidebarLabel}\n              {this.props.children}\n            </MenuItemTitle>\n            {(item.depth > 0 && item.items.length > 0 && (\n              <ShelfIcon float={'right'} direction={item.expanded ? 'down' : 'right'} />\n            )) ||\n              null}\n          </MenuItemLabel>\n        )}\n        {!withoutChildren && item.items && item.items.length > 0 && (\n          <MenuItems\n            expanded={item.expanded}\n            items={item.items}\n            onActivate={this.props.onActivate}\n          />\n        )}\n      </MenuItemLi>\n    );\n  }\n}\n\nexport interface OperationMenuItemContentProps {\n  item: OperationModel;\n}\n\n@observer\nexport class OperationMenuItemContent extends React.Component<OperationMenuItemContentProps> {\n  ref = React.createRef<HTMLLabelElement>();\n\n  componentDidUpdate() {\n    if (this.props.item.active && this.ref.current) {\n      scrollIntoViewIfNeeded(this.ref.current);\n    }\n  }\n\n  render() {\n    const { item } = this.props;\n    return (\n      <MenuItemLabel\n        depth={item.depth}\n        active={item.active}\n        deprecated={item.deprecated}\n        ref={this.ref}\n      >\n        {item.isWebhook ? (\n          <OperationBadge type=\"hook\">{l('webhook')}</OperationBadge>\n        ) : (\n          <OperationBadge type={item.httpVerb}>{shortenHTTPVerb(item.httpVerb)}</OperationBadge>\n        )}\n        <MenuItemTitle width=\"calc(100% - 38px)\">\n          {item.sidebarLabel}\n          {this.props.children}\n        </MenuItemTitle>\n      </MenuItemLabel>\n    );\n  }\n}\n","import { observer } from 'mobx-react';\nimport * as React from 'react';\n\nimport { IMenuItem } from '../../services';\n\nimport { MenuItem } from './MenuItem';\nimport { MenuItemUl } from './styled.elements';\n\nexport interface MenuItemsProps {\n  items: IMenuItem[];\n  expanded?: boolean;\n  onActivate?: (item: IMenuItem) => void;\n  style?: React.CSSProperties;\n  root?: boolean;\n\n  className?: string;\n}\n\n@observer\nexport class MenuItems extends React.Component<MenuItemsProps> {\n  render() {\n    const { items, root, className } = this.props;\n    const expanded = this.props.expanded == null ? true : this.props.expanded;\n    return (\n      <MenuItemUl\n        className={className}\n        style={this.props.style}\n        expanded={expanded}\n        {...(root ? { role: 'navigation' } : {})}\n      >\n        {items.map((item, idx) => (\n          <MenuItem key={idx} item={item} onActivate={this.props.onActivate} />\n        ))}\n      </MenuItemUl>\n    );\n  }\n}\n","import { observer } from 'mobx-react';\nimport * as React from 'react';\n\nimport { IMenuItem, MenuStore } from '../../services/MenuStore';\nimport { OptionsContext } from '../OptionsProvider';\nimport { MenuItems } from './MenuItems';\n\nimport { PerfectScrollbarWrap } from '../../common-elements/perfect-scrollbar';\nimport { RedocAttribution } from './styled.elements';\n\n@observer\nexport class SideMenu extends React.Component<{ menu: MenuStore; className?: string }> {\n  static contextType = OptionsContext;\n  private _updateScroll?: () => void;\n\n  render() {\n    const store = this.props.menu;\n    return (\n      <PerfectScrollbarWrap\n        updateFn={this.saveScrollUpdate}\n        className={this.props.className}\n        options={{\n          wheelPropagation: false,\n        }}\n      >\n        <MenuItems items={store.items} onActivate={this.activate} root={true} />\n        <RedocAttribution>\n          <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://github.com/Redocly/redoc\">\n            Documentation Powered by ReDoc\n          </a>\n        </RedocAttribution>\n      </PerfectScrollbarWrap>\n    );\n  }\n\n  activate = (item: IMenuItem) => {\n    if (item && item.active && this.context.menuToggle) {\n      return item.expanded ? item.collapse() : item.expand();\n    }\n    this.props.menu.activateAndScroll(item, true);\n    setTimeout(() => {\n      if (this._updateScroll) {\n        this._updateScroll();\n      }\n    });\n  };\n\n  private saveScrollUpdate = upd => {\n    this._updateScroll = upd;\n  };\n}\n","import * as React from 'react';\n\nimport styled from '../../styled-components';\n\nexport const AnimatedChevronButton = ({ open }: { open: boolean }) => {\n  const iconOffset = open ? 8 : -4;\n\n  return (\n    <ChevronContainer>\n      <ChevronSvg\n        size={15}\n        style={{\n          transform: `translate(2px, ${iconOffset}px) rotate(180deg)`,\n          transition: 'transform 0.2s ease',\n        }}\n      />\n      <ChevronSvg\n        size={15}\n        style={{\n          transform: `translate(2px, ${0 - iconOffset}px)`,\n          transition: 'transform 0.2s ease',\n        }}\n      />\n    </ChevronContainer>\n  );\n};\n\n// adapted from reactjs.org\nconst ChevronSvg = ({ size = 10, className = '', style }) => (\n  <svg\n    className={className}\n    style={style || {}}\n    viewBox=\"0 0 926.23699 573.74994\"\n    version=\"1.1\"\n    x=\"0px\"\n    y=\"0px\"\n    width={size}\n    height={size}\n  >\n    <g transform=\"translate(904.92214,-879.1482)\">\n      <path\n        d={`\n          m -673.67664,1221.6502 -231.2455,-231.24803 55.6165,\n          -55.627 c 30.5891,-30.59485 56.1806,-55.627 56.8701,-55.627 0.6894,\n          0 79.8637,78.60862 175.9427,174.68583 l 174.6892,174.6858 174.6892,\n          -174.6858 c 96.079,-96.07721 175.253196,-174.68583 175.942696,\n          -174.68583 0.6895,0 26.281,25.03215 56.8701,\n          55.627 l 55.6165,55.627 -231.245496,231.24803 c -127.185,127.1864\n          -231.5279,231.248 -231.873,231.248 -0.3451,0 -104.688,\n          -104.0616 -231.873,-231.248 z\n        `}\n        fill=\"currentColor\"\n      />\n    </g>\n  </svg>\n);\n\nconst ChevronContainer = styled.div`\n  user-select: none;\n  width: 20px;\n  height: 20px;\n  align-self: center;\n  display: flex;\n  flex-direction: column;\n  color: ${props => props.theme.colors.primary.main};\n`;\n","import { observer } from 'mobx-react';\nimport * as React from 'react';\n\nimport { MenuStore } from '../../services/MenuStore';\nimport { RedocNormalizedOptions, RedocRawOptions } from '../../services/RedocNormalizedOptions';\nimport styled, { media } from '../../styled-components';\nimport { IS_BROWSER } from '../../utils/index';\nimport { OptionsContext } from '../OptionsProvider';\nimport { AnimatedChevronButton } from './ChevronSvg';\n\nlet Stickyfill;\nif (IS_BROWSER) {\n  Stickyfill = require('stickyfill');\n}\n\nexport interface StickySidebarProps {\n  className?: string;\n  scrollYOffset?: RedocRawOptions['scrollYOffset']; // passed directly or via context\n  menu: MenuStore;\n}\n\nexport interface StickySidebarState {\n  offsetTop?: string;\n}\n\nconst stickyfill = Stickyfill && Stickyfill();\n\nconst StyledStickySidebar = styled.div<{ open?: boolean }>`\n  width: ${props => props.theme.sidebar.width};\n  background-color: ${props => props.theme.sidebar.backgroundColor};\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n\n  backface-visibility: hidden;\n  /* contain: strict; TODO: breaks layout since Chrome 80*/\n\n  height: 100vh;\n  position: sticky;\n  position: -webkit-sticky;\n  top: 0;\n\n  ${media.lessThan('small')`\n    position: fixed;\n    z-index: 20;\n    width: 100%;\n    background: ${({ theme }) => theme.sidebar.backgroundColor};\n    display: ${props => (props.open ? 'flex' : 'none')};\n  `};\n\n  @media print {\n    display: none;\n  }\n`;\n\nconst FloatingButton = styled.div`\n  outline: none;\n  user-select: none;\n  background-color: ${({ theme }) => theme.fab.backgroundColor};\n  color: ${props => props.theme.colors.primary.main};\n  display: none;\n  cursor: pointer;\n  position: fixed;\n  right: 20px;\n  z-index: 100;\n  border-radius: 50%;\n  box-shadow: 0 0 20px rgba(0, 0, 0, 0.3);\n  ${media.lessThan('small')`\n    display: flex;\n  `};\n\n  bottom: 44px;\n\n  width: 60px;\n  height: 60px;\n  padding: 0 20px;\n  svg {\n    color: ${({ theme }) => theme.fab.color};\n  }\n\n  @media print {\n    display: none;\n  }\n`;\n\n@observer\nexport class StickyResponsiveSidebar extends React.Component<\n  StickySidebarProps,\n  StickySidebarState\n> {\n  static contextType = OptionsContext;\n  context!: React.ContextType<typeof OptionsContext>;\n  state: StickySidebarState = { offsetTop: '0px' };\n\n  stickyElement: Element;\n\n  componentDidMount() {\n    if (stickyfill) {\n      stickyfill.add(this.stickyElement);\n    }\n\n    // rerender when hydrating from SSR\n    // see https://github.com/facebook/react/issues/8017#issuecomment-256351955\n    this.setState({\n      offsetTop: this.getScrollYOffset(this.context),\n    });\n  }\n\n  componentWillUnmount() {\n    if (stickyfill) {\n      stickyfill.remove(this.stickyElement);\n    }\n  }\n\n  getScrollYOffset(options: RedocNormalizedOptions) {\n    let top;\n    if (this.props.scrollYOffset !== undefined) {\n      top = RedocNormalizedOptions.normalizeScrollYOffset(this.props.scrollYOffset)();\n    } else {\n      top = options.scrollYOffset();\n    }\n    return top + 'px';\n  }\n\n  render() {\n    const open = this.props.menu.sideBarOpened;\n\n    const top = this.state.offsetTop;\n\n    return (\n      <>\n        <StyledStickySidebar\n          open={open}\n          className={this.props.className}\n          style={{\n            top,\n            height: `calc(100vh - ${top})`,\n          }}\n          // tslint:disable-next-line\n          ref={el => {\n            this.stickyElement = el as any;\n          }}\n        >\n          {this.props.children}\n        </StyledStickySidebar>\n        {!this.context.hideFab && (\n          <FloatingButton onClick={this.toggleNavMenu}>\n            <AnimatedChevronButton open={open} />\n          </FloatingButton>\n        )}\n      </>\n    );\n  }\n\n  private toggleNavMenu = () => {\n    this.props.menu.toggleSidebar();\n  };\n}\n","import styled, { media } from '../../styled-components';\n\nexport const RedocWrap = styled.div`\n  ${({ theme }) => `\n  font-family: ${theme.typography.fontFamily};\n  font-size: ${theme.typography.fontSize};\n  font-weight: ${theme.typography.fontWeightRegular};\n  line-height: ${theme.typography.lineHeight};\n  color: ${theme.colors.text.primary};\n  display: flex;\n  position: relative;\n  text-align: left;\n\n  -webkit-font-smoothing: ${theme.typography.smoothing};\n  font-smoothing: ${theme.typography.smoothing};\n  ${(theme.typography.optimizeSpeed && 'text-rendering: optimizeSpeed !important') || ''};\n\n  tap-highlight-color: rgba(0, 0, 0, 0);\n  text-size-adjust: 100%;\n\n  * {\n    box-sizing: border-box;\n    -webkit-tap-highlight-color: rgba(255, 255, 255, 0);\n  }\n`};\n`;\n\nexport const ApiContentWrap = styled.div`\n  z-index: 1;\n  position: relative;\n  overflow: hidden;\n  width: calc(100% - ${props => props.theme.sidebar.width});\n  ${media.lessThan('small', true)`\n    width: 100%;\n  `};\n\n  contain: layout;\n`;\n\nexport const BackgroundStub = styled.div`\n  background: ${({ theme }) => theme.rightPanel.backgroundColor};\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  width: ${({ theme }) => {\n    if (theme.rightPanel.width.endsWith('%')) {\n      const percents = parseInt(theme.rightPanel.width, 10);\n      return `calc((100% - ${theme.sidebar.width}) * ${percents / 100})`;\n    } else {\n      return theme.rightPanel.width;\n    }\n  }};\n  ${media.lessThan('medium', true)`\n    display: none;\n  `};\n`;\n","import * as React from 'react';\n\nimport { darken, getLuminance, lighten } from 'polished';\nimport styled from '../../styled-components';\nimport { MenuItemLabel } from '../SideMenu/styled.elements';\n\nexport const SearchWrap = styled.div`\n  padding: 5px 0;\n`;\n\nexport const SearchInput = styled.input.attrs(() => ({\n  className: 'search-input',\n}))`\n  width: calc(100% - ${props => props.theme.spacing.unit * 8}px);\n  box-sizing: border-box;\n  margin: 0 ${props => props.theme.spacing.unit * 4}px;\n  padding: 5px ${props => props.theme.spacing.unit * 2}px 5px\n    ${props => props.theme.spacing.unit * 4}px;\n  border: 0;\n  border-bottom: 1px solid\n    ${({ theme }) =>\n      (getLuminance(theme.sidebar.backgroundColor) > 0.5 ? darken : lighten)(\n        0.1,\n        theme.sidebar.backgroundColor,\n      )};\n  font-family: ${({ theme }) => theme.typography.fontFamily};\n  font-weight: bold;\n  font-size: 13px;\n  color: ${props => props.theme.sidebar.textColor};\n  background-color: transparent;\n  outline: none;\n`;\n\nexport const SearchIcon = styled((props: { className?: string }) => (\n  <svg\n    className={props.className}\n    version=\"1.1\"\n    viewBox=\"0 0 1000 1000\"\n    x=\"0px\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    y=\"0px\"\n  >\n    <path d=\"M968.2,849.4L667.3,549c83.9-136.5,66.7-317.4-51.7-435.6C477.1-25,252.5-25,113.9,113.4c-138.5,138.3-138.5,362.6,0,501C219.2,730.1,413.2,743,547.6,666.5l301.9,301.4c43.6,43.6,76.9,14.9,104.2-12.4C981,928.3,1011.8,893,968.2,849.4z M524.5,522c-88.9,88.7-233,88.7-321.8,0c-88.9-88.7-88.9-232.6,0-321.3c88.9-88.7,233-88.7,321.8,0C613.4,289.4,613.4,433.3,524.5,522z\" />\n  </svg>\n)).attrs({\n  className: 'search-icon',\n})`\n  position: absolute;\n  left: ${props => props.theme.spacing.unit * 4}px;\n  height: 1.8em;\n  width: 0.9em;\n\n  path {\n    fill: ${props => props.theme.sidebar.textColor};\n  }\n`;\n\nexport const SearchResultsBox = styled.div`\n  padding: ${props => props.theme.spacing.unit}px 0;\n  background-color: ${({ theme }) => darken(0.05, theme.sidebar.backgroundColor)}};\n  color: ${props => props.theme.sidebar.textColor};\n  min-height: 150px;\n  max-height: 250px;\n  border-top: ${({ theme }) => darken(0.1, theme.sidebar.backgroundColor)}};\n  border-bottom: ${({ theme }) => darken(0.1, theme.sidebar.backgroundColor)}};\n  margin-top: 10px;\n  line-height: 1.4;\n  font-size: 0.9em;\n  \n  li {\n    background-color: inherit;\n  }\n\n  ${MenuItemLabel} {\n    padding-top: 6px;\n    padding-bottom: 6px;\n\n    &:hover,\n    &.active {\n      background-color: ${({ theme }) => darken(0.1, theme.sidebar.backgroundColor)};\n    }\n\n    > svg {\n      display: none;\n    }\n  }\n`;\n\nexport const ClearIcon = styled.i`\n  position: absolute;\n  display: inline-block;\n  width: ${props => props.theme.spacing.unit * 2}px;\n  text-align: center;\n  right: ${props => props.theme.spacing.unit * 4}px;\n  line-height: 2em;\n  vertical-align: middle;\n  margin-right: 2px;\n  cursor: pointer;\n  font-style: normal;\n  color: '#666';\n`;\n","import * as React from 'react';\n\nimport { IMenuItem } from '../../services/MenuStore';\nimport { SearchStore } from '../../services/SearchStore';\nimport { MenuItem } from '../SideMenu/MenuItem';\n\nimport { MarkerService } from '../../services/MarkerService';\nimport { SearchResult } from '../../services/SearchWorker.worker';\n\nimport { bind, debounce } from 'decko';\nimport { PerfectScrollbarWrap } from '../../common-elements/perfect-scrollbar';\nimport {\n  ClearIcon,\n  SearchIcon,\n  SearchInput,\n  SearchResultsBox,\n  SearchWrap,\n} from './styled.elements';\nimport { l } from '../../services/Labels';\n\nexport interface SearchBoxProps {\n  search: SearchStore<string>;\n  marker: MarkerService;\n  getItemById: (id: string) => IMenuItem | undefined;\n  onActivate: (item: IMenuItem) => void;\n\n  className?: string;\n}\n\nexport interface SearchBoxState {\n  results: SearchResult[];\n  noResults: boolean;\n  term: string;\n  activeItemIdx: number;\n}\n\nexport class SearchBox extends React.PureComponent<SearchBoxProps, SearchBoxState> {\n  activeItemRef: MenuItem | null = null;\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      results: [],\n      noResults: false,\n      term: '',\n      activeItemIdx: -1,\n    };\n  }\n\n  clearResults(term: string) {\n    this.setState({\n      results: [],\n      noResults: false,\n      term,\n    });\n    this.props.marker.unmark();\n  }\n\n  clear = () => {\n    this.setState({\n      results: [],\n      noResults: false,\n      term: '',\n      activeItemIdx: -1,\n    });\n    this.props.marker.unmark();\n  };\n\n  handleKeyDown = (event: React.KeyboardEvent<HTMLInputElement>) => {\n    if (event.keyCode === 27) {\n      // ESQ\n      this.clear();\n    }\n    if (event.keyCode === 40) {\n      // Arrow down\n      this.setState({\n        activeItemIdx: Math.min(this.state.activeItemIdx + 1, this.state.results.length - 1),\n      });\n      event.preventDefault();\n    }\n    if (event.keyCode === 38) {\n      // Arrow up\n      this.setState({\n        activeItemIdx: Math.max(0, this.state.activeItemIdx - 1),\n      });\n      event.preventDefault();\n    }\n    if (event.keyCode === 13) {\n      // enter\n      const activeResult = this.state.results[this.state.activeItemIdx];\n      if (activeResult) {\n        const item = this.props.getItemById(activeResult.meta);\n        if (item) {\n          this.props.onActivate(item);\n        }\n      }\n    }\n  };\n\n  setResults(results: SearchResult[], term: string) {\n    this.setState({\n      results,\n      noResults: results.length === 0,\n    });\n    this.props.marker.mark(term);\n  }\n\n  @bind\n  @debounce(400)\n  searchCallback(searchTerm: string) {\n    this.props.search.search(searchTerm).then(res => {\n      this.setResults(res, searchTerm);\n    });\n  }\n\n  search = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const q = event.target.value;\n    if (q.length < 3) {\n      this.clearResults(q);\n      return;\n    }\n\n    this.setState(\n      {\n        term: q,\n      },\n      () => this.searchCallback(this.state.term),\n    );\n  };\n\n  render() {\n    const { activeItemIdx } = this.state;\n    const results = this.state.results.map(res => ({\n      item: this.props.getItemById(res.meta)!,\n      score: res.score,\n    }));\n\n    results.sort((a, b) => b.score - a.score);\n\n    return (\n      <SearchWrap role=\"search\">\n        {this.state.term && <ClearIcon onClick={this.clear}>×</ClearIcon>}\n        <SearchIcon />\n        <SearchInput\n          value={this.state.term}\n          onKeyDown={this.handleKeyDown}\n          placeholder=\"Search...\"\n          aria-label=\"Search\"\n          type=\"text\"\n          onChange={this.search}\n        />\n        {results.length > 0 && (\n          <PerfectScrollbarWrap\n            options={{\n              wheelPropagation: false,\n            }}\n          >\n            <SearchResultsBox data-role=\"search:results\">\n              {results.map((res, idx) => (\n                <MenuItem\n                  item={Object.create(res.item, {\n                    active: {\n                      value: idx === activeItemIdx,\n                    },\n                  })}\n                  onActivate={this.props.onActivate}\n                  withoutChildren={true}\n                  key={res.item.id}\n                  data-role=\"search:result\"\n                />\n              ))}\n            </SearchResultsBox>\n          </PerfectScrollbarWrap>\n        )}\n        {this.state.term && this.state.noResults ? (\n          <SearchResultsBox data-role=\"search:results\">{l('noResultsFound')}</SearchResultsBox>\n        ) : null}\n      </SearchWrap>\n    );\n  }\n}\n","import * as PropTypes from 'prop-types';\nimport * as React from 'react';\n\nimport { ThemeProvider } from '../../styled-components';\nimport { OptionsProvider } from '../OptionsProvider';\n\nimport { AppStore } from '../../services';\nimport { ApiInfo } from '../ApiInfo/';\nimport { ApiLogo } from '../ApiLogo/ApiLogo';\nimport { ContentItems } from '../ContentItems/ContentItems';\nimport { SideMenu } from '../SideMenu/SideMenu';\nimport { StickyResponsiveSidebar } from '../StickySidebar/StickyResponsiveSidebar';\nimport { ApiContentWrap, BackgroundStub, RedocWrap } from './styled.elements';\n\nimport { SearchBox } from '../SearchBox/SearchBox';\nimport { StoreProvider } from '../StoreBuilder';\n\nexport interface RedocProps {\n  store: AppStore;\n}\n\nexport class Redoc extends React.Component<RedocProps> {\n  static propTypes = {\n    store: PropTypes.instanceOf(AppStore).isRequired,\n  };\n\n  componentDidMount() {\n    this.props.store.onDidMount();\n  }\n\n  componentWillUnmount() {\n    this.props.store.dispose();\n  }\n\n  render() {\n    const {\n      store: { spec, menu, options, search, marker },\n    } = this.props;\n    const store = this.props.store;\n    return (\n      <ThemeProvider theme={options.theme}>\n        <StoreProvider value={store}>\n          <OptionsProvider value={options}>\n            <RedocWrap className=\"redoc-wrap\">\n              <StickyResponsiveSidebar menu={menu} className=\"menu-content\">\n                <ApiLogo info={spec.info} />\n                {(!options.disableSearch && (\n                  <SearchBox\n                    search={search!}\n                    marker={marker}\n                    getItemById={menu.getItemById}\n                    onActivate={menu.activateAndScroll}\n                  />\n                )) ||\n                  null}\n                <SideMenu menu={menu} />\n              </StickyResponsiveSidebar>\n              <ApiContentWrap className=\"api-content\">\n                <ApiInfo store={store} />\n                <ContentItems items={menu.items as any} />\n              </ApiContentWrap>\n              <BackgroundStub />\n            </RedocWrap>\n          </OptionsProvider>\n        </StoreProvider>\n      </ThemeProvider>\n    );\n  }\n}\n","import * as React from 'react';\n\nimport {\n  argValueToBoolean,\n  RedocNormalizedOptions,\n  RedocRawOptions,\n} from '../services/RedocNormalizedOptions';\nimport { ErrorBoundary } from './ErrorBoundary';\nimport { Loading } from './Loading/Loading';\nimport { Redoc } from './Redoc/Redoc';\nimport { StoreBuilder } from './StoreBuilder';\n\nexport interface RedocStandaloneProps {\n  spec?: object;\n  specUrl?: string;\n  options?: RedocRawOptions;\n  onLoaded?: (e?: Error) => any;\n}\n\nexport const RedocStandalone = function (props: RedocStandaloneProps) {\n  const { spec, specUrl, options = {}, onLoaded } = props;\n  const hideLoading = argValueToBoolean(options.hideLoading, false);\n\n  const normalizedOpts = new RedocNormalizedOptions(options);\n\n  return (\n    <ErrorBoundary>\n      <StoreBuilder spec={spec} specUrl={specUrl} options={options} onLoaded={onLoaded}>\n        {({ loading, store }) =>\n          !loading ? (\n            <Redoc store={store!} />\n          ) : hideLoading ? null : (\n            <Loading color={normalizedOpts.theme.colors.primary.main} />\n          )\n        }\n      </StoreBuilder>\n    </ErrorBoundary>\n  );\n};\n"],"sourceRoot":""}